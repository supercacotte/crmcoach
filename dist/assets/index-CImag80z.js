(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(l){if(l.ep)return;l.ep=!0;const a=r(l);fetch(l.href,a)}})();function yu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sc={exports:{}},Gn={},rc={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _r=Symbol.for("react.element"),vu=Symbol.for("react.portal"),ju=Symbol.for("react.fragment"),bu=Symbol.for("react.strict_mode"),Nu=Symbol.for("react.profiler"),wu=Symbol.for("react.provider"),ku=Symbol.for("react.context"),Cu=Symbol.for("react.forward_ref"),Su=Symbol.for("react.suspense"),Du=Symbol.for("react.memo"),Pu=Symbol.for("react.lazy"),Ri=Symbol.iterator;function Mu(e){return e===null||typeof e!="object"?null:(e=Ri&&e[Ri]||e["@@iterator"],typeof e=="function"?e:null)}var nc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lc=Object.assign,ac={};function Us(e,t,r){this.props=e,this.context=t,this.refs=ac,this.updater=r||nc}Us.prototype.isReactComponent={};Us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ic(){}ic.prototype=Us.prototype;function za(e,t,r){this.props=e,this.context=t,this.refs=ac,this.updater=r||nc}var $a=za.prototype=new ic;$a.constructor=za;lc($a,Us.prototype);$a.isPureReactComponent=!0;var Fi=Array.isArray,oc=Object.prototype.hasOwnProperty,Oa={current:null},cc={key:!0,ref:!0,__self:!0,__source:!0};function dc(e,t,r){var n,l={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)oc.call(t,n)&&!cc.hasOwnProperty(n)&&(l[n]=t[n]);var o=arguments.length-2;if(o===1)l.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)l[n]===void 0&&(l[n]=o[n]);return{$$typeof:_r,type:e,key:a,ref:i,props:l,_owner:Oa.current}}function Eu(e,t){return{$$typeof:_r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Va(e){return typeof e=="object"&&e!==null&&e.$$typeof===_r}function Iu(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zi=/\/+/g;function xl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Iu(""+e.key):t.toString(36)}function nn(e,t,r,n,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case _r:case vu:i=!0}}if(i)return i=e,l=l(i),e=n===""?"."+xl(i,0):n,Fi(l)?(r="",e!=null&&(r=e.replace(zi,"$&/")+"/"),nn(l,t,r,"",function(u){return u})):l!=null&&(Va(l)&&(l=Eu(l,r+(!l.key||i&&i.key===l.key?"":(""+l.key).replace(zi,"$&/")+"/")+e)),t.push(l)),1;if(i=0,n=n===""?".":n+":",Fi(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+xl(a,o);i+=nn(a,t,r,c,l)}else if(c=Mu(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+xl(a,o++),i+=nn(a,t,r,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Vr(e,t,r){if(e==null)return e;var n=[],l=0;return nn(e,n,"","",function(a){return t.call(r,a,l++)}),n}function Lu(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ae={current:null},ln={transition:null},Tu={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ln,ReactCurrentOwner:Oa};function uc(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Vr,forEach:function(e,t,r){Vr(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vr(e,function(){t++}),t},toArray:function(e){return Vr(e,function(t){return t})||[]},only:function(e){if(!Va(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Us;Q.Fragment=ju;Q.Profiler=Nu;Q.PureComponent=za;Q.StrictMode=bu;Q.Suspense=Su;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tu;Q.act=uc;Q.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=lc({},e.props),l=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Oa.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)oc.call(t,c)&&!cc.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:_r,type:e.type,key:l,ref:a,props:n,_owner:i}};Q.createContext=function(e){return e={$$typeof:ku,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wu,_context:e},e.Consumer=e};Q.createElement=dc;Q.createFactory=function(e){var t=dc.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:Cu,render:e}};Q.isValidElement=Va;Q.lazy=function(e){return{$$typeof:Pu,_payload:{_status:-1,_result:e},_init:Lu}};Q.memo=function(e,t){return{$$typeof:Du,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=ln.transition;ln.transition={};try{e()}finally{ln.transition=t}};Q.unstable_act=uc;Q.useCallback=function(e,t){return Ae.current.useCallback(e,t)};Q.useContext=function(e){return Ae.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Ae.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Ae.current.useEffect(e,t)};Q.useId=function(){return Ae.current.useId()};Q.useImperativeHandle=function(e,t,r){return Ae.current.useImperativeHandle(e,t,r)};Q.useInsertionEffect=function(e,t){return Ae.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Ae.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Ae.current.useMemo(e,t)};Q.useReducer=function(e,t,r){return Ae.current.useReducer(e,t,r)};Q.useRef=function(e){return Ae.current.useRef(e)};Q.useState=function(e){return Ae.current.useState(e)};Q.useSyncExternalStore=function(e,t,r){return Ae.current.useSyncExternalStore(e,t,r)};Q.useTransition=function(){return Ae.current.useTransition()};Q.version="18.3.1";rc.exports=Q;var P=rc.exports;const Kn=yu(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=P,_u=Symbol.for("react.element"),Ru=Symbol.for("react.fragment"),Fu=Object.prototype.hasOwnProperty,zu=Au.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$u={key:!0,ref:!0,__self:!0,__source:!0};function mc(e,t,r){var n,l={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Fu.call(t,n)&&!$u.hasOwnProperty(n)&&(l[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)l[n]===void 0&&(l[n]=t[n]);return{$$typeof:_u,type:e,key:a,ref:i,props:l,_owner:zu.current}}Gn.Fragment=Ru;Gn.jsx=mc;Gn.jsxs=mc;sc.exports=Gn;var s=sc.exports,xc={exports:{}},Xe={},hc={exports:{}},pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,N){var T=L.length;L.push(N);e:for(;0<T;){var j=T-1>>>1,z=L[j];if(0<l(z,N))L[j]=N,L[T]=z,T=j;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var N=L[0],T=L.pop();if(T!==N){L[0]=T;e:for(var j=0,z=L.length,J=z>>>1;j<J;){var te=2*(j+1)-1,xe=L[te],v=te+1,F=L[v];if(0>l(xe,T))v<z&&0>l(F,xe)?(L[j]=F,L[v]=T,j=v):(L[j]=xe,L[te]=T,j=te);else if(v<z&&0>l(F,T))L[j]=F,L[v]=T,j=v;else break e}}return N}function l(L,N){var T=L.sortIndex-N.sortIndex;return T!==0?T:L.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],h=1,p=null,y=3,b=!1,S=!1,D=!1,A=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var N=r(u);N!==null;){if(N.callback===null)n(u);else if(N.startTime<=L)n(u),N.sortIndex=N.expirationTime,t(c,N);else break;N=r(u)}}function w(L){if(D=!1,x(L),!S)if(r(c)!==null)S=!0,re(I);else{var N=r(u);N!==null&&R(w,N.startTime-L)}}function I(L,N){S=!1,D&&(D=!1,m(E),E=-1),b=!0;var T=y;try{for(x(N),p=r(c);p!==null&&(!(p.expirationTime>N)||L&&!H());){var j=p.callback;if(typeof j=="function"){p.callback=null,y=p.priorityLevel;var z=j(p.expirationTime<=N);N=e.unstable_now(),typeof z=="function"?p.callback=z:p===r(c)&&n(c),x(N)}else n(c);p=r(c)}if(p!==null)var J=!0;else{var te=r(u);te!==null&&R(w,te.startTime-N),J=!1}return J}finally{p=null,y=T,b=!1}}var g=!1,f=null,E=-1,M=5,k=-1;function H(){return!(e.unstable_now()-k<M)}function B(){if(f!==null){var L=e.unstable_now();k=L;var N=!0;try{N=f(!0,L)}finally{N?X():(g=!1,f=null)}}else g=!1}var X;if(typeof d=="function")X=function(){d(B)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ie=Z.port2;Z.port1.onmessage=B,X=function(){ie.postMessage(null)}}else X=function(){A(B,0)};function re(L){f=L,g||(g=!0,X())}function R(L,N){E=A(function(){L(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){S||b||(S=!0,re(I))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(y){case 1:case 2:case 3:var N=3;break;default:N=y}var T=y;y=N;try{return L()}finally{y=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,N){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var T=y;y=L;try{return N()}finally{y=T}},e.unstable_scheduleCallback=function(L,N,T){var j=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?j+T:j):T=j,L){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=T+z,L={id:h++,callback:N,priorityLevel:L,startTime:T,expirationTime:z,sortIndex:-1},T>j?(L.sortIndex=T,t(u,L),r(c)===null&&L===r(u)&&(D?(m(E),E=-1):D=!0,R(w,T-j))):(L.sortIndex=z,t(c,L),S||b||(S=!0,re(I))),L},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(L){var N=y;return function(){var T=y;y=N;try{return L.apply(this,arguments)}finally{y=T}}}})(pc);hc.exports=pc;var Ou=hc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vu=P,Ye=Ou;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fc=new Set,fr={};function ps(e,t){Fs(e,t),Fs(e+"Capture",t)}function Fs(e,t){for(fr[e]=t,e=0;e<t.length;e++)fc.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hl=Object.prototype.hasOwnProperty,Bu=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$i={},Oi={};function Hu(e){return Hl.call(Oi,e)?!0:Hl.call($i,e)?!1:Bu.test(e)?Oi[e]=!0:($i[e]=!0,!1)}function Uu(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qu(e,t,r,n){if(t===null||typeof t>"u"||Uu(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function _e(e,t,r,n,l,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=l,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new _e(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new _e(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new _e(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new _e(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new _e(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new _e(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new _e(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new _e(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new _e(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ba=/[\-:]([a-z])/g;function Ha(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ba,Ha);ke[t]=new _e(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ba,Ha);ke[t]=new _e(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ba,Ha);ke[t]=new _e(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new _e(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new _e(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ua(e,t,r,n){var l=ke.hasOwnProperty(t)?ke[t]:null;(l!==null?l.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qu(t,r,l,n)&&(r=null),n||l===null?Hu(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):l.mustUseProperty?e[l.propertyName]=r===null?l.type===3?!1:"":r:(t=l.attributeName,n=l.attributeNamespace,r===null?e.removeAttribute(t):(l=l.type,r=l===3||l===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Tt=Vu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Br=Symbol.for("react.element"),ys=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),qa=Symbol.for("react.strict_mode"),Ul=Symbol.for("react.profiler"),gc=Symbol.for("react.provider"),yc=Symbol.for("react.context"),Wa=Symbol.for("react.forward_ref"),ql=Symbol.for("react.suspense"),Wl=Symbol.for("react.suspense_list"),Qa=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),vc=Symbol.for("react.offscreen"),Vi=Symbol.iterator;function Qs(e){return e===null||typeof e!="object"?null:(e=Vi&&e[Vi]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,hl;function tr(e){if(hl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hl=t&&t[1]||""}return`
`+hl+e}var pl=!1;function fl(e,t){if(!e||pl)return"";pl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=n.stack.split(`
`),i=l.length-1,o=a.length-1;1<=i&&0<=o&&l[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(l[i]!==a[o]){if(i!==1||o!==1)do if(i--,o--,0>o||l[i]!==a[o]){var c=`
`+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{pl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?tr(e):""}function Wu(e){switch(e.tag){case 5:return tr(e.type);case 16:return tr("Lazy");case 13:return tr("Suspense");case 19:return tr("SuspenseList");case 0:case 2:case 15:return e=fl(e.type,!1),e;case 11:return e=fl(e.type.render,!1),e;case 1:return e=fl(e.type,!0),e;default:return""}}function Ql(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vs:return"Fragment";case ys:return"Portal";case Ul:return"Profiler";case qa:return"StrictMode";case ql:return"Suspense";case Wl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yc:return(e.displayName||"Context")+".Consumer";case gc:return(e._context.displayName||"Context")+".Provider";case Wa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qa:return t=e.displayName||null,t!==null?t:Ql(e.type)||"Memo";case _t:t=e._payload,e=e._init;try{return Ql(e(t))}catch{}}return null}function Qu(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ql(t);case 8:return t===qa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Gu(e){var t=jc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var l=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hr(e){e._valueTracker||(e._valueTracker=Gu(e))}function bc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=jc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function gn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gl(e,t){var r=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Bi(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nc(e,t){t=t.checked,t!=null&&Ua(e,"checked",t,!1)}function Kl(e,t){Nc(e,t);var r=Yt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Yl(e,t.type,Yt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Hi(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Yl(e,t,r){(t!=="number"||gn(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sr=Array.isArray;function Es(e,t,r,n){if(e=e.options,t){t={};for(var l=0;l<r.length;l++)t["$"+r[l]]=!0;for(r=0;r<e.length;r++)l=t.hasOwnProperty("$"+e[r].value),e[r].selected!==l&&(e[r].selected=l),l&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yt(r),t=null,l=0;l<e.length;l++){if(e[l].value===r){e[l].selected=!0,n&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Xl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ui(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_(92));if(sr(r)){if(1<r.length)throw Error(_(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yt(r)}}function wc(e,t){var r=Yt(t.value),n=Yt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function qi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ur,Cc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,l){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ur=Ur||document.createElement("div"),Ur.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ur.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ku=["Webkit","ms","Moz","O"];Object.keys(ar).forEach(function(e){Ku.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});function Sc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ar.hasOwnProperty(e)&&ar[e]?(""+t).trim():t+"px"}function Dc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,l=Sc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,l):e[r]=l}}var Yu=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jl(e,t){if(t){if(Yu[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function ea(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ta=null;function Ga(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sa=null,Is=null,Ls=null;function Wi(e){if(e=zr(e)){if(typeof sa!="function")throw Error(_(280));var t=e.stateNode;t&&(t=el(t),sa(e.stateNode,e.type,t))}}function Pc(e){Is?Ls?Ls.push(e):Ls=[e]:Is=e}function Mc(){if(Is){var e=Is,t=Ls;if(Ls=Is=null,Wi(e),t)for(e=0;e<t.length;e++)Wi(t[e])}}function Ec(e,t){return e(t)}function Ic(){}var gl=!1;function Lc(e,t,r){if(gl)return e(t,r);gl=!0;try{return Ec(e,t,r)}finally{gl=!1,(Is!==null||Ls!==null)&&(Ic(),Mc())}}function yr(e,t){var r=e.stateNode;if(r===null)return null;var n=el(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_(231,t,typeof r));return r}var ra=!1;if(Mt)try{var Gs={};Object.defineProperty(Gs,"passive",{get:function(){ra=!0}}),window.addEventListener("test",Gs,Gs),window.removeEventListener("test",Gs,Gs)}catch{ra=!1}function Xu(e,t,r,n,l,a,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var ir=!1,yn=null,vn=!1,na=null,Zu={onError:function(e){ir=!0,yn=e}};function Ju(e,t,r,n,l,a,i,o,c){ir=!1,yn=null,Xu.apply(Zu,arguments)}function em(e,t,r,n,l,a,i,o,c){if(Ju.apply(this,arguments),ir){if(ir){var u=yn;ir=!1,yn=null}else throw Error(_(198));vn||(vn=!0,na=u)}}function fs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Tc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qi(e){if(fs(e)!==e)throw Error(_(188))}function tm(e){var t=e.alternate;if(!t){if(t=fs(e),t===null)throw Error(_(188));return t!==e?null:e}for(var r=e,n=t;;){var l=r.return;if(l===null)break;var a=l.alternate;if(a===null){if(n=l.return,n!==null){r=n;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===r)return Qi(l),e;if(a===n)return Qi(l),t;a=a.sibling}throw Error(_(188))}if(r.return!==n.return)r=l,n=a;else{for(var i=!1,o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i){for(o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i)throw Error(_(189))}}if(r.alternate!==n)throw Error(_(190))}if(r.tag!==3)throw Error(_(188));return r.stateNode.current===r?e:t}function Ac(e){return e=tm(e),e!==null?_c(e):null}function _c(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_c(e);if(t!==null)return t;e=e.sibling}return null}var Rc=Ye.unstable_scheduleCallback,Gi=Ye.unstable_cancelCallback,sm=Ye.unstable_shouldYield,rm=Ye.unstable_requestPaint,he=Ye.unstable_now,nm=Ye.unstable_getCurrentPriorityLevel,Ka=Ye.unstable_ImmediatePriority,Fc=Ye.unstable_UserBlockingPriority,jn=Ye.unstable_NormalPriority,lm=Ye.unstable_LowPriority,zc=Ye.unstable_IdlePriority,Yn=null,jt=null;function am(e){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Yn,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:cm,im=Math.log,om=Math.LN2;function cm(e){return e>>>=0,e===0?32:31-(im(e)/om|0)|0}var qr=64,Wr=4194304;function rr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bn(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,l=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~l;o!==0?n=rr(o):(a&=i,a!==0&&(n=rr(a)))}else i=r&~l,i!==0?n=rr(i):a!==0&&(n=rr(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&l)&&(l=n&-n,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mt(t),l=1<<r,n|=e[r],t&=~l;return n}function dm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function um(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-mt(a),o=1<<i,c=l[i];c===-1?(!(o&r)||o&n)&&(l[i]=dm(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function la(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $c(){var e=qr;return qr<<=1,!(qr&4194240)&&(qr=64),e}function yl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Rr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=r}function mm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var l=31-mt(r),a=1<<l;t[l]=0,n[l]=-1,e[l]=-1,r&=~a}}function Ya(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mt(r),l=1<<n;l&t|e[n]&t&&(e[n]|=t),r&=~l}}var ee=0;function Oc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Vc,Xa,Bc,Hc,Uc,aa=!1,Qr=[],Bt=null,Ht=null,Ut=null,vr=new Map,jr=new Map,Ft=[],xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ki(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":vr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(t.pointerId)}}function Ks(e,t,r,n,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[l]},t!==null&&(t=zr(t),t!==null&&Xa(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function hm(e,t,r,n,l){switch(t){case"focusin":return Bt=Ks(Bt,e,t,r,n,l),!0;case"dragenter":return Ht=Ks(Ht,e,t,r,n,l),!0;case"mouseover":return Ut=Ks(Ut,e,t,r,n,l),!0;case"pointerover":var a=l.pointerId;return vr.set(a,Ks(vr.get(a)||null,e,t,r,n,l)),!0;case"gotpointercapture":return a=l.pointerId,jr.set(a,Ks(jr.get(a)||null,e,t,r,n,l)),!0}return!1}function qc(e){var t=ls(e.target);if(t!==null){var r=fs(t);if(r!==null){if(t=r.tag,t===13){if(t=Tc(r),t!==null){e.blockedOn=t,Uc(e.priority,function(){Bc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function an(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ia(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ta=n,r.target.dispatchEvent(n),ta=null}else return t=zr(r),t!==null&&Xa(t),e.blockedOn=r,!1;t.shift()}return!0}function Yi(e,t,r){an(e)&&r.delete(t)}function pm(){aa=!1,Bt!==null&&an(Bt)&&(Bt=null),Ht!==null&&an(Ht)&&(Ht=null),Ut!==null&&an(Ut)&&(Ut=null),vr.forEach(Yi),jr.forEach(Yi)}function Ys(e,t){e.blockedOn===t&&(e.blockedOn=null,aa||(aa=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,pm)))}function br(e){function t(l){return Ys(l,e)}if(0<Qr.length){Ys(Qr[0],e);for(var r=1;r<Qr.length;r++){var n=Qr[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bt!==null&&Ys(Bt,e),Ht!==null&&Ys(Ht,e),Ut!==null&&Ys(Ut,e),vr.forEach(t),jr.forEach(t),r=0;r<Ft.length;r++)n=Ft[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ft.length&&(r=Ft[0],r.blockedOn===null);)qc(r),r.blockedOn===null&&Ft.shift()}var Ts=Tt.ReactCurrentBatchConfig,Nn=!0;function fm(e,t,r,n){var l=ee,a=Ts.transition;Ts.transition=null;try{ee=1,Za(e,t,r,n)}finally{ee=l,Ts.transition=a}}function gm(e,t,r,n){var l=ee,a=Ts.transition;Ts.transition=null;try{ee=4,Za(e,t,r,n)}finally{ee=l,Ts.transition=a}}function Za(e,t,r,n){if(Nn){var l=ia(e,t,r,n);if(l===null)Pl(e,t,n,wn,r),Ki(e,n);else if(hm(l,e,t,r,n))n.stopPropagation();else if(Ki(e,n),t&4&&-1<xm.indexOf(e)){for(;l!==null;){var a=zr(l);if(a!==null&&Vc(a),a=ia(e,t,r,n),a===null&&Pl(e,t,n,wn,r),a===l)break;l=a}l!==null&&n.stopPropagation()}else Pl(e,t,n,null,r)}}var wn=null;function ia(e,t,r,n){if(wn=null,e=Ga(n),e=ls(e),e!==null)if(t=fs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Tc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wn=e,null}function Wc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nm()){case Ka:return 1;case Fc:return 4;case jn:case lm:return 16;case zc:return 536870912;default:return 16}default:return 16}}var $t=null,Ja=null,on=null;function Qc(){if(on)return on;var e,t=Ja,r=t.length,n,l="value"in $t?$t.value:$t.textContent,a=l.length;for(e=0;e<r&&t[e]===l[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===l[a-n];n++);return on=l.slice(e,1<n?1-n:void 0)}function cn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gr(){return!0}function Xi(){return!1}function Ze(e){function t(r,n,l,a,i){this._reactName=r,this._targetInst=l,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Gr:Xi,this.isPropagationStopped=Xi,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),t}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ei=Ze(qs),Fr=ue({},qs,{view:0,detail:0}),ym=Ze(Fr),vl,jl,Xs,Xn=ue({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ti,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xs&&(Xs&&e.type==="mousemove"?(vl=e.screenX-Xs.screenX,jl=e.screenY-Xs.screenY):jl=vl=0,Xs=e),vl)},movementY:function(e){return"movementY"in e?e.movementY:jl}}),Zi=Ze(Xn),vm=ue({},Xn,{dataTransfer:0}),jm=Ze(vm),bm=ue({},Fr,{relatedTarget:0}),bl=Ze(bm),Nm=ue({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),wm=Ze(Nm),km=ue({},qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cm=Ze(km),Sm=ue({},qs,{data:0}),Ji=Ze(Sm),Dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Em(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mm[e])?!!t[e]:!1}function ti(){return Em}var Im=ue({},Fr,{key:function(e){if(e.key){var t=Dm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ti,charCode:function(e){return e.type==="keypress"?cn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lm=Ze(Im),Tm=ue({},Xn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eo=Ze(Tm),Am=ue({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ti}),_m=Ze(Am),Rm=ue({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fm=Ze(Rm),zm=ue({},Xn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$m=Ze(zm),Om=[9,13,27,32],si=Mt&&"CompositionEvent"in window,or=null;Mt&&"documentMode"in document&&(or=document.documentMode);var Vm=Mt&&"TextEvent"in window&&!or,Gc=Mt&&(!si||or&&8<or&&11>=or),to=" ",so=!1;function Kc(e,t){switch(e){case"keyup":return Om.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var js=!1;function Bm(e,t){switch(e){case"compositionend":return Yc(t);case"keypress":return t.which!==32?null:(so=!0,to);case"textInput":return e=t.data,e===to&&so?null:e;default:return null}}function Hm(e,t){if(js)return e==="compositionend"||!si&&Kc(e,t)?(e=Qc(),on=Ja=$t=null,js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Gc&&t.locale!=="ko"?null:t.data;default:return null}}var Um={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ro(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Um[e.type]:t==="textarea"}function Xc(e,t,r,n){Pc(n),t=kn(t,"onChange"),0<t.length&&(r=new ei("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var cr=null,Nr=null;function qm(e){od(e,0)}function Zn(e){var t=ws(e);if(bc(t))return e}function Wm(e,t){if(e==="change")return t}var Zc=!1;if(Mt){var Nl;if(Mt){var wl="oninput"in document;if(!wl){var no=document.createElement("div");no.setAttribute("oninput","return;"),wl=typeof no.oninput=="function"}Nl=wl}else Nl=!1;Zc=Nl&&(!document.documentMode||9<document.documentMode)}function lo(){cr&&(cr.detachEvent("onpropertychange",Jc),Nr=cr=null)}function Jc(e){if(e.propertyName==="value"&&Zn(Nr)){var t=[];Xc(t,Nr,e,Ga(e)),Lc(qm,t)}}function Qm(e,t,r){e==="focusin"?(lo(),cr=t,Nr=r,cr.attachEvent("onpropertychange",Jc)):e==="focusout"&&lo()}function Gm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zn(Nr)}function Km(e,t){if(e==="click")return Zn(t)}function Ym(e,t){if(e==="input"||e==="change")return Zn(t)}function Xm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:Xm;function wr(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var l=r[n];if(!Hl.call(t,l)||!ht(e[l],t[l]))return!1}return!0}function ao(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function io(e,t){var r=ao(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ao(r)}}function ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function td(){for(var e=window,t=gn();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gn(e.document)}return t}function ri(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zm(e){var t=td(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ed(r.ownerDocument.documentElement,r)){if(n!==null&&ri(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=r.textContent.length,a=Math.min(n.start,l);n=n.end===void 0?a:Math.min(n.end,l),!e.extend&&a>n&&(l=n,n=a,a=l),l=io(r,a);var i=io(r,n);l&&i&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jm=Mt&&"documentMode"in document&&11>=document.documentMode,bs=null,oa=null,dr=null,ca=!1;function oo(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ca||bs==null||bs!==gn(n)||(n=bs,"selectionStart"in n&&ri(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dr&&wr(dr,n)||(dr=n,n=kn(oa,"onSelect"),0<n.length&&(t=new ei("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bs)))}function Kr(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ns={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionend:Kr("Transition","TransitionEnd")},kl={},sd={};Mt&&(sd=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Jn(e){if(kl[e])return kl[e];if(!Ns[e])return e;var t=Ns[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sd)return kl[e]=t[r];return e}var rd=Jn("animationend"),nd=Jn("animationiteration"),ld=Jn("animationstart"),ad=Jn("transitionend"),id=new Map,co="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){id.set(e,t),ps(t,[e])}for(var Cl=0;Cl<co.length;Cl++){var Sl=co[Cl],e0=Sl.toLowerCase(),t0=Sl[0].toUpperCase()+Sl.slice(1);Jt(e0,"on"+t0)}Jt(rd,"onAnimationEnd");Jt(nd,"onAnimationIteration");Jt(ld,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(ad,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s0=new Set("cancel close invalid load scroll toggle".split(" ").concat(nr));function uo(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,em(n,t,void 0,e),e.currentTarget=null}function od(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],l=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&l.isPropagationStopped())break e;uo(l,o,u),a=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&l.isPropagationStopped())break e;uo(l,o,u),a=c}}}if(vn)throw e=na,vn=!1,na=null,e}function ne(e,t){var r=t[ha];r===void 0&&(r=t[ha]=new Set);var n=e+"__bubble";r.has(n)||(cd(t,e,2,!1),r.add(n))}function Dl(e,t,r){var n=0;t&&(n|=4),cd(r,e,n,t)}var Yr="_reactListening"+Math.random().toString(36).slice(2);function kr(e){if(!e[Yr]){e[Yr]=!0,fc.forEach(function(r){r!=="selectionchange"&&(s0.has(r)||Dl(r,!1,e),Dl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yr]||(t[Yr]=!0,Dl("selectionchange",!1,t))}}function cd(e,t,r,n){switch(Wc(t)){case 1:var l=fm;break;case 4:l=gm;break;default:l=Za}r=l.bind(null,t,r,e),l=void 0,!ra||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?e.addEventListener(t,r,{capture:!0,passive:l}):e.addEventListener(t,r,!0):l!==void 0?e.addEventListener(t,r,{passive:l}):e.addEventListener(t,r,!1)}function Pl(e,t,r,n,l){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===l||o.nodeType===8&&o.parentNode===l)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;i=i.return}for(;o!==null;){if(i=ls(o),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}o=o.parentNode}}n=n.return}Lc(function(){var u=a,h=Ga(r),p=[];e:{var y=id.get(e);if(y!==void 0){var b=ei,S=e;switch(e){case"keypress":if(cn(r)===0)break e;case"keydown":case"keyup":b=Lm;break;case"focusin":S="focus",b=bl;break;case"focusout":S="blur",b=bl;break;case"beforeblur":case"afterblur":b=bl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Zi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=_m;break;case rd:case nd:case ld:b=wm;break;case ad:b=Fm;break;case"scroll":b=ym;break;case"wheel":b=$m;break;case"copy":case"cut":case"paste":b=Cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=eo}var D=(t&4)!==0,A=!D&&e==="scroll",m=D?y!==null?y+"Capture":null:y;D=[];for(var d=u,x;d!==null;){x=d;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,m!==null&&(w=yr(d,m),w!=null&&D.push(Cr(d,w,x)))),A)break;d=d.return}0<D.length&&(y=new b(y,S,null,r,h),p.push({event:y,listeners:D}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",y&&r!==ta&&(S=r.relatedTarget||r.fromElement)&&(ls(S)||S[Et]))break e;if((b||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,b?(S=r.relatedTarget||r.toElement,b=u,S=S?ls(S):null,S!==null&&(A=fs(S),S!==A||S.tag!==5&&S.tag!==6)&&(S=null)):(b=null,S=u),b!==S)){if(D=Zi,w="onMouseLeave",m="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(D=eo,w="onPointerLeave",m="onPointerEnter",d="pointer"),A=b==null?y:ws(b),x=S==null?y:ws(S),y=new D(w,d+"leave",b,r,h),y.target=A,y.relatedTarget=x,w=null,ls(h)===u&&(D=new D(m,d+"enter",S,r,h),D.target=x,D.relatedTarget=A,w=D),A=w,b&&S)t:{for(D=b,m=S,d=0,x=D;x;x=gs(x))d++;for(x=0,w=m;w;w=gs(w))x++;for(;0<d-x;)D=gs(D),d--;for(;0<x-d;)m=gs(m),x--;for(;d--;){if(D===m||m!==null&&D===m.alternate)break t;D=gs(D),m=gs(m)}D=null}else D=null;b!==null&&mo(p,y,b,D,!1),S!==null&&A!==null&&mo(p,A,S,D,!0)}}e:{if(y=u?ws(u):window,b=y.nodeName&&y.nodeName.toLowerCase(),b==="select"||b==="input"&&y.type==="file")var I=Wm;else if(ro(y))if(Zc)I=Ym;else{I=Gm;var g=Qm}else(b=y.nodeName)&&b.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(I=Km);if(I&&(I=I(e,u))){Xc(p,I,r,h);break e}g&&g(e,y,u),e==="focusout"&&(g=y._wrapperState)&&g.controlled&&y.type==="number"&&Yl(y,"number",y.value)}switch(g=u?ws(u):window,e){case"focusin":(ro(g)||g.contentEditable==="true")&&(bs=g,oa=u,dr=null);break;case"focusout":dr=oa=bs=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,oo(p,r,h);break;case"selectionchange":if(Jm)break;case"keydown":case"keyup":oo(p,r,h)}var f;if(si)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else js?Kc(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Gc&&r.locale!=="ko"&&(js||E!=="onCompositionStart"?E==="onCompositionEnd"&&js&&(f=Qc()):($t=h,Ja="value"in $t?$t.value:$t.textContent,js=!0)),g=kn(u,E),0<g.length&&(E=new Ji(E,e,null,r,h),p.push({event:E,listeners:g}),f?E.data=f:(f=Yc(r),f!==null&&(E.data=f)))),(f=Vm?Bm(e,r):Hm(e,r))&&(u=kn(u,"onBeforeInput"),0<u.length&&(h=new Ji("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:u}),h.data=f))}od(p,t)})}function Cr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function kn(e,t){for(var r=t+"Capture",n=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=yr(e,r),a!=null&&n.unshift(Cr(e,a,l)),a=yr(e,t),a!=null&&n.push(Cr(e,a,l))),e=e.return}return n}function gs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mo(e,t,r,n,l){for(var a=t._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,l?(c=yr(r,a),c!=null&&i.unshift(Cr(r,c,o))):l||(c=yr(r,a),c!=null&&i.push(Cr(r,c,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var r0=/\r\n?/g,n0=/\u0000|\uFFFD/g;function xo(e){return(typeof e=="string"?e:""+e).replace(r0,`
`).replace(n0,"")}function Xr(e,t,r){if(t=xo(t),xo(e)!==t&&r)throw Error(_(425))}function Cn(){}var da=null,ua=null;function ma(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,l0=typeof clearTimeout=="function"?clearTimeout:void 0,ho=typeof Promise=="function"?Promise:void 0,a0=typeof queueMicrotask=="function"?queueMicrotask:typeof ho<"u"?function(e){return ho.resolve(null).then(e).catch(i0)}:xa;function i0(e){setTimeout(function(){throw e})}function Ml(e,t){var r=t,n=0;do{var l=r.nextSibling;if(e.removeChild(r),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(n===0){e.removeChild(l),br(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=l}while(r);br(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function po(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ws=Math.random().toString(36).slice(2),vt="__reactFiber$"+Ws,Sr="__reactProps$"+Ws,Et="__reactContainer$"+Ws,ha="__reactEvents$"+Ws,o0="__reactListeners$"+Ws,c0="__reactHandles$"+Ws;function ls(e){var t=e[vt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Et]||r[vt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=po(e);e!==null;){if(r=e[vt])return r;e=po(e)}return t}e=r,r=e.parentNode}return null}function zr(e){return e=e[vt]||e[Et],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ws(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function el(e){return e[Sr]||null}var pa=[],ks=-1;function es(e){return{current:e}}function le(e){0>ks||(e.current=pa[ks],pa[ks]=null,ks--)}function se(e,t){ks++,pa[ks]=e.current,e.current=t}var Xt={},Me=es(Xt),Oe=es(!1),ds=Xt;function zs(e,t){var r=e.type.contextTypes;if(!r)return Xt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in r)l[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Ve(e){return e=e.childContextTypes,e!=null}function Sn(){le(Oe),le(Me)}function fo(e,t,r){if(Me.current!==Xt)throw Error(_(168));se(Me,t),se(Oe,r)}function dd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var l in n)if(!(l in t))throw Error(_(108,Qu(e)||"Unknown",l));return ue({},r,n)}function Dn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,ds=Me.current,se(Me,e),se(Oe,Oe.current),!0}function go(e,t,r){var n=e.stateNode;if(!n)throw Error(_(169));r?(e=dd(e,t,ds),n.__reactInternalMemoizedMergedChildContext=e,le(Oe),le(Me),se(Me,e)):le(Oe),se(Oe,r)}var Ct=null,tl=!1,El=!1;function ud(e){Ct===null?Ct=[e]:Ct.push(e)}function d0(e){tl=!0,ud(e)}function ts(){if(!El&&Ct!==null){El=!0;var e=0,t=ee;try{var r=Ct;for(ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ct=null,tl=!1}catch(l){throw Ct!==null&&(Ct=Ct.slice(e+1)),Rc(Ka,ts),l}finally{ee=t,El=!1}}return null}var Cs=[],Ss=0,Pn=null,Mn=0,et=[],tt=0,us=null,St=1,Dt="";function rs(e,t){Cs[Ss++]=Mn,Cs[Ss++]=Pn,Pn=e,Mn=t}function md(e,t,r){et[tt++]=St,et[tt++]=Dt,et[tt++]=us,us=e;var n=St;e=Dt;var l=32-mt(n)-1;n&=~(1<<l),r+=1;var a=32-mt(t)+l;if(30<a){var i=l-l%5;a=(n&(1<<i)-1).toString(32),n>>=i,l-=i,St=1<<32-mt(t)+l|r<<l|n,Dt=a+e}else St=1<<a|r<<l|n,Dt=e}function ni(e){e.return!==null&&(rs(e,1),md(e,1,0))}function li(e){for(;e===Pn;)Pn=Cs[--Ss],Cs[Ss]=null,Mn=Cs[--Ss],Cs[Ss]=null;for(;e===us;)us=et[--tt],et[tt]=null,Dt=et[--tt],et[tt]=null,St=et[--tt],et[tt]=null}var Ge=null,Qe=null,ae=!1,ut=null;function xd(e,t){var r=rt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yo(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ge=e,Qe=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ge=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=us!==null?{id:St,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ge=e,Qe=null,!0):!1;default:return!1}}function fa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ga(e){if(ae){var t=Qe;if(t){var r=t;if(!yo(e,t)){if(fa(e))throw Error(_(418));t=qt(r.nextSibling);var n=Ge;t&&yo(e,t)?xd(n,r):(e.flags=e.flags&-4097|2,ae=!1,Ge=e)}}else{if(fa(e))throw Error(_(418));e.flags=e.flags&-4097|2,ae=!1,Ge=e}}}function vo(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ge=e}function Zr(e){if(e!==Ge)return!1;if(!ae)return vo(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ma(e.type,e.memoizedProps)),t&&(t=Qe)){if(fa(e))throw hd(),Error(_(418));for(;t;)xd(e,t),t=qt(t.nextSibling)}if(vo(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qe=qt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=Ge?qt(e.stateNode.nextSibling):null;return!0}function hd(){for(var e=Qe;e;)e=qt(e.nextSibling)}function $s(){Qe=Ge=null,ae=!1}function ai(e){ut===null?ut=[e]:ut.push(e)}var u0=Tt.ReactCurrentBatchConfig;function Zs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_(309));var n=r.stateNode}if(!n)throw Error(_(147,e));var l=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var o=l.refs;i===null?delete o[a]:o[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(_(284));if(!r._owner)throw Error(_(290,e))}return e}function Jr(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jo(e){var t=e._init;return t(e._payload)}function pd(e){function t(m,d){if(e){var x=m.deletions;x===null?(m.deletions=[d],m.flags|=16):x.push(d)}}function r(m,d){if(!e)return null;for(;d!==null;)t(m,d),d=d.sibling;return null}function n(m,d){for(m=new Map;d!==null;)d.key!==null?m.set(d.key,d):m.set(d.index,d),d=d.sibling;return m}function l(m,d){return m=Kt(m,d),m.index=0,m.sibling=null,m}function a(m,d,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<d?(m.flags|=2,d):x):(m.flags|=2,d)):(m.flags|=1048576,d)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,d,x,w){return d===null||d.tag!==6?(d=Fl(x,m.mode,w),d.return=m,d):(d=l(d,x),d.return=m,d)}function c(m,d,x,w){var I=x.type;return I===vs?h(m,d,x.props.children,w,x.key):d!==null&&(d.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===_t&&jo(I)===d.type)?(w=l(d,x.props),w.ref=Zs(m,d,x),w.return=m,w):(w=fn(x.type,x.key,x.props,null,m.mode,w),w.ref=Zs(m,d,x),w.return=m,w)}function u(m,d,x,w){return d===null||d.tag!==4||d.stateNode.containerInfo!==x.containerInfo||d.stateNode.implementation!==x.implementation?(d=zl(x,m.mode,w),d.return=m,d):(d=l(d,x.children||[]),d.return=m,d)}function h(m,d,x,w,I){return d===null||d.tag!==7?(d=cs(x,m.mode,w,I),d.return=m,d):(d=l(d,x),d.return=m,d)}function p(m,d,x){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Fl(""+d,m.mode,x),d.return=m,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Br:return x=fn(d.type,d.key,d.props,null,m.mode,x),x.ref=Zs(m,null,d),x.return=m,x;case ys:return d=zl(d,m.mode,x),d.return=m,d;case _t:var w=d._init;return p(m,w(d._payload),x)}if(sr(d)||Qs(d))return d=cs(d,m.mode,x,null),d.return=m,d;Jr(m,d)}return null}function y(m,d,x,w){var I=d!==null?d.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:o(m,d,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Br:return x.key===I?c(m,d,x,w):null;case ys:return x.key===I?u(m,d,x,w):null;case _t:return I=x._init,y(m,d,I(x._payload),w)}if(sr(x)||Qs(x))return I!==null?null:h(m,d,x,w,null);Jr(m,x)}return null}function b(m,d,x,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(x)||null,o(d,m,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Br:return m=m.get(w.key===null?x:w.key)||null,c(d,m,w,I);case ys:return m=m.get(w.key===null?x:w.key)||null,u(d,m,w,I);case _t:var g=w._init;return b(m,d,x,g(w._payload),I)}if(sr(w)||Qs(w))return m=m.get(x)||null,h(d,m,w,I,null);Jr(d,w)}return null}function S(m,d,x,w){for(var I=null,g=null,f=d,E=d=0,M=null;f!==null&&E<x.length;E++){f.index>E?(M=f,f=null):M=f.sibling;var k=y(m,f,x[E],w);if(k===null){f===null&&(f=M);break}e&&f&&k.alternate===null&&t(m,f),d=a(k,d,E),g===null?I=k:g.sibling=k,g=k,f=M}if(E===x.length)return r(m,f),ae&&rs(m,E),I;if(f===null){for(;E<x.length;E++)f=p(m,x[E],w),f!==null&&(d=a(f,d,E),g===null?I=f:g.sibling=f,g=f);return ae&&rs(m,E),I}for(f=n(m,f);E<x.length;E++)M=b(f,m,E,x[E],w),M!==null&&(e&&M.alternate!==null&&f.delete(M.key===null?E:M.key),d=a(M,d,E),g===null?I=M:g.sibling=M,g=M);return e&&f.forEach(function(H){return t(m,H)}),ae&&rs(m,E),I}function D(m,d,x,w){var I=Qs(x);if(typeof I!="function")throw Error(_(150));if(x=I.call(x),x==null)throw Error(_(151));for(var g=I=null,f=d,E=d=0,M=null,k=x.next();f!==null&&!k.done;E++,k=x.next()){f.index>E?(M=f,f=null):M=f.sibling;var H=y(m,f,k.value,w);if(H===null){f===null&&(f=M);break}e&&f&&H.alternate===null&&t(m,f),d=a(H,d,E),g===null?I=H:g.sibling=H,g=H,f=M}if(k.done)return r(m,f),ae&&rs(m,E),I;if(f===null){for(;!k.done;E++,k=x.next())k=p(m,k.value,w),k!==null&&(d=a(k,d,E),g===null?I=k:g.sibling=k,g=k);return ae&&rs(m,E),I}for(f=n(m,f);!k.done;E++,k=x.next())k=b(f,m,E,k.value,w),k!==null&&(e&&k.alternate!==null&&f.delete(k.key===null?E:k.key),d=a(k,d,E),g===null?I=k:g.sibling=k,g=k);return e&&f.forEach(function(B){return t(m,B)}),ae&&rs(m,E),I}function A(m,d,x,w){if(typeof x=="object"&&x!==null&&x.type===vs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Br:e:{for(var I=x.key,g=d;g!==null;){if(g.key===I){if(I=x.type,I===vs){if(g.tag===7){r(m,g.sibling),d=l(g,x.props.children),d.return=m,m=d;break e}}else if(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===_t&&jo(I)===g.type){r(m,g.sibling),d=l(g,x.props),d.ref=Zs(m,g,x),d.return=m,m=d;break e}r(m,g);break}else t(m,g);g=g.sibling}x.type===vs?(d=cs(x.props.children,m.mode,w,x.key),d.return=m,m=d):(w=fn(x.type,x.key,x.props,null,m.mode,w),w.ref=Zs(m,d,x),w.return=m,m=w)}return i(m);case ys:e:{for(g=x.key;d!==null;){if(d.key===g)if(d.tag===4&&d.stateNode.containerInfo===x.containerInfo&&d.stateNode.implementation===x.implementation){r(m,d.sibling),d=l(d,x.children||[]),d.return=m,m=d;break e}else{r(m,d);break}else t(m,d);d=d.sibling}d=zl(x,m.mode,w),d.return=m,m=d}return i(m);case _t:return g=x._init,A(m,d,g(x._payload),w)}if(sr(x))return S(m,d,x,w);if(Qs(x))return D(m,d,x,w);Jr(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,d!==null&&d.tag===6?(r(m,d.sibling),d=l(d,x),d.return=m,m=d):(r(m,d),d=Fl(x,m.mode,w),d.return=m,m=d),i(m)):r(m,d)}return A}var Os=pd(!0),fd=pd(!1),En=es(null),In=null,Ds=null,ii=null;function oi(){ii=Ds=In=null}function ci(e){var t=En.current;le(En),e._currentValue=t}function ya(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function As(e,t){In=e,ii=Ds=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(ii!==e)if(e={context:e,memoizedValue:t,next:null},Ds===null){if(In===null)throw Error(_(308));Ds=e,In.dependencies={lanes:0,firstContext:e}}else Ds=Ds.next=e;return t}var as=null;function di(e){as===null?as=[e]:as.push(e)}function gd(e,t,r,n){var l=t.interleaved;return l===null?(r.next=r,di(t)):(r.next=l.next,l.next=r),t.interleaved=r,It(e,n)}function It(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Rt=!1;function ui(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,It(e,r)}return l=n.interleaved,l===null?(t.next=t,di(n)):(t.next=l.next,l.next=t),n.interleaved=t,It(e,r)}function dn(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ya(e,r)}}function bo(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var l=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?l=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?l=a=t:a=a.next=t}else l=a=t;r={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ln(e,t,r,n){var l=e.updateQueue;Rt=!1;var a=l.firstBaseUpdate,i=l.lastBaseUpdate,o=l.shared.pending;if(o!==null){l.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==i&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=c))}if(a!==null){var p=l.baseState;i=0,h=u=c=null,o=a;do{var y=o.lane,b=o.eventTime;if((n&y)===y){h!==null&&(h=h.next={eventTime:b,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var S=e,D=o;switch(y=t,b=r,D.tag){case 1:if(S=D.payload,typeof S=="function"){p=S.call(b,p,y);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=D.payload,y=typeof S=="function"?S.call(b,p,y):S,y==null)break e;p=ue({},p,y);break e;case 2:Rt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,y=l.effects,y===null?l.effects=[o]:y.push(o))}else b={eventTime:b,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=b,c=p):h=h.next=b,i|=y;if(o=o.next,o===null){if(o=l.shared.pending,o===null)break;y=o,o=y.next,y.next=null,l.lastBaseUpdate=y,l.shared.pending=null}}while(!0);if(h===null&&(c=p),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do i|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);xs|=i,e.lanes=i,e.memoizedState=p}}function No(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],l=n.callback;if(l!==null){if(n.callback=null,n=r,typeof l!="function")throw Error(_(191,l));l.call(n)}}}var $r={},bt=es($r),Dr=es($r),Pr=es($r);function is(e){if(e===$r)throw Error(_(174));return e}function mi(e,t){switch(se(Pr,t),se(Dr,e),se(bt,$r),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zl(t,e)}le(bt),se(bt,t)}function Vs(){le(bt),le(Dr),le(Pr)}function vd(e){is(Pr.current);var t=is(bt.current),r=Zl(t,e.type);t!==r&&(se(Dr,e),se(bt,r))}function xi(e){Dr.current===e&&(le(bt),le(Dr))}var oe=es(0);function Tn(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Il=[];function hi(){for(var e=0;e<Il.length;e++)Il[e]._workInProgressVersionPrimary=null;Il.length=0}var un=Tt.ReactCurrentDispatcher,Ll=Tt.ReactCurrentBatchConfig,ms=0,de=null,ge=null,ve=null,An=!1,ur=!1,Mr=0,m0=0;function Ce(){throw Error(_(321))}function pi(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ht(e[r],t[r]))return!1;return!0}function fi(e,t,r,n,l,a){if(ms=a,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,un.current=e===null||e.memoizedState===null?f0:g0,e=r(n,l),ur){a=0;do{if(ur=!1,Mr=0,25<=a)throw Error(_(301));a+=1,ve=ge=null,t.updateQueue=null,un.current=y0,e=r(n,l)}while(ur)}if(un.current=_n,t=ge!==null&&ge.next!==null,ms=0,ve=ge=de=null,An=!1,t)throw Error(_(300));return e}function gi(){var e=Mr!==0;return Mr=0,e}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?de.memoizedState=ve=e:ve=ve.next=e,ve}function it(){if(ge===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=ve===null?de.memoizedState:ve.next;if(t!==null)ve=t,ge=e;else{if(e===null)throw Error(_(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},ve===null?de.memoizedState=ve=e:ve=ve.next=e}return ve}function Er(e,t){return typeof t=="function"?t(e):t}function Tl(e){var t=it(),r=t.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=e;var n=ge,l=n.baseQueue,a=r.pending;if(a!==null){if(l!==null){var i=l.next;l.next=a.next,a.next=i}n.baseQueue=l=a,r.pending=null}if(l!==null){a=l.next,n=n.baseState;var o=i=null,c=null,u=a;do{var h=u.lane;if((ms&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=p,i=n):c=c.next=p,de.lanes|=h,xs|=h}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=o,ht(n,t.memoizedState)||($e=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){l=e;do a=l.lane,de.lanes|=a,xs|=a,l=l.next;while(l!==e)}else l===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Al(e){var t=it(),r=t.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=e;var n=r.dispatch,l=r.pending,a=t.memoizedState;if(l!==null){r.pending=null;var i=l=l.next;do a=e(a,i.action),i=i.next;while(i!==l);ht(a,t.memoizedState)||($e=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function jd(){}function bd(e,t){var r=de,n=it(),l=t(),a=!ht(n.memoizedState,l);if(a&&(n.memoizedState=l,$e=!0),n=n.queue,yi(kd.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,Ir(9,wd.bind(null,r,n,l,t),void 0,null),je===null)throw Error(_(349));ms&30||Nd(r,t,l)}return l}function Nd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function wd(e,t,r,n){t.value=r,t.getSnapshot=n,Cd(t)&&Sd(e)}function kd(e,t,r){return r(function(){Cd(t)&&Sd(e)})}function Cd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ht(e,r)}catch{return!0}}function Sd(e){var t=It(e,1);t!==null&&xt(t,e,1,-1)}function wo(e){var t=yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:e},t.queue=e,e=e.dispatch=p0.bind(null,de,e),[t.memoizedState,e]}function Ir(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Dd(){return it().memoizedState}function mn(e,t,r,n){var l=yt();de.flags|=e,l.memoizedState=Ir(1|t,r,void 0,n===void 0?null:n)}function sl(e,t,r,n){var l=it();n=n===void 0?null:n;var a=void 0;if(ge!==null){var i=ge.memoizedState;if(a=i.destroy,n!==null&&pi(n,i.deps)){l.memoizedState=Ir(t,r,a,n);return}}de.flags|=e,l.memoizedState=Ir(1|t,r,a,n)}function ko(e,t){return mn(8390656,8,e,t)}function yi(e,t){return sl(2048,8,e,t)}function Pd(e,t){return sl(4,2,e,t)}function Md(e,t){return sl(4,4,e,t)}function Ed(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Id(e,t,r){return r=r!=null?r.concat([e]):null,sl(4,4,Ed.bind(null,t,e),r)}function vi(){}function Ld(e,t){var r=it();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Td(e,t){var r=it();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pi(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ad(e,t,r){return ms&21?(ht(r,t)||(r=$c(),de.lanes|=r,xs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=r)}function x0(e,t){var r=ee;ee=r!==0&&4>r?r:4,e(!0);var n=Ll.transition;Ll.transition={};try{e(!1),t()}finally{ee=r,Ll.transition=n}}function _d(){return it().memoizedState}function h0(e,t,r){var n=Gt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Rd(e))Fd(t,r);else if(r=gd(e,t,r,n),r!==null){var l=Te();xt(r,e,n,l),zd(r,t,n)}}function p0(e,t,r){var n=Gt(e),l={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rd(e))Fd(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,o=a(i,r);if(l.hasEagerState=!0,l.eagerState=o,ht(o,i)){var c=t.interleaved;c===null?(l.next=l,di(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}r=gd(e,t,l,n),r!==null&&(l=Te(),xt(r,e,n,l),zd(r,t,n))}}function Rd(e){var t=e.alternate;return e===de||t!==null&&t===de}function Fd(e,t){ur=An=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ya(e,r)}}var _n={readContext:at,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},f0={readContext:at,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:ko,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,mn(4194308,4,Ed.bind(null,t,e),r)},useLayoutEffect:function(e,t){return mn(4194308,4,e,t)},useInsertionEffect:function(e,t){return mn(4,2,e,t)},useMemo:function(e,t){var r=yt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=h0.bind(null,de,e),[n.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:wo,useDebugValue:vi,useDeferredValue:function(e){return yt().memoizedState=e},useTransition:function(){var e=wo(!1),t=e[0];return e=x0.bind(null,e[1]),yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=de,l=yt();if(ae){if(r===void 0)throw Error(_(407));r=r()}else{if(r=t(),je===null)throw Error(_(349));ms&30||Nd(n,t,r)}l.memoizedState=r;var a={value:r,getSnapshot:t};return l.queue=a,ko(kd.bind(null,n,a,e),[e]),n.flags|=2048,Ir(9,wd.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=yt(),t=je.identifierPrefix;if(ae){var r=Dt,n=St;r=(n&~(1<<32-mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Mr++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=m0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},g0={readContext:at,useCallback:Ld,useContext:at,useEffect:yi,useImperativeHandle:Id,useInsertionEffect:Pd,useLayoutEffect:Md,useMemo:Td,useReducer:Tl,useRef:Dd,useState:function(){return Tl(Er)},useDebugValue:vi,useDeferredValue:function(e){var t=it();return Ad(t,ge.memoizedState,e)},useTransition:function(){var e=Tl(Er)[0],t=it().memoizedState;return[e,t]},useMutableSource:jd,useSyncExternalStore:bd,useId:_d,unstable_isNewReconciler:!1},y0={readContext:at,useCallback:Ld,useContext:at,useEffect:yi,useImperativeHandle:Id,useInsertionEffect:Pd,useLayoutEffect:Md,useMemo:Td,useReducer:Al,useRef:Dd,useState:function(){return Al(Er)},useDebugValue:vi,useDeferredValue:function(e){var t=it();return ge===null?t.memoizedState=e:Ad(t,ge.memoizedState,e)},useTransition:function(){var e=Al(Er)[0],t=it().memoizedState;return[e,t]},useMutableSource:jd,useSyncExternalStore:bd,useId:_d,unstable_isNewReconciler:!1};function ct(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function va(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var rl={isMounted:function(e){return(e=e._reactInternals)?fs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Te(),l=Gt(e),a=Pt(n,l);a.payload=t,r!=null&&(a.callback=r),t=Wt(e,a,l),t!==null&&(xt(t,e,l,n),dn(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Te(),l=Gt(e),a=Pt(n,l);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Wt(e,a,l),t!==null&&(xt(t,e,l,n),dn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Te(),n=Gt(e),l=Pt(r,n);l.tag=2,t!=null&&(l.callback=t),t=Wt(e,l,n),t!==null&&(xt(t,e,n,r),dn(t,e,n))}};function Co(e,t,r,n,l,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!wr(r,n)||!wr(l,a):!0}function $d(e,t,r){var n=!1,l=Xt,a=t.contextType;return typeof a=="object"&&a!==null?a=at(a):(l=Ve(t)?ds:Me.current,n=t.contextTypes,a=(n=n!=null)?zs(e,l):Xt),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function So(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function ja(e,t,r,n){var l=e.stateNode;l.props=r,l.state=e.memoizedState,l.refs={},ui(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=at(a):(a=Ve(t)?ds:Me.current,l.context=zs(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(va(e,t,a,r),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&rl.enqueueReplaceState(l,l.state,null),Ln(e,r,l,n),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Bs(e,t){try{var r="",n=t;do r+=Wu(n),n=n.return;while(n);var l=r}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function _l(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ba(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var v0=typeof WeakMap=="function"?WeakMap:Map;function Od(e,t,r){r=Pt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Fn||(Fn=!0,Ia=n),ba(e,t)},r}function Vd(e,t,r){r=Pt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var l=t.value;r.payload=function(){return n(l)},r.callback=function(){ba(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ba(e,t),typeof n!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Do(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new v0;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(r)||(l.add(r),e=T0.bind(null,e,t,r),t.then(e,e))}function Po(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mo(e,t,r,n,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pt(-1,1),t.tag=2,Wt(r,t,1))),r.lanes|=1),e)}var j0=Tt.ReactCurrentOwner,$e=!1;function Le(e,t,r,n){t.child=e===null?fd(t,null,r,n):Os(t,e.child,r,n)}function Eo(e,t,r,n,l){r=r.render;var a=t.ref;return As(t,l),n=fi(e,t,r,n,a,l),r=gi(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(ae&&r&&ni(t),t.flags|=1,Le(e,t,n,l),t.child)}function Io(e,t,r,n,l){if(e===null){var a=r.type;return typeof a=="function"&&!Di(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Bd(e,t,a,n,l)):(e=fn(r.type,null,n,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:wr,r(i,n)&&e.ref===t.ref)return Lt(e,t,l)}return t.flags|=1,e=Kt(a,n),e.ref=t.ref,e.return=t,t.child=e}function Bd(e,t,r,n,l){if(e!==null){var a=e.memoizedProps;if(wr(a,n)&&e.ref===t.ref)if($e=!1,t.pendingProps=n=a,(e.lanes&l)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,Lt(e,t,l)}return Na(e,t,r,n,l)}function Hd(e,t,r){var n=t.pendingProps,l=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(Ms,We),We|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(Ms,We),We|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,se(Ms,We),We|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,se(Ms,We),We|=n;return Le(e,t,l,r),t.child}function Ud(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Na(e,t,r,n,l){var a=Ve(r)?ds:Me.current;return a=zs(t,a),As(t,l),r=fi(e,t,r,n,a,l),n=gi(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,Lt(e,t,l)):(ae&&n&&ni(t),t.flags|=1,Le(e,t,r,l),t.child)}function Lo(e,t,r,n,l){if(Ve(r)){var a=!0;Dn(t)}else a=!1;if(As(t,l),t.stateNode===null)xn(e,t),$d(t,r,n),ja(t,r,n,l),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Ve(r)?ds:Me.current,u=zs(t,u));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";p||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==u)&&So(t,i,n,u),Rt=!1;var y=t.memoizedState;i.state=y,Ln(t,n,i,l),c=t.memoizedState,o!==n||y!==c||Oe.current||Rt?(typeof h=="function"&&(va(t,r,h,n),c=t.memoizedState),(o=Rt||Co(t,r,o,n,y,c,u))?(p||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,yd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ct(t.type,o),i.props=u,p=t.pendingProps,y=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=at(c):(c=Ve(r)?ds:Me.current,c=zs(t,c));var b=r.getDerivedStateFromProps;(h=typeof b=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==p||y!==c)&&So(t,i,n,c),Rt=!1,y=t.memoizedState,i.state=y,Ln(t,n,i,l);var S=t.memoizedState;o!==p||y!==S||Oe.current||Rt?(typeof b=="function"&&(va(t,r,b,n),S=t.memoizedState),(u=Rt||Co(t,r,u,n,y,S,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,S,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,S,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=S),i.props=n,i.state=S,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return wa(e,t,r,n,a,l)}function wa(e,t,r,n,l,a){Ud(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return l&&go(t,r,!1),Lt(e,t,a);n=t.stateNode,j0.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Os(t,e.child,null,a),t.child=Os(t,null,o,a)):Le(e,t,o,a),t.memoizedState=n.state,l&&go(t,r,!0),t.child}function qd(e){var t=e.stateNode;t.pendingContext?fo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fo(e,t.context,!1),mi(e,t.containerInfo)}function To(e,t,r,n,l){return $s(),ai(l),t.flags|=256,Le(e,t,r,n),t.child}var ka={dehydrated:null,treeContext:null,retryLane:0};function Ca(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wd(e,t,r){var n=t.pendingProps,l=oe.current,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(l&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),se(oe,l&1),e===null)return ga(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=al(i,n,0,null),e=cs(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ca(r),t.memoizedState=ka,e):ji(t,i));if(l=e.memoizedState,l!==null&&(o=l.dehydrated,o!==null))return b0(e,t,i,n,o,l,r);if(a){a=n.fallback,i=t.mode,l=e.child,o=l.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==l?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Kt(l,c),n.subtreeFlags=l.subtreeFlags&14680064),o!==null?a=Kt(o,a):(a=cs(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Ca(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=ka,n}return a=e.child,e=a.sibling,n=Kt(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ji(e,t){return t=al({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function en(e,t,r,n){return n!==null&&ai(n),Os(t,e.child,null,r),e=ji(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function b0(e,t,r,n,l,a,i){if(r)return t.flags&256?(t.flags&=-257,n=_l(Error(_(422))),en(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,l=t.mode,n=al({mode:"visible",children:n.children},l,0,null),a=cs(a,l,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Os(t,e.child,null,i),t.child.memoizedState=Ca(i),t.memoizedState=ka,a);if(!(t.mode&1))return en(e,t,i,null);if(l.data==="$!"){if(n=l.nextSibling&&l.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(_(419)),n=_l(a,n,void 0),en(e,t,i,n)}if(o=(i&e.childLanes)!==0,$e||o){if(n=je,n!==null){switch(i&-i){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(n.suspendedLanes|i)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,It(e,l),xt(n,e,l,-1))}return Si(),n=_l(Error(_(421))),en(e,t,i,n)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=A0.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Qe=qt(l.nextSibling),Ge=t,ae=!0,ut=null,e!==null&&(et[tt++]=St,et[tt++]=Dt,et[tt++]=us,St=e.id,Dt=e.overflow,us=t),t=ji(t,n.children),t.flags|=4096,t)}function Ao(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ya(e.return,t,r)}function Rl(e,t,r,n,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=l)}function Qd(e,t,r){var n=t.pendingProps,l=n.revealOrder,a=n.tail;if(Le(e,t,n.children,r),n=oe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ao(e,r,t);else if(e.tag===19)Ao(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(se(oe,n),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(r=t.child,l=null;r!==null;)e=r.alternate,e!==null&&Tn(e)===null&&(l=r),r=r.sibling;r=l,r===null?(l=t.child,t.child=null):(l=r.sibling,r.sibling=null),Rl(t,!1,l,r,a);break;case"backwards":for(r=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Tn(e)===null){t.child=l;break}e=l.sibling,l.sibling=r,r=l,l=e}Rl(t,!0,r,null,a);break;case"together":Rl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),xs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,r=Kt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function N0(e,t,r){switch(t.tag){case 3:qd(t),$s();break;case 5:vd(t);break;case 1:Ve(t.type)&&Dn(t);break;case 4:mi(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,l=t.memoizedProps.value;se(En,n._currentValue),n._currentValue=l;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(se(oe,oe.current&1),t.flags|=128,null):r&t.child.childLanes?Wd(e,t,r):(se(oe,oe.current&1),e=Lt(e,t,r),e!==null?e.sibling:null);se(oe,oe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Qd(e,t,r);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),se(oe,oe.current),n)break;return null;case 22:case 23:return t.lanes=0,Hd(e,t,r)}return Lt(e,t,r)}var Gd,Sa,Kd,Yd;Gd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sa=function(){};Kd=function(e,t,r,n){var l=e.memoizedProps;if(l!==n){e=t.stateNode,is(bt.current);var a=null;switch(r){case"input":l=Gl(e,l),n=Gl(e,n),a=[];break;case"select":l=ue({},l,{value:void 0}),n=ue({},n,{value:void 0}),a=[];break;case"textarea":l=Xl(e,l),n=Xl(e,n),a=[];break;default:typeof l.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Cn)}Jl(r,n);var i;r=null;for(u in l)if(!n.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var o=l[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fr.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=l!=null?l[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ne("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Yd=function(e,t,r,n){r!==n&&(t.flags|=4)};function Js(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var l=e.child;l!==null;)r|=l.lanes|l.childLanes,n|=l.subtreeFlags&14680064,n|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)r|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function w0(e,t,r){var n=t.pendingProps;switch(li(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Ve(t.type)&&Sn(),Se(t),null;case 3:return n=t.stateNode,Vs(),le(Oe),le(Me),hi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ut!==null&&(Aa(ut),ut=null))),Sa(e,t),Se(t),null;case 5:xi(t);var l=is(Pr.current);if(r=t.type,e!==null&&t.stateNode!=null)Kd(e,t,r,n,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(_(166));return Se(t),null}if(e=is(bt.current),Zr(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[vt]=t,n[Sr]=a,e=(t.mode&1)!==0,r){case"dialog":ne("cancel",n),ne("close",n);break;case"iframe":case"object":case"embed":ne("load",n);break;case"video":case"audio":for(l=0;l<nr.length;l++)ne(nr[l],n);break;case"source":ne("error",n);break;case"img":case"image":case"link":ne("error",n),ne("load",n);break;case"details":ne("toggle",n);break;case"input":Bi(n,a),ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ne("invalid",n);break;case"textarea":Ui(n,a),ne("invalid",n)}Jl(r,a),l=null;for(var i in a)if(a.hasOwnProperty(i)){var o=a[i];i==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Xr(n.textContent,o,e),l=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Xr(n.textContent,o,e),l=["children",""+o]):fr.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&ne("scroll",n)}switch(r){case"input":Hr(n),Hi(n,a,!0);break;case"textarea":Hr(n),qi(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Cn)}n=l,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[vt]=t,e[Sr]=n,Gd(e,t,!1,!1),t.stateNode=e;e:{switch(i=ea(r,n),r){case"dialog":ne("cancel",e),ne("close",e),l=n;break;case"iframe":case"object":case"embed":ne("load",e),l=n;break;case"video":case"audio":for(l=0;l<nr.length;l++)ne(nr[l],e);l=n;break;case"source":ne("error",e),l=n;break;case"img":case"image":case"link":ne("error",e),ne("load",e),l=n;break;case"details":ne("toggle",e),l=n;break;case"input":Bi(e,n),l=Gl(e,n),ne("invalid",e);break;case"option":l=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},l=ue({},n,{value:void 0}),ne("invalid",e);break;case"textarea":Ui(e,n),l=Xl(e,n),ne("invalid",e);break;default:l=n}Jl(r,l),o=l;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Dc(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Cc(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&gr(e,c):typeof c=="number"&&gr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(fr.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ne("scroll",e):c!=null&&Ua(e,a,c,i))}switch(r){case"input":Hr(e),Hi(e,n,!1);break;case"textarea":Hr(e),qi(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Es(e,!!n.multiple,a,!1):n.defaultValue!=null&&Es(e,!!n.multiple,n.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Cn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)Yd(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(_(166));if(r=is(Pr.current),is(bt.current),Zr(t)){if(n=t.stateNode,r=t.memoizedProps,n[vt]=t,(a=n.nodeValue!==r)&&(e=Ge,e!==null))switch(e.tag){case 3:Xr(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xr(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vt]=t,t.stateNode=n}return Se(t),null;case 13:if(le(oe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&Qe!==null&&t.mode&1&&!(t.flags&128))hd(),$s(),t.flags|=98560,a=!1;else if(a=Zr(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(_(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(_(317));a[vt]=t}else $s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),a=!1}else ut!==null&&(Aa(ut),ut=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?ye===0&&(ye=3):Si())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return Vs(),Sa(e,t),e===null&&kr(t.stateNode.containerInfo),Se(t),null;case 10:return ci(t.type._context),Se(t),null;case 17:return Ve(t.type)&&Sn(),Se(t),null;case 19:if(le(oe),a=t.memoizedState,a===null)return Se(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Js(a,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Tn(e),i!==null){for(t.flags|=128,Js(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return se(oe,oe.current&1|2),t.child}e=e.sibling}a.tail!==null&&he()>Hs&&(t.flags|=128,n=!0,Js(a,!1),t.lanes=4194304)}else{if(!n)if(e=Tn(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Js(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ae)return Se(t),null}else 2*he()-a.renderingStartTime>Hs&&r!==1073741824&&(t.flags|=128,n=!0,Js(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=he(),t.sibling=null,r=oe.current,se(oe,n?r&1|2:r&1),t):(Se(t),null);case 22:case 23:return Ci(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?We&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function k0(e,t){switch(li(t),t.tag){case 1:return Ve(t.type)&&Sn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vs(),le(Oe),le(Me),hi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xi(t),null;case 13:if(le(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));$s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(oe),null;case 4:return Vs(),null;case 10:return ci(t.type._context),null;case 22:case 23:return Ci(),null;case 24:return null;default:return null}}var tn=!1,De=!1,C0=typeof WeakSet=="function"?WeakSet:Set,V=null;function Ps(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){me(e,t,n)}else r.current=null}function Da(e,t,r){try{r()}catch(n){me(e,t,n)}}var _o=!1;function S0(e,t){if(da=Nn,e=td(),ri(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var l=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,u=0,h=0,p=e,y=null;t:for(;;){for(var b;p!==r||l!==0&&p.nodeType!==3||(o=i+l),p!==a||n!==0&&p.nodeType!==3||(c=i+n),p.nodeType===3&&(i+=p.nodeValue.length),(b=p.firstChild)!==null;)y=p,p=b;for(;;){if(p===e)break t;if(y===r&&++u===l&&(o=i),y===a&&++h===n&&(c=i),(b=p.nextSibling)!==null)break;p=y,y=p.parentNode}p=b}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ua={focusedElem:e,selectionRange:r},Nn=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var D=S.memoizedProps,A=S.memoizedState,m=t.stateNode,d=m.getSnapshotBeforeUpdate(t.elementType===t.type?D:ct(t.type,D),A);m.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(w){me(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return S=_o,_o=!1,S}function mr(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&Da(t,r,a)}l=l.next}while(l!==n)}}function nl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Pa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Xd(e){var t=e.alternate;t!==null&&(e.alternate=null,Xd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vt],delete t[Sr],delete t[ha],delete t[o0],delete t[c0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zd(e){return e.tag===5||e.tag===3||e.tag===4}function Ro(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ma(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Cn));else if(n!==4&&(e=e.child,e!==null))for(Ma(e,t,r),e=e.sibling;e!==null;)Ma(e,t,r),e=e.sibling}function Ea(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ea(e,t,r),e=e.sibling;e!==null;)Ea(e,t,r),e=e.sibling}var Ne=null,dt=!1;function At(e,t,r){for(r=r.child;r!==null;)Jd(e,t,r),r=r.sibling}function Jd(e,t,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Yn,r)}catch{}switch(r.tag){case 5:De||Ps(r,t);case 6:var n=Ne,l=dt;Ne=null,At(e,t,r),Ne=n,dt=l,Ne!==null&&(dt?(e=Ne,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ne.removeChild(r.stateNode));break;case 18:Ne!==null&&(dt?(e=Ne,r=r.stateNode,e.nodeType===8?Ml(e.parentNode,r):e.nodeType===1&&Ml(e,r),br(e)):Ml(Ne,r.stateNode));break;case 4:n=Ne,l=dt,Ne=r.stateNode.containerInfo,dt=!0,At(e,t,r),Ne=n,dt=l;break;case 0:case 11:case 14:case 15:if(!De&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){l=n=n.next;do{var a=l,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Da(r,t,i),l=l.next}while(l!==n)}At(e,t,r);break;case 1:if(!De&&(Ps(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){me(r,t,o)}At(e,t,r);break;case 21:At(e,t,r);break;case 22:r.mode&1?(De=(n=De)||r.memoizedState!==null,At(e,t,r),De=n):At(e,t,r);break;default:At(e,t,r)}}function Fo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new C0),t.forEach(function(n){var l=_0.bind(null,e,n);r.has(n)||(r.add(n),n.then(l,l))})}}function ot(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var l=r[n];try{var a=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Ne=o.stateNode,dt=!1;break e;case 3:Ne=o.stateNode.containerInfo,dt=!0;break e;case 4:Ne=o.stateNode.containerInfo,dt=!0;break e}o=o.return}if(Ne===null)throw Error(_(160));Jd(a,i,l),Ne=null,dt=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){me(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)eu(t,e),t=t.sibling}function eu(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ot(t,e),gt(e),n&4){try{mr(3,e,e.return),nl(3,e)}catch(D){me(e,e.return,D)}try{mr(5,e,e.return)}catch(D){me(e,e.return,D)}}break;case 1:ot(t,e),gt(e),n&512&&r!==null&&Ps(r,r.return);break;case 5:if(ot(t,e),gt(e),n&512&&r!==null&&Ps(r,r.return),e.flags&32){var l=e.stateNode;try{gr(l,"")}catch(D){me(e,e.return,D)}}if(n&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Nc(l,a),ea(o,i);var u=ea(o,a);for(i=0;i<c.length;i+=2){var h=c[i],p=c[i+1];h==="style"?Dc(l,p):h==="dangerouslySetInnerHTML"?Cc(l,p):h==="children"?gr(l,p):Ua(l,h,p,u)}switch(o){case"input":Kl(l,a);break;case"textarea":wc(l,a);break;case"select":var y=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?Es(l,!!a.multiple,b,!1):y!==!!a.multiple&&(a.defaultValue!=null?Es(l,!!a.multiple,a.defaultValue,!0):Es(l,!!a.multiple,a.multiple?[]:"",!1))}l[Sr]=a}catch(D){me(e,e.return,D)}}break;case 6:if(ot(t,e),gt(e),n&4){if(e.stateNode===null)throw Error(_(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(D){me(e,e.return,D)}}break;case 3:if(ot(t,e),gt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{br(t.containerInfo)}catch(D){me(e,e.return,D)}break;case 4:ot(t,e),gt(e);break;case 13:ot(t,e),gt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(wi=he())),n&4&&Fo(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(De=(u=De)||h,ot(t,e),De=u):ot(t,e),gt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(V=e,h=e.child;h!==null;){for(p=V=h;V!==null;){switch(y=V,b=y.child,y.tag){case 0:case 11:case 14:case 15:mr(4,y,y.return);break;case 1:Ps(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(D){me(n,r,D)}}break;case 5:Ps(y,y.return);break;case 22:if(y.memoizedState!==null){$o(p);continue}}b!==null?(b.return=y,V=b):$o(p)}h=h.sibling}e:for(h=null,p=e;;){if(p.tag===5){if(h===null){h=p;try{l=p.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=p.stateNode,c=p.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Sc("display",i))}catch(D){me(e,e.return,D)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(D){me(e,e.return,D)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ot(t,e),gt(e),n&4&&Fo(e);break;case 21:break;default:ot(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Zd(r)){var n=r;break e}r=r.return}throw Error(_(160))}switch(n.tag){case 5:var l=n.stateNode;n.flags&32&&(gr(l,""),n.flags&=-33);var a=Ro(e);Ea(e,a,l);break;case 3:case 4:var i=n.stateNode.containerInfo,o=Ro(e);Ma(e,o,i);break;default:throw Error(_(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function D0(e,t,r){V=e,tu(e)}function tu(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var l=V,a=l.child;if(l.tag===22&&n){var i=l.memoizedState!==null||tn;if(!i){var o=l.alternate,c=o!==null&&o.memoizedState!==null||De;o=tn;var u=De;if(tn=i,(De=c)&&!u)for(V=l;V!==null;)i=V,c=i.child,i.tag===22&&i.memoizedState!==null?Oo(l):c!==null?(c.return=i,V=c):Oo(l);for(;a!==null;)V=a,tu(a),a=a.sibling;V=l,tn=o,De=u}zo(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,V=a):zo(e)}}function zo(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:De||nl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!De)if(r===null)n.componentDidMount();else{var l=t.elementType===t.type?r.memoizedProps:ct(t.type,r.memoizedProps);n.componentDidUpdate(l,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&No(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}No(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&br(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}De||t.flags&512&&Pa(t)}catch(y){me(t,t.return,y)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function $o(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function Oo(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(c){me(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var l=t.return;try{n.componentDidMount()}catch(c){me(t,l,c)}}var a=t.return;try{Pa(t)}catch(c){me(t,a,c)}break;case 5:var i=t.return;try{Pa(t)}catch(c){me(t,i,c)}}}catch(c){me(t,t.return,c)}if(t===e){V=null;break}var o=t.sibling;if(o!==null){o.return=t.return,V=o;break}V=t.return}}var P0=Math.ceil,Rn=Tt.ReactCurrentDispatcher,bi=Tt.ReactCurrentOwner,lt=Tt.ReactCurrentBatchConfig,G=0,je=null,pe=null,we=0,We=0,Ms=es(0),ye=0,Lr=null,xs=0,ll=0,Ni=0,xr=null,Fe=null,wi=0,Hs=1/0,kt=null,Fn=!1,Ia=null,Qt=null,sn=!1,Ot=null,zn=0,hr=0,La=null,hn=-1,pn=0;function Te(){return G&6?he():hn!==-1?hn:hn=he()}function Gt(e){return e.mode&1?G&2&&we!==0?we&-we:u0.transition!==null?(pn===0&&(pn=$c()),pn):(e=ee,e!==0||(e=window.event,e=e===void 0?16:Wc(e.type)),e):1}function xt(e,t,r,n){if(50<hr)throw hr=0,La=null,Error(_(185));Rr(e,r,n),(!(G&2)||e!==je)&&(e===je&&(!(G&2)&&(ll|=r),ye===4&&zt(e,we)),Be(e,n),r===1&&G===0&&!(t.mode&1)&&(Hs=he()+500,tl&&ts()))}function Be(e,t){var r=e.callbackNode;um(e,t);var n=bn(e,e===je?we:0);if(n===0)r!==null&&Gi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gi(r),t===1)e.tag===0?d0(Vo.bind(null,e)):ud(Vo.bind(null,e)),a0(function(){!(G&6)&&ts()}),r=null;else{switch(Oc(n)){case 1:r=Ka;break;case 4:r=Fc;break;case 16:r=jn;break;case 536870912:r=zc;break;default:r=jn}r=cu(r,su.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function su(e,t){if(hn=-1,pn=0,G&6)throw Error(_(327));var r=e.callbackNode;if(_s()&&e.callbackNode!==r)return null;var n=bn(e,e===je?we:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$n(e,n);else{t=n;var l=G;G|=2;var a=nu();(je!==e||we!==t)&&(kt=null,Hs=he()+500,os(e,t));do try{I0();break}catch(o){ru(e,o)}while(!0);oi(),Rn.current=a,G=l,pe!==null?t=0:(je=null,we=0,t=ye)}if(t!==0){if(t===2&&(l=la(e),l!==0&&(n=l,t=Ta(e,l))),t===1)throw r=Lr,os(e,0),zt(e,n),Be(e,he()),r;if(t===6)zt(e,n);else{if(l=e.current.alternate,!(n&30)&&!M0(l)&&(t=$n(e,n),t===2&&(a=la(e),a!==0&&(n=a,t=Ta(e,a))),t===1))throw r=Lr,os(e,0),zt(e,n),Be(e,he()),r;switch(e.finishedWork=l,e.finishedLanes=n,t){case 0:case 1:throw Error(_(345));case 2:ns(e,Fe,kt);break;case 3:if(zt(e,n),(n&130023424)===n&&(t=wi+500-he(),10<t)){if(bn(e,0)!==0)break;if(l=e.suspendedLanes,(l&n)!==n){Te(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=xa(ns.bind(null,e,Fe,kt),t);break}ns(e,Fe,kt);break;case 4:if(zt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,l=-1;0<n;){var i=31-mt(n);a=1<<i,i=t[i],i>l&&(l=i),n&=~a}if(n=l,n=he()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*P0(n/1960))-n,10<n){e.timeoutHandle=xa(ns.bind(null,e,Fe,kt),n);break}ns(e,Fe,kt);break;case 5:ns(e,Fe,kt);break;default:throw Error(_(329))}}}return Be(e,he()),e.callbackNode===r?su.bind(null,e):null}function Ta(e,t){var r=xr;return e.current.memoizedState.isDehydrated&&(os(e,t).flags|=256),e=$n(e,t),e!==2&&(t=Fe,Fe=r,t!==null&&Aa(t)),e}function Aa(e){Fe===null?Fe=e:Fe.push.apply(Fe,e)}function M0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var l=r[n],a=l.getSnapshot;l=l.value;try{if(!ht(a(),l))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~Ni,t&=~ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mt(t),n=1<<r;e[r]=-1,t&=~n}}function Vo(e){if(G&6)throw Error(_(327));_s();var t=bn(e,0);if(!(t&1))return Be(e,he()),null;var r=$n(e,t);if(e.tag!==0&&r===2){var n=la(e);n!==0&&(t=n,r=Ta(e,n))}if(r===1)throw r=Lr,os(e,0),zt(e,t),Be(e,he()),r;if(r===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ns(e,Fe,kt),Be(e,he()),null}function ki(e,t){var r=G;G|=1;try{return e(t)}finally{G=r,G===0&&(Hs=he()+500,tl&&ts())}}function hs(e){Ot!==null&&Ot.tag===0&&!(G&6)&&_s();var t=G;G|=1;var r=lt.transition,n=ee;try{if(lt.transition=null,ee=1,e)return e()}finally{ee=n,lt.transition=r,G=t,!(G&6)&&ts()}}function Ci(){We=Ms.current,le(Ms)}function os(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,l0(r)),pe!==null)for(r=pe.return;r!==null;){var n=r;switch(li(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Sn();break;case 3:Vs(),le(Oe),le(Me),hi();break;case 5:xi(n);break;case 4:Vs();break;case 13:le(oe);break;case 19:le(oe);break;case 10:ci(n.type._context);break;case 22:case 23:Ci()}r=r.return}if(je=e,pe=e=Kt(e.current,null),we=We=t,ye=0,Lr=null,Ni=ll=xs=0,Fe=xr=null,as!==null){for(t=0;t<as.length;t++)if(r=as[t],n=r.interleaved,n!==null){r.interleaved=null;var l=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=l,n.next=i}r.pending=n}as=null}return e}function ru(e,t){do{var r=pe;try{if(oi(),un.current=_n,An){for(var n=de.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}An=!1}if(ms=0,ve=ge=de=null,ur=!1,Mr=0,bi.current=null,r===null||r.return===null){ye=1,Lr=t,pe=null;break}e:{var a=e,i=r.return,o=r,c=t;if(t=we,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var y=h.alternate;y?(h.updateQueue=y.updateQueue,h.memoizedState=y.memoizedState,h.lanes=y.lanes):(h.updateQueue=null,h.memoizedState=null)}var b=Po(i);if(b!==null){b.flags&=-257,Mo(b,i,o,a,t),b.mode&1&&Do(a,u,t),t=b,c=u;var S=t.updateQueue;if(S===null){var D=new Set;D.add(c),t.updateQueue=D}else S.add(c);break e}else{if(!(t&1)){Do(a,u,t),Si();break e}c=Error(_(426))}}else if(ae&&o.mode&1){var A=Po(i);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Mo(A,i,o,a,t),ai(Bs(c,o));break e}}a=c=Bs(c,o),ye!==4&&(ye=2),xr===null?xr=[a]:xr.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=Od(a,c,t);bo(a,m);break e;case 1:o=c;var d=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Qt===null||!Qt.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=Vd(a,o,t);bo(a,w);break e}}a=a.return}while(a!==null)}au(r)}catch(I){t=I,pe===r&&r!==null&&(pe=r=r.return);continue}break}while(!0)}function nu(){var e=Rn.current;return Rn.current=_n,e===null?_n:e}function Si(){(ye===0||ye===3||ye===2)&&(ye=4),je===null||!(xs&268435455)&&!(ll&268435455)||zt(je,we)}function $n(e,t){var r=G;G|=2;var n=nu();(je!==e||we!==t)&&(kt=null,os(e,t));do try{E0();break}catch(l){ru(e,l)}while(!0);if(oi(),G=r,Rn.current=n,pe!==null)throw Error(_(261));return je=null,we=0,ye}function E0(){for(;pe!==null;)lu(pe)}function I0(){for(;pe!==null&&!sm();)lu(pe)}function lu(e){var t=ou(e.alternate,e,We);e.memoizedProps=e.pendingProps,t===null?au(e):pe=t,bi.current=null}function au(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=k0(r,t),r!==null){r.flags&=32767,pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,pe=null;return}}else if(r=w0(r,t,We),r!==null){pe=r;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ye===0&&(ye=5)}function ns(e,t,r){var n=ee,l=lt.transition;try{lt.transition=null,ee=1,L0(e,t,r,n)}finally{lt.transition=l,ee=n}return null}function L0(e,t,r,n){do _s();while(Ot!==null);if(G&6)throw Error(_(327));r=e.finishedWork;var l=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(mm(e,a),e===je&&(pe=je=null,we=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sn||(sn=!0,cu(jn,function(){return _s(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=lt.transition,lt.transition=null;var i=ee;ee=1;var o=G;G|=4,bi.current=null,S0(e,r),eu(r,e),Zm(ua),Nn=!!da,ua=da=null,e.current=r,D0(r),rm(),G=o,ee=i,lt.transition=a}else e.current=r;if(sn&&(sn=!1,Ot=e,zn=l),a=e.pendingLanes,a===0&&(Qt=null),am(r.stateNode),Be(e,he()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)l=t[r],n(l.value,{componentStack:l.stack,digest:l.digest});if(Fn)throw Fn=!1,e=Ia,Ia=null,e;return zn&1&&e.tag!==0&&_s(),a=e.pendingLanes,a&1?e===La?hr++:(hr=0,La=e):hr=0,ts(),null}function _s(){if(Ot!==null){var e=Oc(zn),t=lt.transition,r=ee;try{if(lt.transition=null,ee=16>e?16:e,Ot===null)var n=!1;else{if(e=Ot,Ot=null,zn=0,G&6)throw Error(_(331));var l=G;for(G|=4,V=e.current;V!==null;){var a=V,i=a.child;if(V.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(V=u;V!==null;){var h=V;switch(h.tag){case 0:case 11:case 15:mr(8,h,a)}var p=h.child;if(p!==null)p.return=h,V=p;else for(;V!==null;){h=V;var y=h.sibling,b=h.return;if(Xd(h),h===u){V=null;break}if(y!==null){y.return=b,V=y;break}V=b}}}var S=a.alternate;if(S!==null){var D=S.child;if(D!==null){S.child=null;do{var A=D.sibling;D.sibling=null,D=A}while(D!==null)}}V=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,V=i;else e:for(;V!==null;){if(a=V,a.flags&2048)switch(a.tag){case 0:case 11:case 15:mr(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,V=m;break e}V=a.return}}var d=e.current;for(V=d;V!==null;){i=V;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,V=x;else e:for(i=d;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:nl(9,o)}}catch(I){me(o,o.return,I)}if(o===i){V=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,V=w;break e}V=o.return}}if(G=l,ts(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Yn,e)}catch{}n=!0}return n}finally{ee=r,lt.transition=t}}return!1}function Bo(e,t,r){t=Bs(r,t),t=Od(e,t,1),e=Wt(e,t,1),t=Te(),e!==null&&(Rr(e,1,t),Be(e,t))}function me(e,t,r){if(e.tag===3)Bo(e,e,r);else for(;t!==null;){if(t.tag===3){Bo(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Qt===null||!Qt.has(n))){e=Bs(r,e),e=Vd(t,e,1),t=Wt(t,e,1),e=Te(),t!==null&&(Rr(t,1,e),Be(t,e));break}}t=t.return}}function T0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&r,je===e&&(we&r)===r&&(ye===4||ye===3&&(we&130023424)===we&&500>he()-wi?os(e,0):Ni|=r),Be(e,t)}function iu(e,t){t===0&&(e.mode&1?(t=Wr,Wr<<=1,!(Wr&130023424)&&(Wr=4194304)):t=1);var r=Te();e=It(e,t),e!==null&&(Rr(e,t,r),Be(e,r))}function A0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),iu(e,r)}function _0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,l=e.memoizedState;l!==null&&(r=l.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(_(314))}n!==null&&n.delete(t),iu(e,r)}var ou;ou=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)$e=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $e=!1,N0(e,t,r);$e=!!(e.flags&131072)}else $e=!1,ae&&t.flags&1048576&&md(t,Mn,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xn(e,t),e=t.pendingProps;var l=zs(t,Me.current);As(t,r),l=fi(null,t,n,e,l,r);var a=gi();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(n)?(a=!0,Dn(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ui(t),l.updater=rl,t.stateNode=l,l._reactInternals=t,ja(t,n,e,r),t=wa(null,t,n,!0,a,r)):(t.tag=0,ae&&a&&ni(t),Le(null,t,l,r),t=t.child),t;case 16:n=t.elementType;e:{switch(xn(e,t),e=t.pendingProps,l=n._init,n=l(n._payload),t.type=n,l=t.tag=F0(n),e=ct(n,e),l){case 0:t=Na(null,t,n,e,r);break e;case 1:t=Lo(null,t,n,e,r);break e;case 11:t=Eo(null,t,n,e,r);break e;case 14:t=Io(null,t,n,ct(n.type,e),r);break e}throw Error(_(306,n,""))}return t;case 0:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:ct(n,l),Na(e,t,n,l,r);case 1:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:ct(n,l),Lo(e,t,n,l,r);case 3:e:{if(qd(t),e===null)throw Error(_(387));n=t.pendingProps,a=t.memoizedState,l=a.element,yd(e,t),Ln(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Bs(Error(_(423)),t),t=To(e,t,n,r,l);break e}else if(n!==l){l=Bs(Error(_(424)),t),t=To(e,t,n,r,l);break e}else for(Qe=qt(t.stateNode.containerInfo.firstChild),Ge=t,ae=!0,ut=null,r=fd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($s(),n===l){t=Lt(e,t,r);break e}Le(e,t,n,r)}t=t.child}return t;case 5:return vd(t),e===null&&ga(t),n=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,ma(n,l)?i=null:a!==null&&ma(n,a)&&(t.flags|=32),Ud(e,t),Le(e,t,i,r),t.child;case 6:return e===null&&ga(t),null;case 13:return Wd(e,t,r);case 4:return mi(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Os(t,null,n,r):Le(e,t,n,r),t.child;case 11:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:ct(n,l),Eo(e,t,n,l,r);case 7:return Le(e,t,t.pendingProps,r),t.child;case 8:return Le(e,t,t.pendingProps.children,r),t.child;case 12:return Le(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,l=t.pendingProps,a=t.memoizedProps,i=l.value,se(En,n._currentValue),n._currentValue=i,a!==null)if(ht(a.value,i)){if(a.children===l.children&&!Oe.current){t=Lt(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){i=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Pt(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),ya(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(_(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),ya(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}Le(e,t,l.children,r),t=t.child}return t;case 9:return l=t.type,n=t.pendingProps.children,As(t,r),l=at(l),n=n(l),t.flags|=1,Le(e,t,n,r),t.child;case 14:return n=t.type,l=ct(n,t.pendingProps),l=ct(n.type,l),Io(e,t,n,l,r);case 15:return Bd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:ct(n,l),xn(e,t),t.tag=1,Ve(n)?(e=!0,Dn(t)):e=!1,As(t,r),$d(t,n,l),ja(t,n,l,r),wa(null,t,n,!0,e,r);case 19:return Qd(e,t,r);case 22:return Hd(e,t,r)}throw Error(_(156,t.tag))};function cu(e,t){return Rc(e,t)}function R0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,r,n){return new R0(e,t,r,n)}function Di(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F0(e){if(typeof e=="function")return Di(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wa)return 11;if(e===Qa)return 14}return 2}function Kt(e,t){var r=e.alternate;return r===null?(r=rt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fn(e,t,r,n,l,a){var i=2;if(n=e,typeof e=="function")Di(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vs:return cs(r.children,l,a,t);case qa:i=8,l|=8;break;case Ul:return e=rt(12,r,t,l|2),e.elementType=Ul,e.lanes=a,e;case ql:return e=rt(13,r,t,l),e.elementType=ql,e.lanes=a,e;case Wl:return e=rt(19,r,t,l),e.elementType=Wl,e.lanes=a,e;case vc:return al(r,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gc:i=10;break e;case yc:i=9;break e;case Wa:i=11;break e;case Qa:i=14;break e;case _t:i=16,n=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=rt(i,r,t,l),t.elementType=e,t.type=n,t.lanes=a,t}function cs(e,t,r,n){return e=rt(7,e,n,t),e.lanes=r,e}function al(e,t,r,n){return e=rt(22,e,n,t),e.elementType=vc,e.lanes=r,e.stateNode={isHidden:!1},e}function Fl(e,t,r){return e=rt(6,e,null,t),e.lanes=r,e}function zl(e,t,r){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function z0(e,t,r,n,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yl(0),this.expirationTimes=yl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.identifierPrefix=n,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Pi(e,t,r,n,l,a,i,o,c){return e=new z0(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=rt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ui(a),e}function $0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ys,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function du(e){if(!e)return Xt;e=e._reactInternals;e:{if(fs(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var r=e.type;if(Ve(r))return dd(e,r,t)}return t}function uu(e,t,r,n,l,a,i,o,c){return e=Pi(r,n,!0,e,l,a,i,o,c),e.context=du(null),r=e.current,n=Te(),l=Gt(r),a=Pt(n,l),a.callback=t??null,Wt(r,a,l),e.current.lanes=l,Rr(e,l,n),Be(e,n),e}function il(e,t,r,n){var l=t.current,a=Te(),i=Gt(l);return r=du(r),t.context===null?t.context=r:t.pendingContext=r,t=Pt(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wt(l,t,i),e!==null&&(xt(e,l,i,a),dn(e,l,i)),i}function On(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ho(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Mi(e,t){Ho(e,t),(e=e.alternate)&&Ho(e,t)}function O0(){return null}var mu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ei(e){this._internalRoot=e}ol.prototype.render=Ei.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));il(e,t,null,null)};ol.prototype.unmount=Ei.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hs(function(){il(null,e,null,null)}),t[Et]=null}};function ol(e){this._internalRoot=e}ol.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ft.length&&t!==0&&t<Ft[r].priority;r++);Ft.splice(r,0,e),r===0&&qc(e)}};function Ii(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uo(){}function V0(e,t,r,n,l){if(l){if(typeof n=="function"){var a=n;n=function(){var u=On(i);a.call(u)}}var i=uu(t,n,e,0,null,!1,!1,"",Uo);return e._reactRootContainer=i,e[Et]=i.current,kr(e.nodeType===8?e.parentNode:e),hs(),i}for(;l=e.lastChild;)e.removeChild(l);if(typeof n=="function"){var o=n;n=function(){var u=On(c);o.call(u)}}var c=Pi(e,0,!1,null,null,!1,!1,"",Uo);return e._reactRootContainer=c,e[Et]=c.current,kr(e.nodeType===8?e.parentNode:e),hs(function(){il(t,c,r,n)}),c}function dl(e,t,r,n,l){var a=r._reactRootContainer;if(a){var i=a;if(typeof l=="function"){var o=l;l=function(){var c=On(i);o.call(c)}}il(t,i,e,l)}else i=V0(r,t,e,l,n);return On(i)}Vc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rr(t.pendingLanes);r!==0&&(Ya(t,r|1),Be(t,he()),!(G&6)&&(Hs=he()+500,ts()))}break;case 13:hs(function(){var n=It(e,1);if(n!==null){var l=Te();xt(n,e,1,l)}}),Mi(e,1)}};Xa=function(e){if(e.tag===13){var t=It(e,134217728);if(t!==null){var r=Te();xt(t,e,134217728,r)}Mi(e,134217728)}};Bc=function(e){if(e.tag===13){var t=Gt(e),r=It(e,t);if(r!==null){var n=Te();xt(r,e,t,n)}Mi(e,t)}};Hc=function(){return ee};Uc=function(e,t){var r=ee;try{return ee=e,t()}finally{ee=r}};sa=function(e,t,r){switch(t){case"input":if(Kl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var l=el(n);if(!l)throw Error(_(90));bc(n),Kl(n,l)}}}break;case"textarea":wc(e,r);break;case"select":t=r.value,t!=null&&Es(e,!!r.multiple,t,!1)}};Ec=ki;Ic=hs;var B0={usingClientEntryPoint:!1,Events:[zr,ws,el,Pc,Mc,ki]},er={findFiberByHostInstance:ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H0={bundleType:er.bundleType,version:er.version,rendererPackageName:er.rendererPackageName,rendererConfig:er.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ac(e),e===null?null:e.stateNode},findFiberByHostInstance:er.findFiberByHostInstance||O0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rn.isDisabled&&rn.supportsFiber)try{Yn=rn.inject(H0),jt=rn}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B0;Xe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ii(t))throw Error(_(200));return $0(e,t,null,r)};Xe.createRoot=function(e,t){if(!Ii(e))throw Error(_(299));var r=!1,n="",l=mu;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Pi(e,1,!1,null,null,r,!1,n,l),e[Et]=t.current,kr(e.nodeType===8?e.parentNode:e),new Ei(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=Ac(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return hs(e)};Xe.hydrate=function(e,t,r){if(!cl(t))throw Error(_(200));return dl(null,e,t,!0,r)};Xe.hydrateRoot=function(e,t,r){if(!Ii(e))throw Error(_(405));var n=r!=null&&r.hydratedSources||null,l=!1,a="",i=mu;if(r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=uu(t,null,e,1,r??null,l,!1,a,i),e[Et]=t.current,kr(e),n)for(e=0;e<n.length;e++)r=n[e],l=r._getVersion,l=l(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,l]:t.mutableSourceEagerHydrationData.push(r,l);return new ol(t)};Xe.render=function(e,t,r){if(!cl(t))throw Error(_(200));return dl(null,e,t,!1,r)};Xe.unmountComponentAtNode=function(e){if(!cl(e))throw Error(_(40));return e._reactRootContainer?(hs(function(){dl(null,null,e,!1,function(){e._reactRootContainer=null,e[Et]=null})}),!0):!1};Xe.unstable_batchedUpdates=ki;Xe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!cl(r))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return dl(e,t,r,!1,n)};Xe.version="18.3.1-next-f1338f8080-20240426";function xu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xu)}catch(e){console.error(e)}}xu(),xc.exports=Xe;var U0=xc.exports,hu,qo=U0;hu=qo.createRoot,qo.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),$=(e,t)=>{const r=P.forwardRef(({color:n="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:c,...u},h)=>P.createElement("svg",{ref:h,...q0,width:l,height:l,stroke:n,strokeWidth:i?Number(a)*24/Number(l):a,className:["lucide",`lucide-${W0(e)}`,o].join(" "),...u},[...t.map(([p,y])=>P.createElement(p,y)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=$("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=$("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=$("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=$("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=$("ArrowRightCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=$("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=$("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=$("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=$("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=$("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=$("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=$("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=$("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=$("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=$("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=$("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=$("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=$("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=$("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=$("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=$("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=$("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=$("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=$("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=$("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=$("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=$("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=$("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=$("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=$("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=$("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=$("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=$("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=$("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=$("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=$("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=$("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=$("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=$("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=$("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=$("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=$("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=$("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=$("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=$("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=$("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=$("PencilLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=$("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=$("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=$("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=$("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=$("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=$("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=$("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=$("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=$("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=$("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=$("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=$("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=$("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=$("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=$("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=$("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=$("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=$("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=$("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=$("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=$("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=$("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=$("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=$("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cx=({activeSection:e,setActiveSection:t,isOpen:r,setIsOpen:n,currentUser:l})=>{const i=l.role==="ADMIN"?[{id:"/admin/dashboard",label:"Dashboard",icon:fu},{id:"/admin/pipeline",label:"Pipeline",icon:st},{id:"/admin/clients",label:"Clients",icon:nt},{id:"/admin/calendrier",label:"Calendrier",icon:ce},{id:"/admin/seances",label:"Séances",icon:Pe},{id:"/admin/facturation",label:"Facturation",icon:Nt},{id:"/admin/equipe",label:"Équipe",icon:kx},{id:"/admin/settings",label:"Paramètres",icon:Ra}]:[{id:"/coach/pipeline",label:"Pipeline",icon:st},{id:"/coach/clients",label:"Clients",icon:nt},{id:"/coach/calendrier",label:"Calendrier",icon:ce},{id:"/coach/seances",label:"Séances",icon:Pe},{id:"/coach/facturation",label:"Facturation",icon:Nt},{id:"/coach/settings",label:"Paramètres",icon:Ra}],o=c=>{t(c),n(!1)};return s.jsxs(s.Fragment,{children:[r&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>n(!1)}),s.jsxs("aside",{className:`
        sidebar fixed lg:relative inset-y-0 left-0 z-50 bg-white border-r border-gray-200 min-h-dvh lg:min-h-0
        transform transition-transform duration-300 ease-in-out lg:transform-none
        ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        flex flex-col shadow-xl lg:shadow-none
      `,children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"CoachCRM"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1 font-medium",children:l.role==="ADMIN"?"Administration":"Espace Coach"})]}),s.jsx("button",{onClick:()=>n(!1),className:"lg:hidden p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200",children:s.jsx(Ie,{className:"w-5 h-5"})})]}),s.jsx("nav",{className:"flex-1 p-4 overflow-y-auto",children:s.jsx("ul",{className:"space-y-2",children:i.map(c=>{const u=c.icon,h=e===c.id;return s.jsx("li",{children:s.jsxs("button",{onClick:()=>o(c.id),className:`
                      w-full flex items-center px-3 py-3 text-sm font-medium rounded-lg 
                      transition-all duration-200 group
                      ${h?"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 shadow-sm border border-blue-100":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}
                    `,children:[s.jsx(u,{className:`
                      w-5 h-5 mr-3 transition-colors duration-200
                      ${h?"text-blue-600":"text-gray-500 group-hover:text-gray-700"}
                    `}),s.jsx("span",{children:c.label}),h&&s.jsx("div",{className:"ml-auto w-2 h-2 bg-blue-600 rounded-full"})]})},c.id)})})}),s.jsx("div",{className:"p-4 border-t border-gray-100",children:s.jsxs("div",{className:"text-xs text-gray-500 text-center",children:[s.jsx("p",{children:"© 2024 CoachCRM"}),s.jsx("p",{children:"Version 1.0.0"})]})})]})]})},Sx=({isOpen:e,onClose:t,onAddClient:r,staff:n=[],currentUser:l})=>{const[a,i]=P.useState({name:"",email:"",phone:"",company:"",status:"active",tags:"",coachingProgram:"",goals:"",assignedCoachId:l.id,hourlyRate:"150",packagePrice:"",paymentMethod:"package"}),o=u=>{u.preventDefault();const h={id:Date.now(),name:a.name,email:a.email,phone:a.phone,company:a.company,status:a.status,tags:a.tags?a.tags.split(",").map(p=>p.trim()).filter(p=>p):[],lastContact:"Just added",starred:!1,coachingProgram:a.coachingProgram,startDate:new Date().toISOString().split("T")[0],sessionsCompleted:0,totalSessions:12,goals:a.goals?a.goals.split(",").map(p=>p.trim()).filter(p=>p):[],progress:"Nouveau client",value:0,assignedCoachId:a.assignedCoachId,billing:{hourlyRate:parseInt(a.hourlyRate)||150,packagePrice:a.packagePrice?parseInt(a.packagePrice):void 0,paymentMethod:a.paymentMethod,invoices:[],totalPaid:0,totalDue:0}};r(h),i({name:"",email:"",phone:"",company:"",status:"active",tags:"",coachingProgram:"",goals:"",assignedCoachId:l.id,hourlyRate:"150",packagePrice:"",paymentMethod:"package"}),t()},c=u=>{i({...a,[u.target.name]:u.target.value})};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50 rounded-t-2xl",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Add New Client"}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200 hover:shadow-sm",children:s.jsx(Ie,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(be,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),s.jsx("input",{type:"text",name:"name",value:a.name,onChange:c,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"Enter client's full name"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(fe,{className:"w-4 h-4 inline mr-2"}),"Email Address"]}),s.jsx("input",{type:"email",name:"email",value:a.email,onChange:c,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"client@example.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Ee,{className:"w-4 h-4 inline mr-2"}),"Phone Number"]}),s.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:c,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"+1 (555) 123-4567"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(ul,{className:"w-4 h-4 inline mr-2"}),"Company"]}),s.jsx("input",{type:"text",name:"company",value:a.company,onChange:c,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"Company name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Programme de Coaching"}),s.jsx("input",{type:"text",name:"coachingProgram",value:a.coachingProgram,onChange:c,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"Ex: Leadership & Confiance - 12 séances"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(lr,{className:"w-4 h-4 inline mr-2"}),"Coach Assigné"]}),s.jsx("select",{name:"assignedCoachId",value:a.assignedCoachId,onChange:c,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",children:n.filter(u=>u.role==="coach"||u.role==="admin").map(u=>s.jsxs("option",{value:u.id,children:[u.name," (",u.role==="admin"?"Administrateur":"Coach",")"]},u.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{name:"status",value:a.status,onChange:c,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",children:[s.jsx("option",{value:"active",children:"Actif"}),s.jsx("option",{value:"paused",children:"En pause"}),s.jsx("option",{value:"completed",children:"Terminé"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Qo,{className:"w-4 h-4 inline mr-2"}),"Objectifs"]}),s.jsx("input",{type:"text",name:"goals",value:a.goals,onChange:c,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"Leadership, Communication, Confiance (séparés par des virgules)"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Qo,{className:"w-4 h-4 inline mr-2"}),"Tags"]}),s.jsx("input",{type:"text",name:"tags",value:a.tags,onChange:c,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"VIP, Prioritaire, Urgent (séparés par des virgules)"})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations de Facturation"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Ar,{className:"w-4 h-4 inline mr-2"}),"Tarif Horaire (€)"]}),s.jsx("input",{type:"number",name:"hourlyRate",value:a.hourlyRate,onChange:c,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"150"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Mode de Paiement"}),s.jsxs("select",{name:"paymentMethod",value:a.paymentMethod,onChange:c,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",children:[s.jsx("option",{value:"package",children:"Forfait"}),s.jsx("option",{value:"monthly",children:"Mensuel"}),s.jsx("option",{value:"per_session",children:"Par séance"})]})]})]}),a.paymentMethod==="package"&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Ti,{className:"w-4 h-4 inline mr-2"}),"Prix du Forfait (€)"]}),s.jsx("input",{type:"number",name:"packagePrice",value:a.packagePrice,onChange:c,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"1800"})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2.5 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all duration-200 font-semibold shadow-sm hover:shadow-md",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-semibold shadow-md hover:shadow-lg",children:"Add Client"})]})]})]})}):null},Dx=({items:e,dense:t=!1,role:r="ADMIN",loading:n=!1,error:l=null,onRetry:a})=>{const i=u=>{switch(u){case"blue":return"from-blue-50 to-indigo-50 border-blue-100 bg-blue-100 text-blue-600";case"green":return"from-green-50 to-emerald-50 border-green-100 bg-green-100 text-green-600";case"purple":return"from-purple-50 to-pink-50 border-purple-100 bg-purple-100 text-purple-600";case"orange":return"from-orange-50 to-amber-50 border-orange-100 bg-orange-100 text-orange-600";case"red":return"from-red-50 to-pink-50 border-red-100 bg-red-100 text-red-600";case"gray":return"from-gray-50 to-slate-50 border-gray-100 bg-gray-100 text-gray-600";default:return"from-blue-50 to-indigo-50 border-blue-100 bg-blue-100 text-blue-600"}},o=u=>{switch(u){case"positive":return"text-green-600";case"negative":return"text-red-600";case"neutral":return"text-gray-600";default:return"text-gray-600"}},c=u=>{switch(u){case"positive":return"↗";case"negative":return"↘";case"neutral":return"→";default:return""}};return n?s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:`px-4 sm:px-6 ${t?"py-3":"py-4"}`,children:s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[...Array(4)].map((u,h)=>s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"bg-gray-50 rounded-lg p-3 sm:p-4 border border-gray-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg flex-shrink-0"}),s.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[s.jsx("div",{className:"h-3 bg-gray-200 rounded w-20 mb-2"}),s.jsx("div",{className:"h-5 bg-gray-200 rounded w-12"})]})]})})},h))})})}):l?s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:`px-4 sm:px-6 ${t?"py-3":"py-4"}`,children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[s.jsx("p",{className:"text-red-800 font-medium mb-2",children:"Erreur lors du chargement des KPI"}),s.jsx("p",{className:"text-red-600 text-sm mb-4",children:l}),a&&s.jsx("button",{onClick:a,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 text-sm font-medium",children:"Réessayer"})]})})}):e.length===0?s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:`px-4 sm:px-6 ${t?"py-3":"py-4"}`,children:s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:s.jsx("p",{className:"text-gray-600",children:"Aucune donnée KPI disponible"})})})}):s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:`px-4 sm:px-6 ${t?"py-3":"py-4"}`,children:s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:e.map((u,h)=>{const p=u.icon,y=i(u.color),[b,S,D,A]=y.split(" ");return s.jsx("div",{className:`bg-gradient-to-r ${b} ${t?"p-3":"p-3 sm:p-4"} rounded-lg border ${S}`,title:u.tooltip,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-8 h-8 ${D} rounded-lg flex items-center justify-center flex-shrink-0`,children:s.jsx(p,{className:`w-4 h-4 ${A}`})}),s.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[s.jsx("p",{className:`${t?"text-xs":"text-xs sm:text-sm"} font-medium text-gray-600 truncate`,children:u.label}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:`${t?"text-sm":"text-sm sm:text-lg"} font-bold text-gray-900`,children:typeof u.value=="number"?u.value.toLocaleString("fr-FR"):u.value}),u.delta&&s.jsxs("span",{className:`text-xs font-medium ${o(u.delta.type)} flex items-center`,children:[s.jsx("span",{className:"mr-1",children:c(u.delta.type)}),u.delta.value>0?"+":"",u.delta.value,u.delta.label&&s.jsx("span",{className:"ml-1",children:u.delta.label})]})]})]})]})},h)})})})})},ml=Kn.memo(Dx);function Ko({clients:e,onSelectClient:t,selectedClientId:r,onAddClient:n,staff:l=[],currentUser:a,sessions:i=[]}){const[o,c]=P.useState(""),[u,h]=P.useState("Tous"),[p,y]=P.useState("all"),[b,S]=P.useState(!1),[D,A]=P.useState("cards"),m=e.filter(g=>{var H;const f=g.name.toLowerCase().includes(o.toLowerCase())||g.email.toLowerCase().includes(o.toLowerCase())||((H=g.company)==null?void 0:H.toLowerCase().includes(o.toLowerCase())),E=u==="Tous"||g.status===u,M=p==="all"||g.assignedCoachId===p,k=a.role==="ADMIN"||g.assignedCoachId===a.id;return f&&E&&M&&k}),d=(g,f)=>f>0?Math.round(g/f*100):0,x=g=>{n(g),S(!1)},w=g=>l.find(f=>f.id===g.assignedCoachId),I=()=>{const g=new Date,f=new Date(g.getTime()-29*24*60*60*1e3),E=new Date(g.getTime()-59*24*60*60*1e3),M=new Date(g.getTime()-30*24*60*60*1e3),H=(X=>{const Z=new Date(X),ie=Z.getDay(),re=Z.getDate()-ie+(ie===0?-6:1);return new Date(Z.setDate(re))})(g),B=new Date(H.getTime()+6*24*60*60*1e3);if(a.role==="ADMIN"){const X=e.filter(N=>N.status==="active").length,Z=e.filter(N=>{const T=new Date(N.startDate);return T>=f&&T<=g}).length,ie=e.filter(N=>{const T=new Date(N.startDate);return T>=E&&T<=M}).length,re=ie>0?Math.round((Z-ie)/ie*100):Z>0?100:0,R=i.filter(N=>{const T=new Date(N.date);return T>=H&&T<=B&&N.assignedCoachId===a.id}).length,L=i.filter(N=>N.status==="completed").length;return[{label:"Clients actifs",value:X,icon:nt,color:"blue",tooltip:"Nombre global de clients avec statut Actif"},{label:"Nouv. clients 30j",value:Z,icon:st,color:"green",delta:{value:re,type:re>0?"positive":re<0?"negative":"neutral",label:"vs 30j-1"},tooltip:"Clients créés sur les 30 derniers jours"},{label:"Mes séances cette semaine",value:R,icon:ce,color:"purple",tooltip:"Séances assignées à l'utilisateur courant cette semaine"},{label:"Séances réalisées",value:L,icon:Pe,color:"orange",tooltip:"Nombre global de séances au statut réalisée"}]}else{const X=e.filter(L=>L.assignedCoachId===a.id),Z=X.filter(L=>L.status==="active").length,ie=X.filter(L=>{const N=new Date(L.startDate);return N>=f&&N<=g}).length,re=i.filter(L=>{const N=new Date(L.date);return N>=H&&N<=B&&L.assignedCoachId===a.id}).length,R=i.filter(L=>L.status==="completed"&&L.assignedCoachId===a.id).length;return[{label:"Mes clients actifs",value:Z,icon:nt,color:"blue",tooltip:"Clients Actifs assignés au coach courant"},{label:"Nouv. clients 30j",value:ie,icon:st,color:"green",tooltip:"Clients créés ces 30 derniers jours assignés au coach courant"},{label:"Mes séances cette semaine",value:re,icon:ce,color:"purple",tooltip:"Séances du coach courant sur la semaine ISO en cours"},{label:"Séances réalisées",value:R,icon:Pe,color:"orange",tooltip:"Total des séances réalisées par ce coach"}]}};return s.jsxs("div",{className:"flex flex-col bg-white min-h-0",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Clients Actifs"}),s.jsxs("button",{onClick:()=>S(!0),className:"bg-indigo-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2 text-sm sm:text-base",children:[s.jsx(He,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Nouveau Client"}),s.jsx("span",{className:"sm:hidden",children:"Nouveau"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un client...",value:o,onChange:g=>c(g.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm sm:text-base"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[s.jsxs("select",{value:u,onChange:g=>h(g.target.value),className:"px-3 sm:px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm sm:text-base",children:[s.jsx("option",{value:"Tous",children:"Tous les statuts"}),s.jsx("option",{value:"active",children:"Actif"}),s.jsx("option",{value:"paused",children:"En pause"}),s.jsx("option",{value:"completed",children:"Terminé"})]}),a.role==="ADMIN"&&s.jsxs("select",{value:p,onChange:g=>y(g.target.value==="all"?"all":Number(g.target.value)),className:"px-3 sm:px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm sm:text-base",children:[s.jsx("option",{value:"all",children:"Tous les coachs"}),l.filter(g=>g.role==="COACH"||g.role==="ADMIN").map(g=>s.jsx("option",{value:g.id,children:g.name},g.id))]})]})]})]}),s.jsx(ml,{items:I(),role:a.role,dense:!1}),s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:m.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[s.jsx(be,{className:"w-12 h-12 mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"Aucun client trouvé"}),s.jsx("p",{className:"text-sm",children:"Commencez par ajouter votre premier client"})]}):s.jsx("div",{className:"p-4 space-y-3",children:m.map(g=>{const f=d(g.sessionsCompleted,g.totalSessions),E=w(g);return s.jsx("div",{onClick:()=>t(g),className:`p-4 rounded-lg border cursor-pointer transition-all hover:shadow-md ${r===g.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm sm:text-base",children:g.name.split(" ").map(M=>M[0]).join("").toUpperCase()}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:g.name}),s.jsx("p",{className:"text-sm text-gray-600",children:g.coachingProgram}),E&&s.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["Coach: ",E.name]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(fe,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate",children:g.email})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Ee,{className:"w-4 h-4"}),g.phone]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600",children:"Progression"}),s.jsxs("span",{className:"font-medium",children:[g.sessionsCompleted,"/",g.totalSessions," séances"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}})}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[f,"% complété"]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mb-1",children:[s.jsx(Pe,{className:"w-4 h-4"}),"Objectifs principaux"]}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[(g.goals??[]).slice(0,2).map((M,k)=>s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:M},k)),(g.goals??[]).length>2&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",(g.goals??[]).length-2," autres"]})]})]}),g.nextSession&&s.jsxs("div",{className:"flex items-start sm:items-center gap-2 text-sm text-gray-600",children:[s.jsx(ce,{className:"w-4 h-4"}),s.jsxs("span",{className:"break-words",children:["Prochaine séance : ",new Date(g.nextSession).toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-base sm:text-lg font-bold text-gray-900",children:[g.value.toLocaleString("fr-FR"),"€"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"CA généré"}),g.billing&&g.billing.totalDue>0&&s.jsxs("div",{className:"text-sm font-medium text-orange-600 mt-1",children:[g.billing.totalDue.toLocaleString("fr-FR"),"€ dû"]})]})]})},g.id)})})}),s.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-200 bg-gray-50",children:s.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs("select",{value:u,onChange:g=>h(g.target.value),className:"px-3 sm:px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-sm sm:text-base",children:[s.jsx("option",{value:"Tous",children:"Tous les statuts"}),s.jsx("option",{value:"active",children:"Actif"}),s.jsx("option",{value:"paused",children:"En pause"}),s.jsx("option",{value:"completed",children:"Terminé"})]}),s.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden w-fit",children:[s.jsx("button",{onClick:()=>A("cards"),className:`px-2 sm:px-3 py-2 text-sm font-medium transition-colors ${D==="cards"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:s.jsx(ix,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>A("list"),className:`px-2 sm:px-3 py-2 text-sm font-medium transition-colors border-l border-gray-300 ${D==="list"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:s.jsx(cx,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>A("grid"),className:`px-2 sm:px-3 py-2 text-sm font-medium transition-colors border-l border-gray-300 ${D==="grid"?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:s.jsx(lx,{className:"w-4 h-4"})})]})]})})}),b&&s.jsx(Sx,{isOpen:b,onClose:()=>S(!1),onAddClient:x,staff:l,currentUser:a})]})}const _i=({isOpen:e,onClose:t,client:r,clients:n=[],sessions:l=[],onCreateInvoice:a})=>{const[i,o]=P.useState((r==null?void 0:r.id)||0),[c,u]=P.useState({dueDate:"",notes:""}),[h,p]=P.useState([]),[y]=P.useState([{id:1,name:"Séance de coaching individuel",description:"Séance de coaching 1h",unitPrice:150,category:"Coaching"},{id:2,name:"Séance de coaching groupe",description:"Séance de coaching en groupe 2h",unitPrice:80,category:"Coaching"},{id:3,name:"Bilan de compétences",description:"Bilan complet avec rapport",unitPrice:500,category:"Bilan"},{id:4,name:"Formation leadership",description:"Formation leadership 1 jour",unitPrice:800,category:"Formation"}]),[b,S]=P.useState([]),[D,A]=P.useState([]),[m,d]=P.useState({name:"",description:"",unitPrice:0,category:"Coaching"}),[x,w]=P.useState(!1),I=r||n.find(N=>N.id===i),g=l.filter(N=>N.clientId===i&&N.status==="completed"),f=()=>{const N=new Date().getFullYear(),T=String(new Date().getMonth()+1).padStart(2,"0"),j=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`INV-${N}-${T}-${j}`},E=()=>[...y,...b],M=()=>{let N=0;return h.forEach(T=>{g.find(z=>z.id===T)&&I&&(N+=I.billing.hourlyRate)}),D.forEach(T=>{const j=E().find(z=>z.id===T.productId);if(j){const z=T.customPrice!==void 0?T.customPrice:j.unitPrice;N+=z*T.quantity}}),N},k=N=>{if(N.preventDefault(),!I)return;const T=[];let j=1;h.forEach(J=>{const te=g.find(xe=>xe.id===J);te&&T.push({id:j++,description:`Séance ${te.type} - ${new Date(te.date).toLocaleDateString("fr-FR")}`,quantity:1,unitPrice:I.billing.hourlyRate,total:I.billing.hourlyRate})}),D.forEach(J=>{const te=E().find(xe=>xe.id===J.productId);if(te){const xe=J.customPrice!==void 0?J.customPrice:te.unitPrice;T.push({id:j++,description:te.name,quantity:J.quantity,unitPrice:xe,total:xe*J.quantity})}});const z={id:Date.now(),clientId:I.id,invoiceNumber:f(),date:new Date().toISOString().split("T")[0],dueDate:c.dueDate,amount:M(),status:"draft",items:T,notes:c.notes};a(z),u({dueDate:"",notes:""}),p([]),A([]),S([]),t()},H=N=>{u({...c,[N.target.name]:N.target.value})},B=N=>{o(N),p([])},X=N=>{p(T=>T.includes(N)?T.filter(j=>j!==N):[...T,N])},Z=()=>{if(m.name&&m.unitPrice>0){const N={id:Date.now(),...m};S([...b,N]),d({name:"",description:"",unitPrice:0,category:"Coaching"}),w(!1)}},ie=N=>{D.find(T=>T.productId===N)||A([...D,{productId:N,quantity:1}])},re=(N,T)=>{A(j=>j.map(z=>z.productId===N?{...z,quantity:T}:z))},R=(N,T)=>{A(j=>j.map(z=>z.productId===N?{...z,customPrice:T}:z))},L=N=>{A(T=>T.filter(j=>j.productId!==N))};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{position:"fixed"},children:s.jsxs("div",{className:"modal-content bg-white rounded-2xl shadow-2xl w-full max-w-6xl border border-gray-100 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50 rounded-t-2xl flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ze,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Créer une Facture"}),s.jsx("p",{className:"text-sm text-gray-600",children:I?`Pour ${I.name}`:"Sélectionnez un client"})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200",children:s.jsx(Ie,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:s.jsx("div",{className:"p-6",children:s.jsxs("form",{onSubmit:k,className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations Client"}),!r&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Sélectionner un Client"}),s.jsxs("select",{value:i,onChange:N=>B(Number(N.target.value)),required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",children:[s.jsx("option",{value:0,children:"Choisir un client..."}),n.map(N=>s.jsxs("option",{value:N.id,children:[N.name," - ",N.coachingProgram]},N.id))]})]}),I&&s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-md",children:s.jsx("span",{className:"text-lg font-bold text-white",children:I.name.split(" ").map(N=>N[0]).join("")})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h4",{className:"text-lg font-bold text-gray-900",children:I.name}),s.jsx("p",{className:"text-sm text-gray-600",children:I.coachingProgram})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(fe,{className:"w-4 h-4 mr-2"}),I.email]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Ee,{className:"w-4 h-4 mr-2"}),I.phone]}),I.company&&s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(ul,{className:"w-4 h-4 mr-2"}),I.company]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(be,{className:"w-4 h-4 mr-2"}),"Tarif: ",I.billing.hourlyRate,"€/h"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Détails de la Facture"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Numéro de Facture"}),s.jsx("input",{type:"text",value:f(),disabled:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-lg bg-gray-50 text-gray-600 font-medium"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date d'Échéance"}),s.jsx("input",{type:"date",name:"dueDate",value:c.dueDate,onChange:H,required:!0,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium"})]})]})]})]}),I&&g.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Séances Réalisées"}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:s.jsx("div",{className:"space-y-2",children:g.map(N=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{type:"button",onClick:()=>X(N.id),className:"mr-3 text-blue-600 hover:text-blue-800",children:h.includes(N.id)?s.jsx(_a,{className:"w-5 h-5"}):s.jsx(Fa,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Séance ",N.type," - ",new Date(N.date).toLocaleDateString("fr-FR")]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[N.duration," minutes"]})]})]}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[I.billing.hourlyRate,"€"]})]},N.id))})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Produits et Services"}),s.jsxs("button",{type:"button",onClick:()=>w(!0),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center",children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),"Nouveau Produit"]})]}),x&&s.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200 mb-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Créer un Nouveau Produit"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du produit"}),s.jsx("input",{type:"text",value:m.name,onChange:N=>d({...m,name:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Ex: Formation leadership avancé"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prix unitaire (€)"}),s.jsx("input",{type:"number",value:m.unitPrice,onChange:N=>d({...m,unitPrice:parseFloat(N.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catégorie"}),s.jsxs("select",{value:m.category,onChange:N=>d({...m,category:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"Coaching",children:"Coaching"}),s.jsx("option",{value:"Formation",children:"Formation"}),s.jsx("option",{value:"Bilan",children:"Bilan"}),s.jsx("option",{value:"Autre",children:"Autre"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("input",{type:"text",value:m.description,onChange:N=>d({...m,description:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Description du produit"})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-4",children:[s.jsx("button",{type:"button",onClick:Z,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Ajouter le Produit"}),s.jsx("button",{type:"button",onClick:()=>w(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors duration-200",children:"Annuler"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:E().map(N=>s.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-blue-300 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:N.name}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:N.description}),s.jsxs("div",{className:"flex items-center mt-2",children:[s.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:N.category}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900 ml-2",children:[N.unitPrice,"€"]})]})]}),s.jsx("button",{type:"button",onClick:()=>ie(N.id),disabled:D.some(T=>T.productId===N.id),className:"ml-3 px-3 py-1 bg-blue-600 text-white text-xs rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:D.some(T=>T.productId===N.id)?"Ajouté":"Ajouter"})]})},N.id))}),D.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Produits sur la Facture"}),s.jsx("div",{className:"space-y-3",children:D.map(N=>{const T=E().find(z=>z.id===N.productId);if(!T)return null;const j=N.customPrice!==void 0?N.customPrice:T.unitPrice;return s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-center",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("h5",{className:"text-sm font-semibold text-gray-900",children:T.name}),s.jsx("p",{className:"text-xs text-gray-600",children:T.description})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Quantité"}),s.jsx("input",{type:"number",min:"1",value:N.quantity,onChange:z=>re(N.productId,parseInt(z.target.value)||1),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Prix unitaire (€)"}),s.jsx("input",{type:"number",step:"0.01",value:j,onChange:z=>R(N.productId,parseFloat(z.target.value)||0),className:"w-full px-2 py-1 border border-gray-300 rounded text-sm"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[(j*N.quantity).toLocaleString("fr-FR"),"€"]}),s.jsx("button",{type:"button",onClick:()=>L(N.productId),className:"p-1 text-red-400 hover:text-red-600 rounded",children:s.jsx(Wn,{className:"w-4 h-4"})})]})]})},N.productId)})})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Z0,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Total de la Facture"})]}),s.jsxs("span",{className:"text-3xl font-bold text-blue-700",children:[M().toLocaleString("fr-FR"),"€"]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notes (optionnel)"}),s.jsx("textarea",{name:"notes",value:c.notes,onChange:H,rows:4,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium resize-none",placeholder:"Notes additionnelles pour la facture..."})]})]})})}),s.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-2xl flex-shrink-0",children:s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all duration-200 font-semibold shadow-sm hover:shadow-md",children:"Annuler"}),s.jsxs("button",{onClick:k,disabled:!I||h.length===0&&D.length===0,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-semibold shadow-md hover:shadow-lg flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(ze,{className:"w-5 h-5 mr-2"}),"Créer la Facture"]})]})})]})}):null},Yo=({prospect:e,client:t,sessions:r=[],onClose:n,onUpdateClient:l,onCreateSession:a})=>{const[i,o]=P.useState(!1),[c,u]=P.useState(!1),[h,p]=P.useState(!1),[y,b]=P.useState(""),[S,D]=P.useState(""),A=t?r.filter(M=>M.clientId===t.id&&M.status==="scheduled"&&new Date(M.date)>new Date).sort((M,k)=>new Date(M.date).getTime()-new Date(k.date).getTime()):[],m=M=>{switch(M){case"lead":return"bg-gray-100 text-gray-800";case"contacted":return"bg-blue-100 text-blue-800";case"meeting_scheduled":return"bg-purple-100 text-purple-800";case"proposal_sent":return"bg-yellow-100 text-yellow-800";case"negotiation":return"bg-orange-100 text-orange-800";case"closed_won":return"bg-green-100 text-green-800";case"closed_lost":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=M=>{switch(M){case"active":return"bg-green-100 text-green-800";case"paused":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},x={lead:"Prospect",contacted:"Contacté",meeting_scheduled:"RDV Planifié",proposal_sent:"Proposition Envoyée",negotiation:"Négociation",closed_won:"Client Signé",closed_lost:"Perdu"},w=e||t,I=()=>{if(t!=null&&t.nextSession){const M=new Date(t.nextSession);b(M.toISOString().split("T")[0]),D(M.toTimeString().slice(0,5))}else b(""),D("");p(!0)},g=()=>{if(t&&l&&y&&S){const M=`${y}T${S}:00`,k={...t,nextSession:M};l(k),p(!1)}},f=()=>{p(!1),b(""),D("")},E=M=>{if(t&&l){const k={...t,billing:{...t.billing,invoices:[...t.billing.invoices,M],totalDue:t.billing.totalDue+M.amount}};l(k)}};return s.jsxs("div",{className:`fixed right-0 top-0 w-full sm:w-80 lg:w-96 bg-white border-l border-gray-100 h-screen overflow-auto transform transition-transform duration-300 ease-in-out z-50 shadow-xl ${w?"translate-x-0":"translate-x-full"}`,style:{position:"fixed"},children:[!w&&s.jsx("div",{className:"h-full flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4 shadow-md",children:s.jsx(be,{className:"w-8 h-8 text-gray-400"})}),s.jsx("p",{className:"text-gray-600 font-medium",children:"Sélectionnez un contact pour voir les détails"})]})}),w&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 tracking-tight",children:e?"Détails du Prospect":"Détails du Client"}),s.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200 hover:shadow-sm",children:s.jsx(Ie,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between space-y-4 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-base sm:text-lg font-bold text-white",children:w.name.split(" ").map(M=>M[0]).join("")})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 break-words",children:w.name}),w.starred&&s.jsx(Ai,{className:"w-5 h-5 text-yellow-500 ml-2 fill-current drop-shadow-sm"})]}),s.jsx("p",{className:"text-sm text-gray-600 font-medium break-words",children:e?e.source:t==null?void 0:t.coachingProgram})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200 hover:shadow-sm",children:s.jsx(Un,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-red-600 rounded-lg hover:bg-red-50 transition-all duration-200 hover:shadow-sm",children:s.jsx(Wn,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("span",{className:`inline-flex px-4 py-1.5 text-sm font-semibold rounded-full shadow-sm ${e?m(e.status):d(t.status)}`,children:e?x[e.status]:w.status})})]}),s.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 drawer-content",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4 uppercase tracking-wider",children:"Contact Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(fe,{className:"w-4 h-4 text-gray-400 mr-3"}),s.jsx("span",{className:"text-sm text-gray-700 font-medium break-all",children:w.email})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ee,{className:"w-4 h-4 text-gray-400 mr-3"}),s.jsx("span",{className:"text-sm text-gray-700 font-medium",children:w.phone})]}),e&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Rs,{className:"w-4 h-4 text-gray-400 mr-3"}),s.jsxs("span",{className:"text-sm text-gray-700 font-medium break-words",children:["Source: ",e.source]})]}),t&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(ce,{className:"w-4 h-4 text-gray-400 mr-3"}),s.jsxs("span",{className:"text-sm text-gray-700 font-medium break-words",children:["Client depuis ",new Date(t.startDate).toLocaleDateString()]})]})]})]}),e&&s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4 uppercase tracking-wider",children:"Informations Coaching"}),s.jsxs("div",{className:"space-y-3",children:[e.coachingGoals&&s.jsxs("div",{className:"flex items-start",children:[s.jsx(Pe,{className:"w-4 h-4 text-gray-400 mr-3 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Objectifs"}),s.jsx("p",{className:"text-sm text-gray-700",children:e.coachingGoals})]})]}),e.budget&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ar,{className:"w-4 h-4 text-gray-400 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),s.jsx("p",{className:"text-sm text-gray-700",children:e.budget})]})]}),e.timeline&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-4 h-4 text-gray-400 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durée souhaitée"}),s.jsx("p",{className:"text-sm text-gray-700",children:e.timeline})]})]})]})]})}),t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4 uppercase tracking-wider",children:"Programme de Coaching"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-100",children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900 mb-2",children:t.coachingProgram}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Progression"}),s.jsxs("span",{className:"text-xs font-medium text-gray-900",children:[t.sessionsCompleted,"/",t.totalSessions," séances"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 h-2 rounded-full",style:{width:`${t.sessionsCompleted/t.totalSessions*100}%`}})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Prochaines Séances"}),s.jsx("button",{onClick:()=>u(!0),className:"p-1 text-blue-600 hover:text-blue-800 rounded transition-colors",title:"Planifier une nouvelle séance",children:s.jsx(He,{className:"w-4 h-4"})})]}),A.length>0?s.jsx("div",{className:"space-y-2",children:A.map((M,k)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-100",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ce,{className:"w-4 h-4 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[new Date(M.date).toLocaleDateString("fr-FR")," à ",new Date(M.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),s.jsx("p",{className:"text-xs text-gray-600",children:M.type})]})]}),h?s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:g,className:"px-2 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors",children:"Sauver"}),s.jsx("button",{onClick:f,className:"px-2 py-1 bg-gray-300 text-gray-700 text-xs rounded hover:bg-gray-400 transition-colors",children:"Annuler"})]}):s.jsx("button",{onClick:I,className:"p-1 text-gray-400 hover:text-blue-600 rounded transition-colors",title:"Modifier cette séance",children:s.jsx(Un,{className:"w-3 h-3"})})]},k))}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx(ce,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Aucune séance planifiée"}),s.jsx("button",{onClick:()=>u(!0),className:"mt-2 text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Planifier la première séance"})]})]}),t.nextSession&&h&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(ce,{className:"w-4 h-4 text-gray-400 mr-3"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-2",children:"Modifier la séance"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("input",{type:"date",value:y,onChange:M=>b(M.target.value),className:"flex-1 px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent"}),s.jsx("input",{type:"time",value:S,onChange:M=>D(M.target.value),className:"px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex space-x-1 mt-2",children:[s.jsx("button",{onClick:g,className:"px-2 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700 transition-colors",children:"Sauver"}),s.jsx("button",{onClick:f,className:"px-2 py-1 bg-gray-300 text-gray-700 text-xs rounded hover:bg-gray-400 transition-colors",children:"Annuler"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4 uppercase tracking-wider",children:"Facturation"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-100",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Ti,{className:"w-4 h-4 text-green-600 mr-2"}),s.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Payé"})]}),s.jsxs("p",{className:"text-lg font-bold text-green-700",children:[t.billing.totalPaid.toLocaleString("fr-FR"),"€"]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Nt,{className:"w-4 h-4 text-orange-600 mr-2"}),s.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"À Recevoir"})]}),s.jsxs("p",{className:"text-lg font-bold text-orange-700",children:[t.billing.totalDue.toLocaleString("fr-FR"),"€"]})]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t border-green-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Tarif horaire"}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[t.billing.hourlyRate,"€/h"]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-1",children:[s.jsx("span",{className:"text-xs text-gray-600",children:"Mode de paiement"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:t.billing.paymentMethod==="package"?"Forfait":t.billing.paymentMethod==="monthly"?"Mensuel":"Par séance"})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Factures Récentes"}),s.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Voir toutes"})]}),s.jsx("div",{className:"space-y-2",children:t.billing.invoices.slice(0,3).map(M=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ze,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:M.invoiceNumber}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(M.date).toLocaleDateString("fr-FR")})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[M.amount.toLocaleString("fr-FR"),"€"]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${M.status==="paid"?"bg-green-100 text-green-800":M.status==="sent"?"bg-blue-100 text-blue-800":M.status==="overdue"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:M.status==="paid"?"Payée":M.status==="sent"?"Envoyée":M.status==="overdue"?"En retard":M.status==="draft"?"Brouillon":"Annulée"})]})]},M.id))})]}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs("button",{onClick:()=>o(!0),className:"w-full px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-semibold rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center justify-center shadow-md hover:shadow-lg",children:[s.jsx(ze,{className:"w-4 h-4 mr-2"}),"Créer une Facture"]}),s.jsxs("button",{className:"w-full px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white text-sm font-semibold rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-200 flex items-center justify-center shadow-md hover:shadow-lg",children:[s.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Enregistrer un Paiement"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4 uppercase tracking-wider",children:"Objectifs"}),s.jsx("div",{className:"space-y-2",children:t.goals.map((M,k)=>s.jsxs("div",{className:"flex items-start",children:[s.jsx(Pe,{className:"w-3 h-3 text-blue-500 mr-2 mt-1"}),s.jsx("span",{className:"text-sm text-gray-700",children:M})]},k))})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4 uppercase tracking-wider",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:w.tags.map((M,k)=>s.jsx("span",{className:"inline-flex px-3 py-1 text-xs font-semibold bg-gradient-to-r from-blue-100 to-indigo-100 text-blue-800 rounded-full shadow-sm",children:M},k))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4 uppercase tracking-wider",children:"Notes"}),s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl p-4 border border-gray-100 shadow-sm",children:s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:e?e.notes||"Prospect intéressé par le coaching. Prévoir un suivi personnalisé.":(t==null?void 0:t.progress)||"Client motivé, bons progrès observés."})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[s.jsxs("button",{onClick:()=>{const M=w.email,k=e?`Suivi prospect - ${w.name}`:`Suivi client - ${w.name}`;window.open(`mailto:${M}?subject=${encodeURIComponent(k)}`,"_blank")},className:"flex-1 px-3 sm:px-4 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-semibold rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 flex items-center justify-center shadow-md hover:shadow-lg",children:[s.jsx(fe,{className:"w-4 h-4 mr-2"}),"Contacter"]}),s.jsxs("button",{onClick:()=>{const M=w.phone.replace(/\s/g,"");window.open(`tel:${M}`,"_self")},className:"flex-1 px-3 sm:px-4 py-2.5 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 text-sm font-semibold rounded-lg hover:from-gray-200 hover:to-gray-300 transition-all duration-200 flex items-center justify-center shadow-sm hover:shadow-md",children:[s.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Appeler"]})]})]})]}),t&&s.jsx(_i,{isOpen:i,onClose:()=>o(!1),client:t,onCreateInvoice:E}),t&&s.jsx(Px,{isOpen:c,onClose:()=>u(!1),client:t,onCreateSession:a})]})},Px=({isOpen:e,onClose:t,client:r,onCreateSession:n})=>{const[l,a]=P.useState({date:"",time:"",duration:"60",type:"individual",objectives:"",notes:""}),i=c=>{c.preventDefault(),n(l),a({date:"",time:"",duration:"60",type:"individual",objectives:"",notes:""})},o=c=>{a({...l,[c.target.name]:c.target.value})};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50 rounded-t-2xl",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ce,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nouvelle Séance"}),s.jsx("p",{className:"text-sm text-gray-600",children:r.name})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200",children:s.jsx(Ie,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:i,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),s.jsx("input",{type:"date",name:"date",value:l.date,onChange:o,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure"}),s.jsx("input",{type:"time",name:"time",value:l.time,onChange:o,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durée (minutes)"}),s.jsxs("select",{name:"duration",value:l.duration,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"30",children:"30 minutes"}),s.jsx("option",{value:"45",children:"45 minutes"}),s.jsx("option",{value:"60",children:"1 heure"}),s.jsx("option",{value:"90",children:"1h30"}),s.jsx("option",{value:"120",children:"2 heures"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),s.jsxs("select",{name:"type",value:l.type,onChange:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"individual",children:"Individuelle"}),s.jsx("option",{value:"group",children:"Groupe"}),s.jsx("option",{value:"discovery",children:"Découverte"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Objectifs de la séance"}),s.jsx("input",{type:"text",name:"objectives",value:l.objectives,onChange:o,placeholder:"Objectif 1, Objectif 2, ...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:l.notes,onChange:o,rows:3,placeholder:"Notes préparatoires pour la séance...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:"Annuler"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-semibold",children:"Planifier la Séance"})]})]})]})}):null},Mx=({isOpen:e,onClose:t,onAddProspect:r})=>{const[n,l]=P.useState({name:"",email:"",phone:"",source:"",status:"lead",tags:"",coachingGoals:"",budget:"",timeline:"",notes:""}),a=o=>{o.preventDefault();const c={id:Date.now(),name:n.name,email:n.email,phone:n.phone,source:n.source,status:n.status,tags:n.tags.split(",").map(u=>u.trim()).filter(u=>u),lastContact:"Ajouté maintenant",starred:!1,coachingGoals:n.coachingGoals,budget:n.budget,timeline:n.timeline,notes:n.notes};r(c),l({name:"",email:"",phone:"",source:"",status:"lead",tags:"",coachingGoals:"",budget:"",timeline:"",notes:""}),t()},i=o=>{l({...n,[o.target.name]:o.target.value})};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-4 border border-gray-100 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50 rounded-t-2xl",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Nouveau Prospect"}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200 hover:shadow-sm",children:s.jsx(Ie,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:a,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations de Contact"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(be,{className:"w-4 h-4 inline mr-2"}),"Nom Complet"]}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:i,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"Nom et prénom"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(fe,{className:"w-4 h-4 inline mr-2"}),"Email"]}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:i,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"email@exemple.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Ee,{className:"w-4 h-4 inline mr-2"}),"Téléphone"]}),s.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:i,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"+33 6 12 34 56 78"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Rs,{className:"w-4 h-4 inline mr-2"}),"Source"]}),s.jsxs("select",{name:"source",value:n.source,onChange:i,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",children:[s.jsx("option",{value:"",children:"Sélectionner une source"}),s.jsx("option",{value:"Site web",children:"Site web"}),s.jsx("option",{value:"Recommandation",children:"Recommandation"}),s.jsx("option",{value:"Réseaux sociaux",children:"Réseaux sociaux"}),s.jsx("option",{value:"Événement",children:"Événement"}),s.jsx("option",{value:"Publicité",children:"Publicité"}),s.jsx("option",{value:"Autre",children:"Autre"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations Coaching"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Pe,{className:"w-4 h-4 inline mr-2"}),"Objectifs de Coaching"]}),s.jsx("textarea",{name:"coachingGoals",value:n.coachingGoals,onChange:i,rows:3,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium resize-none",placeholder:"Quels sont les objectifs du prospect en matière de coaching ?"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Ar,{className:"w-4 h-4 inline mr-2"}),"Budget Mensuel"]}),s.jsxs("select",{name:"budget",value:n.budget,onChange:i,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",children:[s.jsx("option",{value:"",children:"Budget non défini"}),s.jsx("option",{value:"50-100€/mois",children:"50-100€/mois"}),s.jsx("option",{value:"100-150€/mois",children:"100-150€/mois"}),s.jsx("option",{value:"150-200€/mois",children:"150-200€/mois"}),s.jsx("option",{value:"200-300€/mois",children:"200-300€/mois"}),s.jsx("option",{value:"300€+/mois",children:"300€+/mois"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Ke,{className:"w-4 h-4 inline mr-2"}),"Durée Souhaitée"]}),s.jsxs("select",{name:"timeline",value:n.timeline,onChange:i,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",children:[s.jsx("option",{value:"",children:"Durée non définie"}),s.jsx("option",{value:"1-2 mois",children:"1-2 mois"}),s.jsx("option",{value:"3-4 mois",children:"3-4 mois"}),s.jsx("option",{value:"6 mois",children:"6 mois"}),s.jsx("option",{value:"1 an",children:"1 an"}),s.jsx("option",{value:"Suivi long terme",children:"Suivi long terme"})]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Classification"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{name:"status",value:n.status,onChange:i,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",children:[s.jsx("option",{value:"lead",children:"Prospect"}),s.jsx("option",{value:"contacted",children:"Contacté"}),s.jsx("option",{value:"meeting_scheduled",children:"RDV Planifié"}),s.jsx("option",{value:"proposal_sent",children:"Proposition Envoyée"}),s.jsx("option",{value:"negotiation",children:"Négociation"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tags"}),s.jsx("input",{type:"text",name:"tags",value:n.tags,onChange:i,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"Confiance, Carrière, Stress (séparés par des virgules)"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notes"}),s.jsx("textarea",{name:"notes",value:n.notes,onChange:i,rows:3,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium resize-none",placeholder:"Notes additionnelles sur le prospect..."})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2.5 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all duration-200 font-semibold shadow-sm hover:shadow-md",children:"Annuler"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-semibold shadow-md hover:shadow-lg",children:"Ajouter le Prospect"})]})]})]})}):null},Ol=({prospects:e=[],onSelectProspect:t,selectedProspectId:r,onAddProspect:n,currentUser:l,staff:a=[]})=>{const[i,o]=P.useState(""),[c,u]=P.useState("all"),[h,p]=P.useState("all"),[y,b]=P.useState(!1),[S,D]=P.useState("kanban"),A=f=>{switch(f){case"lead":return s.jsx(be,{className:"w-4 h-4"});case"contacted":return s.jsx(Ee,{className:"w-4 h-4"});case"meeting_scheduled":return s.jsx(ce,{className:"w-4 h-4"});case"proposal_sent":return s.jsx(ze,{className:"w-4 h-4"});case"negotiation":return s.jsx(Wo,{className:"w-4 h-4"});case"clients":return s.jsx(Tr,{className:"w-4 h-4"});case"closed_lost":return s.jsx(Qn,{className:"w-4 h-4"});default:return s.jsx(Ke,{className:"w-4 h-4"})}},m=e.filter(f=>{const E=f.name.toLowerCase().includes(i.toLowerCase())||f.email.toLowerCase().includes(i.toLowerCase()),M=c==="all"||f.status===c,k=h==="all"||f.assignedCoachId===h,H=l.role==="ADMIN"||f.assignedCoachId===l.id;return E&&M&&k&&H}),d=f=>a.find(E=>E.id===f.assignedCoachId),x={lead:m.filter(f=>f.status==="lead"),contacted:m.filter(f=>f.status==="contacted"),meeting_scheduled:m.filter(f=>f.status==="meeting_scheduled"),proposal_sent:m.filter(f=>f.status==="proposal_sent"),negotiation:m.filter(f=>f.status==="negotiation"),clients:m.filter(f=>f.status==="clients"),closed_lost:m.filter(f=>f.status==="closed_lost")};e.length,e.filter(f=>!["clients","closed_lost"].includes(f.status)).length,e.filter(f=>["negotiation","proposal_sent"].includes(f.status)).length,e.filter(f=>f.status==="lead").length;const w=()=>{const f=l.role==="ADMIN"?e:e.filter(B=>B.assignedCoachId===l.id),E=f.length,M=f.filter(B=>!["clients","closed_lost"].includes(B.status)).length,k=f.filter(B=>["negotiation","proposal_sent"].includes(B.status)).length,H=f.filter(B=>B.status==="lead").length;return[{label:l.role==="ADMIN"?"Total Prospects":"Mes Prospects",value:E,icon:st,color:"blue",tooltip:"Nombre total de prospects"},{label:"Actifs",value:M,icon:Pe,color:"green",tooltip:"Prospects en cours de traitement"},{label:"Prospects Chauds",value:k,icon:Wo,color:"orange",tooltip:"Prospects en négociation ou avec proposition envoyée"},{label:"Nouveaux",value:H,icon:He,color:"purple",tooltip:"Nouveaux leads à traiter"}]},I=({prospect:f})=>{const E=d(f);return s.jsxs("div",{onClick:()=>t(f),className:`p-4 bg-white rounded-lg border cursor-pointer transition-all duration-200 hover:shadow-md ${r===f.id?"border-blue-500 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-md",children:s.jsx("span",{className:"text-sm font-bold text-white",children:f.name.split(" ").map(M=>M[0]).join("")})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:f.name}),s.jsx("p",{className:"text-xs text-gray-600",children:f.source})]})]}),f.starred&&s.jsx(Ai,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[s.jsx(fe,{className:"w-3 h-3 mr-2"}),s.jsx("span",{className:"truncate",children:f.email})]}),f.phone&&s.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[s.jsx(Ee,{className:"w-3 h-3 mr-2"}),f.phone]}),E&&s.jsxs("div",{className:"flex items-center text-xs text-blue-600",children:[s.jsx(be,{className:"w-3 h-3 mr-2"}),"Coach: ",E.name]})]}),f.coachingGoals&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Objectifs:"}),s.jsx("p",{className:"text-xs text-gray-700 line-clamp-2",children:f.coachingGoals})]}),s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[f.tags.slice(0,2).map((M,k)=>s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:M},k)),f.tags.length>2&&s.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-600 rounded-full",children:["+",f.tags.length-2]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:["Dernier contact: ",f.lastContact]}),f.budget&&s.jsx("span",{className:"font-medium text-green-600",children:f.budget})]})]})},g=({status:f,title:E,prospects:M,color:k})=>s.jsxs("div",{className:"flex-1 min-w-[280px]",children:[s.jsx("div",{className:`p-4 rounded-t-lg ${k} border-b-2`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:E}),s.jsx("span",{className:"bg-white bg-opacity-80 text-gray-700 px-2 py-1 rounded-full text-sm font-medium",children:M.length})]})}),s.jsxs("div",{className:"bg-gray-50 p-4 space-y-3 min-h-[400px] max-h-[600px] overflow-y-auto",children:[M.map(H=>s.jsx(I,{prospect:H},H.id)),M.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:A(f)}),s.jsx("p",{className:"text-sm",children:"Aucun prospect"})]})]})]});return s.jsxs("div",{className:"bg-white min-h-0",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 space-y-4 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Pipeline Commercial"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gérez vos prospects et opportunités"})]}),s.jsxs("button",{onClick:()=>b(!0),className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center",children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),"Nouveau Prospect"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un prospect...",value:i,onChange:f=>o(f.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("select",{value:c,onChange:f=>u(f.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"lead",children:"Nouveaux Leads"}),s.jsx("option",{value:"contacted",children:"Contactés"}),s.jsx("option",{value:"meeting_scheduled",children:"RDV Planifiés"}),s.jsx("option",{value:"proposal_sent",children:"Propositions Envoyées"}),s.jsx("option",{value:"negotiation",children:"Négociations"}),s.jsx("option",{value:"clients",children:"Clients Signés"}),s.jsx("option",{value:"closed_lost",children:"Perdus"})]}),l.role==="ADMIN"&&s.jsxs("select",{value:h,onChange:f=>p(f.target.value==="all"?"all":Number(f.target.value)),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les coachs"}),a.filter(f=>f.role==="COACH"||f.role==="ADMIN").map(f=>s.jsx("option",{value:f.id,children:f.name},f.id))]}),s.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[s.jsx("button",{onClick:()=>D("kanban"),className:`px-3 py-2.5 text-sm font-medium transition-colors ${S==="kanban"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Kanban"}),s.jsx("button",{onClick:()=>D("list"),className:`px-3 py-2.5 text-sm font-medium transition-colors border-l border-gray-300 ${S==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:"Liste"})]})]})]})]}),s.jsx(ml,{items:w(),role:l.role,dense:!1}),s.jsx("div",{className:"flex-1 min-h-0 overflow-auto",children:m.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-8",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6",children:s.jsx(st,{className:"w-12 h-12 text-gray-400"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Aucun prospect trouvé"}),s.jsx("p",{className:"text-gray-600 mb-6 text-center max-w-md",children:i||c!=="all"||h!=="all"?"Aucun prospect ne correspond à vos critères de recherche. Essayez de modifier vos filtres.":"Commencez par ajouter votre premier prospect pour développer votre pipeline commercial."}),s.jsxs("button",{onClick:()=>b(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:[s.jsx(He,{className:"w-5 h-5 mr-2 inline"}),"Ajouter le premier prospect"]})]}):S==="kanban"?s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"flex gap-6 overflow-x-auto pb-4",children:[s.jsx(g,{status:"lead",title:"Nouveaux Leads",prospects:x.lead,color:"bg-gray-100"}),s.jsx(g,{status:"contacted",title:"Contactés",prospects:x.contacted,color:"bg-blue-100"}),s.jsx(g,{status:"meeting_scheduled",title:"RDV Planifiés",prospects:x.meeting_scheduled,color:"bg-purple-100"}),s.jsx(g,{status:"proposal_sent",title:"Propositions",prospects:x.proposal_sent,color:"bg-yellow-100"}),s.jsx(g,{status:"negotiation",title:"Négociations",prospects:x.negotiation,color:"bg-orange-100"}),s.jsx(g,{status:"clients",title:"Clients Signés",prospects:x.clients,color:"bg-green-100"})]})}):s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:m.map(f=>s.jsx(I,{prospect:f},f.id))})})}),s.jsx(Mx,{isOpen:y,onClose:()=>b(!1),onAddProspect:n})]})},Xo=({clients:e=[],prospects:t=[],staff:r=[],currentUser:n})=>{const[l,a]=P.useState(new Date),[i,o]=P.useState("month"),[c,u]=P.useState("all"),[h,p]=P.useState(null),[y,b]=P.useState(!1),[S,D]=P.useState(!1),[A,m]=P.useState(null),d=v=>{const F=new Date(l);i==="month"?v==="prev"?F.setMonth(l.getMonth()-1):F.setMonth(l.getMonth()+1):i==="week"?v==="prev"?F.setDate(l.getDate()-7):F.setDate(l.getDate()+7):i==="day"&&(v==="prev"?F.setDate(l.getDate()-1):F.setDate(l.getDate()+1)),a(F)},x=()=>{a(new Date)},w=()=>{if(i==="month")return`${k[l.getMonth()]} ${l.getFullYear()}`;if(i==="week"){const v=I(l),F=new Date(v.getTime()+6*24*60*60*1e3);return v.getMonth()===F.getMonth()?`${v.getDate()}-${F.getDate()} ${k[v.getMonth()]} ${v.getFullYear()}`:`${v.getDate()} ${k[v.getMonth()]} - ${F.getDate()} ${k[F.getMonth()]} ${v.getFullYear()}`}else return l.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})},I=v=>{const F=new Date(v),U=F.getDay(),W=F.getDate()-U+(U===0?-6:1);return new Date(F.setDate(W))},g=v=>{const F=v.toISOString().split("T")[0],U=E.filter(W=>W.date===F);return c!=="all"?U.filter(W=>W.assignedCoachId===c):n.role!=="ADMIN"?U.filter(W=>W.assignedCoachId===n.id):U},f=()=>{const v=I(l),F=[];for(let U=0;U<7;U++){const W=new Date(v.getTime()+U*24*60*60*1e3);F.push(W)}return F},[E,M]=P.useState([{id:1,title:"Séance Coaching - Sophie Laurent",date:"2024-01-25",time:"14:00",duration:"1 heure",type:"client_session",clientId:1,assignedCoachId:n.id,location:"Bureau",description:"Séance de suivi - Travail sur la confiance en réunion",status:"scheduled"},{id:2,title:"Séance Coaching - Thomas Rousseau",date:"2024-01-28",time:"10:00",duration:"1 heure",type:"client_session",clientId:2,assignedCoachId:n.id,location:"Visioconférence",description:"Séance reconversion - Définir les prochaines étapes",status:"scheduled"},{id:3,title:"RDV Découverte - Marie Dubois",date:"2024-01-26",time:"16:00",duration:"45 minutes",type:"prospect_meeting",prospectId:1,assignedCoachId:n.id,location:"Café Central",description:"Premier rendez-vous pour présenter l'offre de coaching",status:"scheduled"},{id:4,title:"Appel Suivi - Pierre Martin",date:"2024-01-24",time:"11:00",duration:"30 minutes",type:"call",prospectId:2,assignedCoachId:n.id,description:"Suivi de la proposition envoyée",status:"scheduled"},{id:5,title:"Séance Coaching - Sophie Laurent",date:"2024-01-18",time:"14:00",duration:"1 heure",type:"client_session",clientId:1,assignedCoachId:n.id,location:"Bureau",description:"Séance sur l'assertivité - Excellents résultats",status:"completed"}]),k=["January","February","March","April","May","June","July","August","September","October","November","December"],H=v=>{switch(v){case"client_session":return"bg-blue-100 text-blue-800 border-blue-200";case"prospect_meeting":return"bg-purple-100 text-purple-800 border-purple-200";case"call":return"bg-green-100 text-green-800 border-green-200";case"deadline":return"bg-red-100 text-red-800 border-red-200";case"reminder":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},B=v=>{switch(v){case"client_session":return"Séance Client";case"prospect_meeting":return"RDV Prospect";case"call":return"Appel";case"deadline":return"Échéance";case"reminder":return"Rappel";default:return v}},X=v=>{switch(v){case"scheduled":return"bg-blue-50 text-blue-700 border-blue-200";case"completed":return"bg-green-50 text-green-700 border-green-200";case"cancelled":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},Z=v=>{switch(v){case"scheduled":return"Planifié";case"completed":return"Terminé";case"cancelled":return"Annulé";default:return v}},ie=()=>{const v=l.getFullYear(),F=l.getMonth(),U=new Date(v,F,1),Ue=new Date(v,F+1,0).getDate(),pt=U.getDay(),ss=[];for(let q=0;q<pt;q++)ss.push(null);for(let q=1;q<=Ue;q++)ss.push(q);return ss},re=v=>{const F=new Date(l.getFullYear(),l.getMonth(),v);return g(F)},R=v=>{p(v),b(!0)},L=v=>v.clientId?e.find(F=>F.id===v.clientId):v.prospectId?t.find(F=>F.id===v.prospectId):null,N=v=>r.find(F=>F.id===v.assignedCoachId),T=E.filter(v=>{const F=new Date(v.date)>=new Date&&v.status==="scheduled",U=c==="all"||v.assignedCoachId===c,W=n.role==="ADMIN"||v.assignedCoachId===n.id;return F&&U&&W}).sort((v,F)=>new Date(v.date).getTime()-new Date(F.date).getTime()).slice(0,5),j=v=>{m(v),D(!0),b(!1)},z=v=>{M(E.map(F=>F.id===v.id?v:F)),D(!1),m(null)},J=v=>{const F={...v,status:"completed"};M(E.map(U=>U.id===v.id?F:U)),p(F)},te=()=>{var F;if(!h)return null;const v=L(h);return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50 rounded-t-2xl",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ce,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:h.title}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm text-gray-600",children:B(h.type)}),N(h)&&s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["Coach: ",(F=N(h))==null?void 0:F.name]})]})]})]}),s.jsx("button",{onClick:()=>b(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200",children:s.jsx(Ie,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Détails de l'Événement"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-4 h-4 text-gray-400 mr-3"}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[new Date(h.date).toLocaleDateString("fr-FR")," à ",h.time]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Durée: ",h.duration]})]})]}),h.location&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Rs,{className:"w-4 h-4 text-gray-400 mr-3"}),s.jsx("span",{className:"text-sm text-gray-700",children:h.location})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full border ${H(h.type)}`,children:B(h.type)}),s.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full border ml-2 ${X(h.status)}`,children:Z(h.status)})]})]})]}),v&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:h.clientId?"Informations Client":"Informations Prospect"}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-100",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-md",children:s.jsx("span",{className:"text-sm font-bold text-white",children:v.name.split(" ").map(U=>U[0]).join("")})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"text-base font-bold text-gray-900",children:v.name}),s.jsx("p",{className:"text-sm text-gray-600",children:"coachingProgram"in v?v.coachingProgram:v.source})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(fe,{className:"w-4 h-4 mr-2"}),v.email]}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(Ee,{className:"w-4 h-4 mr-2"}),v.phone]}),h.clientId&&"goals"in v&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Objectifs"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:v.goals.slice(0,3).map((U,W)=>s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:U},W))})]}),h.prospectId&&"coachingGoals"in v&&v.coachingGoals&&s.jsxs("div",{className:"mt-3",children:[s.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:"Objectifs"}),s.jsx("p",{className:"text-xs text-gray-700",children:v.coachingGoals})]})]})]})]})]}),h.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:s.jsx("p",{className:"text-gray-700",children:h.description})})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-2xl",children:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:()=>b(!1),className:"flex-1 px-4 py-2 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:"Fermer"}),s.jsx("button",{onClick:()=>j(h),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Modifier"}),h.status==="scheduled"&&s.jsx("button",{onClick:()=>J(h),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:"Marquer comme Terminé"})]})})]})})},xe=()=>{if(!A)return null;const[v,F]=P.useState({title:A.title,date:A.date,time:A.time,duration:A.duration,location:A.location||"",description:A.description||""}),U=Ue=>{Ue.preventDefault();const pt={...A,...v};z(pt)},W=Ue=>{F({...v,[Ue.target.name]:Ue.target.value})};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50 rounded-t-2xl",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ce,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Modifier l'Événement"}),s.jsx("p",{className:"text-sm text-gray-600",children:B(A.type)})]})]}),s.jsx("button",{onClick:()=>D(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200",children:s.jsx(Ie,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:U,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre"}),s.jsx("input",{type:"text",name:"title",value:v.title,onChange:W,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),s.jsx("input",{type:"date",name:"date",value:v.date,onChange:W,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure"}),s.jsx("input",{type:"time",name:"time",value:v.time,onChange:W,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durée"}),s.jsx("input",{type:"text",name:"duration",value:v.duration,onChange:W,placeholder:"1 heure",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lieu"}),s.jsx("input",{type:"text",name:"location",value:v.location,onChange:W,placeholder:"Bureau, Visioconférence...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{name:"description",value:v.description,onChange:W,rows:3,placeholder:"Notes sur l'événement...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>D(!1),className:"flex-1 px-4 py-2 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:"Annuler"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Sauvegarder"})]})]})]})})};return s.jsxs("div",{className:"bg-white min-h-0",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 space-y-4 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Calendrier"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gérez vos rendez-vous et séances"})]}),s.jsx("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:s.jsxs("div",{role:"tablist","aria-label":"Changer la vue calendrier",className:"inline-flex border border-gray-300 rounded-lg overflow-hidden",children:[s.jsx("button",{role:"tab","aria-selected":i==="month",onClick:()=>o("month"),className:"px-3 py-1.5 text-sm ${view==='month' ? 'bg-indigo-600 text-white' : 'bg-white text-gray-700 hover:bg-gray-50'}",children:"Mois"}),s.jsx("button",{role:"tab","aria-selected":i==="week",onClick:()=>o("week"),className:"px-3 py-1.5 text-sm border-l border-gray-300 ${view==='week' ? 'bg-indigo-600 text-white' : 'bg-white text-gray-700 hover:bg-gray-50'}",children:"Semaine"}),s.jsx("button",{role:"tab","aria-selected":i==="day",onClick:()=>o("day"),className:"px-3 py-1.5 text-sm border-l border-gray-300 ${view==='day' ? 'bg-indigo-600 text-white' : 'bg-white text-gray-700 hover:bg-gray-50'}",children:"Jour"})]})}),s.jsxs("button",{onClick:()=>alert("Fonctionnalité de création d'événement à venir"),className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center text-sm sm:text-base",children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Nouvel Événement"}),s.jsx("span",{className:"sm:hidden",children:"Nouveau"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsx("button",{onClick:()=>d("prev"),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:s.jsx(sx,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 min-w-0 text-center",children:w()}),s.jsx("button",{onClick:x,className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors duration-200",children:"Aujourd'hui"})]}),s.jsx("button",{onClick:()=>d("next"),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:s.jsx(rx,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2 w-full sm:w-auto",children:[n.role==="ADMIN"&&s.jsxs("select",{value:c,onChange:v=>u(v.target.value==="all"?"all":Number(v.target.value)),className:"w-full sm:w-auto px-3 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les coachs"}),r.filter(v=>v.role==="COACH"||v.role==="ADMIN").map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))]}),["month","week","day"].map(v=>s.jsx("button",{onClick:()=>o(v),disabled:i===v,className:`flex-1 sm:flex-none px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded-lg transition-colors duration-200 ${i===v?"bg-blue-600 text-white shadow-md cursor-not-allowed":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:v==="month"?"Mois":v==="week"?"Semaine":"Jour"},v))]})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row min-h-0",children:[s.jsxs("div",{className:"flex-1 p-4 sm:p-6 min-h-0 overflow-y-auto",children:[i==="month"&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 min-h-full",children:[s.jsx("div",{className:"grid grid-cols-7 gap-0 border-b border-gray-200 overflow-x-auto",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(v=>s.jsxs("div",{className:"p-2 sm:p-3 text-center text-xs sm:text-sm font-medium text-gray-500 border-r border-gray-200 last:border-r-0 min-w-0",children:[s.jsx("span",{className:"hidden sm:inline",children:v}),s.jsx("span",{className:"sm:hidden",children:v.slice(0,1)})]},v))}),s.jsx("div",{className:"grid grid-cols-7 gap-0",children:ie().map((v,F)=>s.jsx("div",{className:"min-h-[100px] sm:min-h-[140px] p-1 sm:p-2 border-r border-b border-gray-200 last:border-r-0 relative",children:v&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-1",children:v}),s.jsx("div",{className:"space-y-1",children:re(v).map(U=>s.jsxs("div",{onClick:()=>R(U),className:`text-xs p-1 rounded border cursor-pointer hover:shadow-sm transition-all duration-200 ${H(U.type)} truncate block`,title:U.title,children:[s.jsx("div",{className:"font-medium text-[10px] sm:text-xs",children:U.time}),s.jsx("div",{className:"truncate text-[10px] sm:text-xs",children:U.title.length>20?U.title.substring(0,20)+"...":U.title})]},U.id))})]})},F))})]}),i==="week"&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 min-h-full",children:[s.jsx("div",{className:"grid grid-cols-7 gap-0 border-b border-gray-200",children:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map((v,F)=>{const W=f()[F],Ue=W.toDateString()===new Date().toDateString();return s.jsxs("div",{className:"p-3 text-center border-r border-gray-200 last:border-r-0",children:[s.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1",children:v}),s.jsx("div",{className:`text-lg font-semibold ${Ue?"text-blue-600":"text-gray-900"}`,children:W.getDate()})]},v)})}),s.jsx("div",{className:"grid grid-cols-7 gap-0 min-h-[500px]",children:f().map((v,F)=>s.jsx("div",{className:"p-2 border-r border-b border-gray-200 last:border-r-0",children:s.jsx("div",{className:"space-y-1",children:g(v).map(U=>s.jsxs("div",{onClick:()=>R(U),className:`text-xs p-2 rounded border cursor-pointer hover:shadow-sm transition-all duration-200 ${H(U.type)}`,title:U.title,children:[s.jsx("div",{className:"font-medium text-xs",children:U.time}),s.jsx("div",{className:"truncate text-xs",children:U.title})]},U.id))})},F))})]}),i==="day"&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 min-h-full",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})}),s.jsx("div",{className:"p-4",children:s.jsx("div",{className:"space-y-3",children:g(l).length===0?s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Calendar,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-lg font-medium",children:"Aucun événement aujourd'hui"}),s.jsx("p",{className:"text-sm",children:"Votre journée est libre"})]}):g(l).sort((v,F)=>v.time.localeCompare(F.time)).map(v=>{const F=L(v);return s.jsx("div",{onClick:()=>R(v),className:`p-4 rounded-lg border cursor-pointer hover:shadow-md transition-all duration-200 ${H(v.type)}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Ke,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"font-semibold",children:v.time}),s.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",v.duration,")"]})]}),s.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:v.title}),F&&s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:F.name}),v.location&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Rs,{className:"w-4 h-4 mr-1"}),v.location]})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${X(v.status)}`,children:Z(v.status)})]})},v.id)})})})]})]}),s.jsxs("div",{className:"w-full lg:w-80 border-t lg:border-t-0 lg:border-l border-gray-200 p-4 sm:p-6 min-h-0 overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Prochains Événements"}),n.role==="ADMIN"&&s.jsx("div",{className:"mb-4",children:s.jsxs("select",{value:c,onChange:v=>u(v.target.value==="all"?"all":Number(v.target.value)),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les coachs"}),r.filter(v=>v.role==="COACH"||v.role==="ADMIN").map(v=>s.jsx("option",{value:v.id,children:v.name},v.id))]})}),s.jsx("div",{className:"space-y-4",children:T.map(v=>{const F=L(v),U=N(v);return s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 cursor-pointer hover:bg-gray-100 transition-colors duration-200",onClick:()=>R(v),children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:v.title}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${H(v.type)}`,children:B(v.type)})]}),U&&s.jsxs("div",{className:"text-xs text-blue-600 mb-2 font-medium",children:["Coach: ",U.name]}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-500",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-3 h-3 mr-1"}),new Date(v.date).toLocaleDateString("fr-FR")," à ",v.time," (",v.duration,")"]}),v.location&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Rs,{className:"w-3 h-3 mr-1"}),s.jsx("span",{className:"truncate",children:v.location})]}),F&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(be,{className:"w-3 h-3 mr-1"}),s.jsx("span",{className:"truncate",children:F.name})]})]}),v.description&&s.jsx("p",{className:"text-xs text-gray-600 mt-2 line-clamp-2",children:v.description})]},v.id)})}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Cette Semaine"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Séances clients"}),s.jsx("span",{className:"font-medium text-blue-600",children:E.filter(v=>{const F=v.type==="client_session"&&v.status==="scheduled",U=c==="all"||v.assignedCoachId===c,W=n.role==="ADMIN"||v.assignedCoachId===n.id;return F&&U&&W}).length})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"RDV prospects"}),s.jsx("span",{className:"font-medium text-purple-600",children:E.filter(v=>{const F=v.type==="prospect_meeting"&&v.status==="scheduled",U=c==="all"||v.assignedCoachId===c,W=n.role==="ADMIN"||v.assignedCoachId===n.id;return F&&U&&W}).length})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Appels"}),s.jsx("span",{className:"font-medium text-green-600",children:E.filter(v=>{const F=v.type==="call"&&v.status==="scheduled",U=c==="all"||v.assignedCoachId===c,W=n.role==="ADMIN"||v.assignedCoachId===n.id;return F&&U&&W}).length})]})]})]})]})]}),y&&s.jsx(te,{}),S&&s.jsx(xe,{})]})},Ex=({type:e,data:t,compact:r=!1})=>{const n=(u,h)=>{if(h==="client")switch(u){case"active":return"bg-green-100 text-green-800 border-green-200";case"paused":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}else if(h==="prospect")switch(u){case"lead":return"bg-gray-100 text-gray-800 border-gray-200";case"contacted":return"bg-blue-100 text-blue-800 border-blue-200";case"meeting_scheduled":return"bg-purple-100 text-purple-800 border-purple-200";case"proposal_sent":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"negotiation":return"bg-orange-100 text-orange-800 border-orange-200";case"closed_won":return"bg-green-100 text-green-800 border-green-200";case"closed_lost":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}else if(h==="session")switch(u){case"scheduled":return"bg-blue-100 text-blue-800 border-blue-200";case"completed":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}return"bg-gray-100 text-gray-800 border-gray-200"},l=(u,h)=>{if(h==="client")switch(u){case"active":return"Actif";case"paused":return"En pause";case"completed":return"Terminé";default:return u}else if(h==="prospect")switch(u){case"lead":return"Nouveau";case"contacted":return"Contacté";case"meeting_scheduled":return"RDV Planifié";case"proposal_sent":return"Proposition Envoyée";case"negotiation":return"Négociation";case"closed_won":return"Clients";case"closed_lost":return"Perdu";default:return u}else if(h==="session")switch(u){case"scheduled":return"Planifiée";case"completed":return"Terminée";case"cancelled":return"Annulée";default:return u}return u},a=r?"w-8 h-8":"w-10 h-10 sm:w-12 sm:h-12",i=r?"text-sm":"text-sm sm:text-base",o=r?"text-xs":"text-xs sm:text-sm",c=r?"p-3":"p-4";return s.jsx("div",{className:`bg-white rounded-lg border border-gray-200 ${c} shadow-sm hover:shadow-md transition-shadow duration-200`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[s.jsx("div",{className:`${a} bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-md flex-shrink-0`,children:s.jsx("span",{className:`${r?"text-xs":"text-sm"} font-bold text-white`,children:t.name.split(" ").map(u=>u[0]).join("").toUpperCase()})}),s.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("h3",{className:`${i} font-semibold text-gray-900 truncate`,children:t.name}),t.starred&&s.jsx(Ai,{className:"w-4 h-4 text-yellow-500 ml-2 fill-current flex-shrink-0"})]}),t.company&&s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(ul,{className:"w-3 h-3 text-gray-400 mr-1 flex-shrink-0"}),s.jsx("span",{className:`${o} text-gray-600 truncate`,children:t.company})]}),e==="client"&&s.jsxs(s.Fragment,{children:[t.assignedCoach&&s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(be,{className:"w-3 h-3 text-gray-400 mr-1 flex-shrink-0"}),s.jsxs("span",{className:`${o} text-gray-600 truncate`,children:["Coach: ",t.assignedCoach]})]}),t.nextSession&&s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(ce,{className:"w-3 h-3 text-gray-400 mr-1 flex-shrink-0"}),s.jsxs("span",{className:`${o} text-gray-600 truncate`,children:["Prochaine: ",new Date(t.nextSession).toLocaleDateString("fr-FR")]})]})]}),e==="session"&&s.jsxs(s.Fragment,{children:[t.date&&t.time&&s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(ce,{className:"w-3 h-3 text-gray-400 mr-1 flex-shrink-0"}),s.jsxs("span",{className:`${o} text-gray-600 truncate`,children:[new Date(t.date).toLocaleDateString("fr-FR")," à ",t.time]})]}),t.duration&&t.sessionType&&s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Ke,{className:"w-3 h-3 text-gray-400 mr-1 flex-shrink-0"}),s.jsxs("span",{className:`${o} text-gray-600 truncate`,children:[t.sessionType," - ",t.duration]})]}),t.assignedCoach&&s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(be,{className:"w-3 h-3 text-gray-400 mr-1 flex-shrink-0"}),s.jsxs("span",{className:`${o} text-gray-600 truncate`,children:["Coach: ",t.assignedCoach]})]})]}),e==="prospect"&&s.jsxs(s.Fragment,{children:[t.assignedCoach&&s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(be,{className:"w-3 h-3 text-gray-400 mr-1 flex-shrink-0"}),s.jsxs("span",{className:`${o} text-gray-600 truncate`,children:["Coach: ",t.assignedCoach]})]}),t.lastContact&&s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Ke,{className:"w-3 h-3 text-gray-400 mr-1 flex-shrink-0"}),s.jsxs("span",{className:`${o} text-gray-600 truncate`,children:["Dernier contact: ",t.lastContact]})]}),t.nextAction&&s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx(Pe,{className:"w-3 h-3 text-gray-400 mr-1 flex-shrink-0"}),s.jsxs("span",{className:`${o} text-gray-600 truncate`,children:["Prochaine action: ",t.nextAction]})]})]}),!r&&s.jsxs("div",{className:"flex flex-wrap gap-4 mt-2",children:[t.email&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(fe,{className:"w-3 h-3 text-gray-400 mr-1 flex-shrink-0"}),s.jsx("span",{className:`${o} text-gray-600 truncate`,children:t.email})]}),t.phone&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ee,{className:"w-3 h-3 text-gray-400 mr-1 flex-shrink-0"}),s.jsx("span",{className:`${o} text-gray-600`,children:t.phone})]})]}),t.tags&&t.tags.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[t.tags.slice(0,r?2:3).map((u,h)=>s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:u},h)),t.tags.length>(r?2:3)&&s.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-600 rounded-full",children:["+",t.tags.length-(r?2:3)]})]})]})]}),t.status&&s.jsx("div",{className:"flex-shrink-0 ml-3",children:s.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full border ${n(t.status,e)}`,children:l(t.status,e)})})]})})},Ix=({thread:e})=>s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[s.jsx(fe,{className:"w-4 h-4"})," ",e.subject]}),e.messages.map(t=>s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[s.jsx("span",{className:"font-medium",children:t.from.name||t.from.address})," — ",new Date(t.date).toLocaleString()]}),s.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:t.bodyText||t.snippet})]},t.id))]}),Lx=({to:e,cc:t=[],subject:r="",initialBody:n="",onSend:l})=>{const[a,i]=P.useState(e.join(", ")),[o,c]=P.useState(t.join(", ")),[u,h]=P.useState(r),[p,y]=P.useState(n),[b,S]=P.useState(!1);return s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-2 mb-2",children:[s.jsx("label",{className:"sm:col-span-1 text-sm text-gray-600 self-center",children:"À"}),s.jsx("input",{className:"sm:col-span-3 px-3 py-2 border rounded-lg",value:a,onChange:D=>i(D.target.value)}),s.jsx("label",{className:"sm:col-span-1 text-sm text-gray-600 self-center",children:"Cc"}),s.jsx("input",{className:"sm:col-span-3 px-3 py-2 border rounded-lg",value:o,onChange:D=>c(D.target.value)}),s.jsx("label",{className:"sm:col-span-1 text-sm text-gray-600 self-center",children:"Objet"}),s.jsx("input",{className:"sm:col-span-3 px-3 py-2 border rounded-lg",value:u,onChange:D=>h(D.target.value)})]}),s.jsx("textarea",{className:"w-full px-3 py-2 border rounded-lg min-h-[140px]",value:p,onChange:D=>y(D.target.value),placeholder:"Votre message…"}),s.jsx("div",{className:"mt-2 flex justify-end",children:s.jsx("button",{onClick:async()=>{S(!0),await l({to:a.split(",").map(D=>D.trim()).filter(Boolean),cc:o.split(",").map(D=>D.trim()).filter(Boolean),subject:u,text:p}),S(!1)},disabled:b,className:"px-3 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-60",children:b?"Envoi…":"Envoyer"})})]})};async function Tx(e){const t=new Date;return[{id:"t1",subject:"Suivi de séance et prochaines étapes",lastMessageAt:t.toISOString(),participants:[e,"demo.coach@gmail.com"],messages:[{id:"m1",threadId:"t1",from:{address:e,name:"Client"},to:[{address:"demo.coach@gmail.com",name:"Coach"}],date:new Date(t.getTime()-864e5).toISOString(),subject:"Suivi de séance et prochaines étapes",snippet:"Merci pour la séance d’hier…",bodyText:"Merci pour la séance d’hier, je vais travailler sur les exercices."},{id:"m2",threadId:"t1",from:{address:"demo.coach@gmail.com",name:"Coach"},to:[{address:e,name:"Client"}],date:t.toISOString(),subject:"Suivi de séance et prochaines étapes",snippet:"Voici le récap et les exercices…",bodyText:"Voici le récap et les exercices à réaliser cette semaine."}]}]}async function Ax(e){return await new Promise(t=>setTimeout(t,500)),{id:"msg_"+Math.random().toString(36).slice(2)}}const _x=({clientEmail:e,coachEmail:t})=>{const[r,n]=P.useState([]),[l,a]=P.useState(""),[i,o]=P.useState(null),[c,u]=P.useState(!1),h=async()=>{u(!0);const y=await Tx(e);n(y),o(y[0]||null),u(!1)};P.useEffect(()=>{h()},[e]);const p=r.filter(y=>y.subject.toLowerCase().includes(l.toLowerCase())||y.participants.some(b=>b.toLowerCase().includes(l.toLowerCase())));return s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Zt,{className:"w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),s.jsx("input",{value:l,onChange:y=>a(y.target.value),placeholder:"Rechercher un thread…",className:"w-full pl-9 pr-3 py-2 border rounded-lg text-sm"})]}),s.jsx("button",{onClick:h,className:"px-3 py-2 border rounded-lg text-sm hover:bg-gray-50",children:s.jsx(jx,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[s.jsx("div",{className:"lg:col-span-1 border rounded-lg p-2 max-h-80 overflow-y-auto",children:c?s.jsx("div",{className:"text-sm text-gray-500 p-3",children:"Chargement…"}):p.length===0?s.jsx("div",{className:"text-sm text-gray-500 p-3",children:"Aucun email"}):s.jsx("ul",{className:"divide-y",children:p.map(y=>s.jsx("li",{children:s.jsxs("button",{onClick:()=>o(y),className:`w-full text-left p-2 ${(i==null?void 0:i.id)===y.id?"bg-indigo-50":"hover:bg-gray-50"}`,children:[s.jsx("div",{className:"text-xs text-gray-500",children:new Date(y.lastMessageAt).toLocaleString()}),s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:y.subject}),s.jsx("div",{className:"text-xs text-gray-600 truncate",children:y.participants.join(", ")})]})},y.id))})}),s.jsxs("div",{className:"lg:col-span-2 border rounded-lg p-3 min-h-[200px]",children:[i?s.jsx(Ix,{thread:i}):s.jsx("div",{className:"text-sm text-gray-500",children:"Sélectionnez un thread pour l’afficher"}),s.jsx("div",{className:"mt-4",children:s.jsx(Lx,{to:[e],subject:i?`Re: ${i.subject}`:"",onSend:async y=>{await Ax(),await h(),alert("Email envoyé")}})})]})]})]})},Rx=e=>{const t="inline-flex items-center px-2 py-1 text-xs font-medium rounded-full";switch(e){case"scheduled":return`${t} bg-blue-100 text-blue-800`;case"completed":return`${t} bg-green-100 text-green-800`;case"cancelled":return`${t} bg-gray-100 text-gray-800`;case"no_show":return`${t} bg-red-100 text-red-800`;default:return`${t} bg-gray-100 text-gray-800`}},Fx=({isOpen:e,onClose:t,session:r,onUpdate:n,onGenerateInvoice:l,onCreateNextSession:a,onSendRecap:i})=>{if(!e||!r)return null;const o=r.status==="completed",c=!!r.meetingUrl;return s.jsxs("div",{className:"fixed inset-0 z-[60] flex","aria-modal":"true",role:"dialog",children:[s.jsx("div",{className:"flex-1 bg-black/30",onClick:t}),s.jsxs("div",{className:"w-full max-w-md bg-white h-full shadow-2xl border-l border-gray-200 overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900",children:r.clientName}),s.jsxs("div",{className:"mt-1 flex items-center flex-wrap gap-2 text-xs sm:text-sm text-gray-600",children:[s.jsx("span",{className:Rx(r.status),children:r.status}),s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(ce,{className:"w-4 h-4"})," ",new Date(r.date).toLocaleDateString()]}),s.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.jsx(Ke,{className:"w-4 h-4"})," ",r.time," • ",r.duration,"min"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[c&&s.jsxs("a",{href:r.meetingUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg bg-indigo-50 text-indigo-700 hover:bg-indigo-100 text-xs",title:"Ouvrir le lien visio",children:[s.jsx(Go,{className:"w-4 h-4"}),"Rejoindre"]}),s.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 text-gray-600","aria-label":"Fermer le panneau",children:s.jsx(Ie,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:()=>n({status:"completed"}),className:"flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-green-50 text-green-700 hover:bg-green-100",children:[s.jsx(J0,{className:"w-4 h-4"})," Terminer"]}),s.jsxs("button",{onClick:()=>n({status:"cancelled"}),className:"flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-gray-50 text-gray-700 hover:bg-gray-100",children:[s.jsx(Qn,{className:"w-4 h-4"})," Annuler"]}),s.jsxs("button",{onClick:()=>n({status:"no_show"}),className:"flex items-center justify-center gap-2 px-3 py-2 rounded-lg bg-red-50 text-red-700 hover:bg-red-100",children:[s.jsx(pu,{className:"w-4 h-4"})," No-show"]}),s.jsxs("button",{onClick:()=>l(),disabled:!o,className:`flex items-center justify-center gap-2 px-3 py-2 rounded-lg ${o?"bg-blue-50 text-blue-700 hover:bg-blue-100":"bg-gray-50 text-gray-400 cursor-not-allowed"}`,title:o?"Générer une facture":"Disponible après 'Terminée'",children:[s.jsx(ze,{className:"w-4 h-4"})," Facturer"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(ox,{className:"w-4 h-4"})," Lien visio (Meet / Zoom)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"url",placeholder:"https://meet.google.com/… ou https://zoom.us/j/…",defaultValue:r.meetingUrl??"",onBlur:u=>n({meetingUrl:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"}),r.meetingUrl&&s.jsxs("a",{href:r.meetingUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 text-sm",children:[s.jsx(Go,{className:"w-4 h-4"})," Ouvrir"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(bx,{className:"w-4 h-4"})," Reprogrammer"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"date",defaultValue:r.date,onChange:u=>n({date:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"}),s.jsx("input",{type:"time",defaultValue:r.time,onChange:u=>n({time:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[s.jsx(yx,{className:"w-4 h-4"})," Notes"]}),s.jsx("textarea",{defaultValue:r.notes??"",onBlur:u=>n({notes:u.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Notes de séance…"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Prochaines étapes"}),s.jsx("textarea",{defaultValue:r.nextSteps??"",onBlur:u=>n({nextSteps:u.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",placeholder:"Actions à réaliser par le client d’ici la prochaine séance…"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:i,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 text-sm",children:[s.jsx(fe,{className:"w-4 h-4"})," Envoyer le récap au client"]}),s.jsxs("button",{onClick:()=>a({date:r.date,time:r.time,duration:r.duration}),className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-sm",children:[s.jsx(He,{className:"w-4 h-4"})," Créer prochaine séance"]})]})]}),s.jsxs("a",{href:`#/clients/${r.clientId}`,className:"inline-flex items-center gap-2 text-sm text-blue-700 hover:underline",children:["Voir la fiche client ",s.jsx(K0,{className:"w-4 h-4"})]}),s.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Emails"}),s.jsx(_x,{clientEmail:`${r.clientName.split(" ").join(".").toLowerCase()}@example.com`})]})]})]})]})},Zo=({clients:e,sessions:t=[],onUpdateSessions:r})=>{var re;const[n,l]=P.useState([{id:1,clientId:1,clientName:"Sophie Laurent",date:"2024-01-25",time:"14:00",duration:60,status:"scheduled",type:"individual",objectives:["Travailler sur la confiance en réunion","Préparer la présentation de demain"]},{id:2,clientId:2,clientName:"Thomas Rousseau",date:"2024-01-28",time:"10:00",duration:60,status:"scheduled",type:"individual",objectives:["Définir les étapes de la reconversion","Identifier les obstacles"]},{id:3,clientId:1,clientName:"Sophie Laurent",date:"2024-01-18",time:"14:00",duration:60,status:"completed",type:"individual",objectives:["Développer l'assertivité","Techniques de communication"],outcomes:"Excellente séance, Sophie a pratiqué plusieurs techniques d'assertivité. Elle se sent plus confiante.",nextSteps:"Pratiquer les techniques apprises en situation réelle, préparer des exemples pour la prochaine séance",notes:"Sophie montre de réels progrès dans sa capacité à s'affirmer. À continuer sur cette voie."},{id:4,clientId:2,clientName:"Thomas Rousseau",date:"2024-01-21",time:"10:00",duration:60,status:"completed",type:"individual",objectives:["Clarifier la vision professionnelle","Explorer les options de formation"],outcomes:"Thomas a une vision plus claire de son projet. Il souhaite se diriger vers le marketing digital.",nextSteps:"Rechercher des formations en marketing digital, contacter des professionnels du secteur",notes:"Motivation en hausse, projet se précise. Thomas est prêt à passer à l'action."}]);Kn.useEffect(()=>{t.length>0&&l(R=>{const L=R.map(T=>T.id),N=t.filter(T=>!L.includes(T.id));return[...R,...N]})},[t]);const[a,i]=P.useState(""),[o,c]=P.useState("all"),[u,h]=P.useState("all"),[p,y]=P.useState(null),[b,S]=P.useState(!1),[D,A]=P.useState(!1),[m,d]=P.useState(null),x=R=>{switch(R){case"scheduled":return s.jsx(Ke,{className:"w-4 h-4"});case"completed":return s.jsx(Tr,{className:"w-4 h-4"});case"cancelled":return s.jsx(Qn,{className:"w-4 h-4"});case"no_show":return s.jsx(Qn,{className:"w-4 h-4"});default:return s.jsx(Ke,{className:"w-4 h-4"})}},w=P.useMemo(()=>n.filter(R=>{const L=R.clientName.toLowerCase().includes(a.toLowerCase()),N=o==="all"||R.status===o,T=u==="all"||R.type===u;return L&&N&&T}),[n,a,o,u]),I=P.useMemo(()=>n.filter(R=>R.status==="scheduled").slice(0,3),[n]),g=P.useMemo(()=>n.filter(R=>R.status==="completed").length,[n]),f=P.useMemo(()=>n.filter(R=>R.status==="scheduled").length,[n]),E=P.useMemo(()=>e.filter(R=>R.status==="active").length,[e]),M=P.useCallback(()=>[{label:"Séances Planifiées",value:f,icon:ce,color:"blue",tooltip:"Nombre de séances à venir"},{label:"Cette Semaine",value:g,icon:Tr,color:"green",tooltip:"Séances terminées cette semaine"},{label:"Clients Actifs",value:E,icon:nt,color:"purple",tooltip:"Clients avec un statut actif"},{label:"Total Séances",value:n.length,icon:Pe,color:"orange",tooltip:"Nombre total de séances"}],[f,g,E,n.length]),k=R=>{d(R),A(!0)},H=R=>{console.log("Facture créée pour la séance:",m,R),alert(`Facture ${R.invoiceNumber} créée pour la séance avec ${m==null?void 0:m.clientName}`),A(!1),d(null)},B=R=>{p&&(l(L=>L.map(N=>N.id===p.id?{...N,...R}:N)),y(L=>L&&{...L,...R}),r==null||r(n?[...n]:[]))},X=()=>{p&&k(p)},Z=R=>{if(!p)return;const L=new Date(R.date);L.setDate(L.getDate()+7);const N={id:Math.max(0,...n.map(T=>T.id))+1,clientId:p.clientId,clientName:p.clientName,date:L.toISOString().slice(0,10),time:R.time,duration:R.duration,status:"scheduled",type:p.type,meetingUrl:p.meetingUrl};l(T=>[N,...T])},ie=()=>{p&&alert(`Récap envoyé à ${p.clientName}`)};return s.jsxs("div",{className:"bg-white min-h-0",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 space-y-4 sm:space-y-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Séances de Coaching"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gérez vos séances et suivez les progrès"})]}),s.jsxs("button",{"aria-label":"Créer une nouvelle séance",onClick:()=>alert("Fonctionnalité de création de séance à venir"),className:"w-full sm:w-auto px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center text-sm sm:text-base",children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Nouvelle Séance"}),s.jsx("span",{className:"sm:hidden",children:"Nouvelle"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text","aria-label":"Rechercher par client",placeholder:"Rechercher par client...",value:a,onChange:R=>i(R.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[s.jsxs("select",{value:o,onChange:R=>c(R.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"scheduled",children:"Planifiées"}),s.jsx("option",{value:"completed",children:"Terminées"}),s.jsx("option",{value:"cancelled",children:"Annulées"}),s.jsx("option",{value:"no_show",children:"Absences"})]}),s.jsxs("select",{value:u,onChange:R=>h(R.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",children:[s.jsx("option",{value:"all",children:"Tous les types"}),s.jsx("option",{value:"individual",children:"Individuelles"}),s.jsx("option",{value:"group",children:"Groupes"}),s.jsx("option",{value:"discovery",children:"Découverte"})]})]})]})]}),s.jsx(ml,{items:M(),dense:!1}),s.jsxs("div",{className:"flex flex-col lg:flex-row min-h-0",children:[s.jsx("div",{className:"flex-1 p-6 min-h-0 overflow-y-auto",children:s.jsx("div",{className:"space-y-4",children:w.map(R=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3 sm:p-4 hover:shadow-md transition-shadow duration-200",children:[s.jsx("div",{onClick:()=>{y(R),S(!0)},className:"cursor-pointer",children:s.jsx(Ex,{type:"session",data:{name:R.clientName,date:R.date,time:R.time,duration:`${R.duration}min`,sessionType:TYPE_LABELS[R.type],status:R.status,assignedCoach:"Coach assigné",meetingUrl:R.meetingUrl}})}),s.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(R.status)}`,children:[x(R.status),s.jsx("span",{className:"ml-1",children:STATUS_LABELS[R.status]})]}),s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full",children:TYPE_LABELS[R.type]})]}),R.status==="completed"&&s.jsxs("button",{onClick:L=>{L.stopPropagation(),k(R)},className:"flex items-center px-3 py-1.5 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors duration-200 text-xs font-medium",children:[s.jsx(ze,{className:"w-3 h-3 mr-1"}),"Facturer"]})]}),R.objectives&&s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Objectifs:"}),s.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:R.objectives.map((L,N)=>s.jsxs("li",{className:"flex items-start",children:[s.jsx(Pe,{className:"w-3 h-3 mr-2 mt-0.5 text-gray-400"}),L]},N))})]}),R.outcomes&&s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Résultats:"}),s.jsx("p",{className:"text-sm text-gray-600",children:R.outcomes})]}),R.nextSteps&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Prochaines étapes:"}),s.jsx("p",{className:"text-sm text-gray-600",children:R.nextSteps})]})]},R.id))})}),s.jsxs("div",{className:"w-full lg:w-80 border-t lg:border-t-0 lg:border-l border-gray-200 p-4 sm:p-6 min-h-0 overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Prochaines Séances"}),s.jsx("div",{className:"space-y-3",children:I.map(R=>s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:R.clientName}),s.jsx("span",{className:"text-xs text-blue-600 font-medium",children:TYPE_LABELS[R.type]})]}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ce,{className:"w-3 h-3 mr-1"}),new Date(R.date).toLocaleDateString()]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ke,{className:"w-3 h-3 mr-1"}),R.time," (",R.duration,"min)"]})]})]},R.id))}),p&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Détails de la Séance"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:p.clientName}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Date:"})," ",new Date(p.date).toLocaleDateString()]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Heure:"})," ",p.time]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Durée:"})," ",p.duration," minutes"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Type:"})," ",TYPE_LABELS[p.type]]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Statut:"})," ",statusLabels[p.status]]})]}),p.notes&&s.jsxs("div",{className:"mt-3",children:[s.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-1",children:"Notes:"}),s.jsx("p",{className:"text-sm text-gray-600",children:p.notes})]})]})]})]})]}),s.jsx(Fx,{isOpen:b,onClose:()=>S(!1),session:p,onUpdate:B,onGenerateInvoice:X,onCreateNextSession:Z,onSendRecap:ie}),m&&s.jsx(_i,{isOpen:D,onClose:()=>{A(!1),d(null)},client:e.find(R=>R.name===m.clientName),sessions:[{id:m.id,clientId:((re=e.find(R=>R.name===m.clientName))==null?void 0:re.id)||0,date:m.date,type:m.type,duration:m.duration,status:"completed",description:`Séance ${TYPE_LABELS[m.type]} - ${m.duration}min`}],onCreateInvoice:H})]})},Jo=({theme:e,density:t,onThemeChange:r,onDensityChange:n,currentUser:l})=>{const[a,i]=P.useState("profile"),[o,c]=P.useState({name:l.name,email:l.email,phone:"+33 6 12 34 56 78",company:"CoachCRM",address:"123 Business St, Paris, France",bio:"Coach expérimenté aidant les clients à atteindre leurs objectifs."}),[u,h]=P.useState({emailNotifications:!0,pushNotifications:!0,clientUpdates:!0,meetingReminders:!0,weeklyReports:!1}),[p,y]=P.useState({twoFactorAuth:!1,sessionTimeout:"30",passwordExpiry:"90"}),[b,S]=P.useState({dataRetention:"5years"}),A=(()=>{const k=[{id:"profile",label:"Profil",icon:be},{id:"notifications",label:"Notifications",icon:X0},{id:"appearance",label:"Apparence",icon:gx}];return l.role==="admin"?[...k,{id:"security",label:"Sécurité",icon:Or},{id:"data",label:"Données",icon:nx}]:k})(),m=(k,H)=>{c({...o,[k]:H})},d=(k,H)=>{h({...u,[k]:H})},x=(k,H)=>{y({...p,[k]:H})},w=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations Personnelles"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(be,{className:"w-4 h-4 inline mr-2"}),"Nom Complet"]}),s.jsx("input",{type:"text",value:o.name,onChange:k=>m("name",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(fe,{className:"w-4 h-4 inline mr-2"}),"Email"]}),s.jsx("input",{type:"email",value:o.email,onChange:k=>m("email",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Ee,{className:"w-4 h-4 inline mr-2"}),"Téléphone"]}),s.jsx("input",{type:"tel",value:o.phone,onChange:k=>m("phone",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Entreprise"}),s.jsx("input",{type:"text",value:o.company,onChange:k=>m("company",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Rs,{className:"w-4 h-4 inline mr-2"}),"Adresse"]}),s.jsx("input",{type:"text",value:o.address,onChange:k=>m("address",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),s.jsx("textarea",{value:o.bio,onChange:k=>m("bio",k.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Informations de Compte"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700 font-medium",children:"Rôle:"}),s.jsx("span",{className:"ml-2 text-blue-800",children:l.role==="admin"?"Administrateur":"Coach"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-blue-700 font-medium",children:"Membre depuis:"}),s.jsx("span",{className:"ml-2 text-blue-800",children:new Date(l.createdAt).toLocaleDateString("fr-FR")})]})]}),l.specialties.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-blue-700 font-medium text-sm",children:"Spécialités:"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.specialties.map((k,H)=>s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:k},H))})]})]})]})}),I=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Préférences de Notification"}),s.jsx("div",{className:"space-y-4",children:[{key:"emailNotifications",label:"Notifications Email",description:"Recevoir les notifications par email"},{key:"pushNotifications",label:"Notifications Push",description:"Recevoir les notifications dans le navigateur"},{key:"clientUpdates",label:"Mises à jour Clients",description:"Être notifié des changements clients"},{key:"meetingReminders",label:"Rappels de Rendez-vous",description:"Recevoir des rappels avant les rendez-vous"},...l.role==="admin"?[{key:"weeklyReports",label:"Rapports Hebdomadaires",description:"Recevoir un résumé d'activité hebdomadaire"}]:[]].map(k=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:k.label}),s.jsx("p",{className:"text-sm text-gray-500",children:k.description})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:u[k.key],onChange:H=>d(k.key,H.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},k.key))})]})}),g=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Paramètres de Sécurité"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Authentification à Deux Facteurs"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Ajouter une couche de sécurité supplémentaire"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:p.twoFactorAuth,onChange:k=>x("twoFactorAuth",k.target.checked),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiration de Session (minutes)"}),s.jsxs("select",{value:p.sessionTimeout,onChange:k=>x("sessionTimeout",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"15",children:"15 minutes"}),s.jsx("option",{value:"30",children:"30 minutes"}),s.jsx("option",{value:"60",children:"1 heure"}),s.jsx("option",{value:"120",children:"2 heures"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiration Mot de Passe (jours)"}),s.jsxs("select",{value:p.passwordExpiry,onChange:k=>x("passwordExpiry",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"30",children:"30 jours"}),s.jsx("option",{value:"60",children:"60 jours"}),s.jsx("option",{value:"90",children:"90 jours"}),s.jsx("option",{value:"never",children:"Jamais"})]})]})]})]})]})}),f=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Paramètres d'Apparence"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Thème"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Choisissez votre thème préféré"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>r("light"),className:`p-4 border-2 rounded-lg transition-all ${e==="light"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(wx,{className:"w-6 h-6 mx-auto mb-2 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Clair"})]}),s.jsxs("button",{onClick:()=>r("dark"),className:`p-4 border-2 rounded-lg transition-all ${e==="dark"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(fx,{className:"w-6 h-6 mx-auto mb-2 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Sombre"})]})]})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Densité"}),s.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Choisissez la compacité de l'interface"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:()=>n("comfortable"),className:`p-4 border-2 rounded-lg transition-all ${t==="comfortable"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(xx,{className:"w-6 h-6 mx-auto mb-2 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Confortable"})]}),s.jsxs("button",{onClick:()=>n("compact"),className:`p-4 border-2 rounded-lg transition-all ${t==="compact"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(px,{className:"w-6 h-6 mx-auto mb-2 text-gray-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Compact"})]})]})]}),s.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Aperçu"}),s.jsxs("p",{className:"text-sm text-blue-700",children:["Thème: ",s.jsx("span",{className:"font-semibold",children:e==="light"?"Clair":"Sombre"})," | Densité: ",s.jsx("span",{className:"font-semibold",children:t==="comfortable"?"Confortable":"Compact"})]})]})]})]})}),E=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Données & Confidentialité"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Export des Données"}),s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Télécharger une copie de vos données"}),s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Exporter les Données"})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Rétention des Données"}),s.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Durée de conservation de vos données"}),s.jsxs("select",{value:b.dataRetention,onChange:k=>S({...b,dataRetention:k.target.value}),className:"w-full max-w-xs px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"1year",children:"1 An"}),s.jsx("option",{value:"2years",children:"2 Ans"}),s.jsx("option",{value:"5years",children:"5 Ans"}),s.jsx("option",{value:"forever",children:"Toujours"})]})]}),s.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[s.jsx("h4",{className:"text-sm font-medium text-red-900 mb-2",children:"Zone de Danger"}),s.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Supprimer définitivement votre compte et toutes les données"}),s.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Supprimer le Compte"})]})]})]})}),M=()=>{switch(a){case"profile":return w();case"notifications":return I();case"security":return l.role==="ADMIN"?g():w();case"appearance":return f();case"data":return l.role==="ADMIN"?E():w();default:return w()}};return s.jsxs("div",{className:"bg-white flex flex-col lg:flex-row min-h-0",children:[s.jsx("div",{className:"lg:hidden border-b border-gray-200",children:s.jsx("div",{className:"table-scroll",children:s.jsx("div",{className:"flex",children:A.map(k=>{const H=k.icon;return s.jsxs("button",{onClick:()=>i(k.id),className:`flex-shrink-0 flex items-center px-4 py-3 text-sm font-medium whitespace-nowrap border-b-2 transition-colors ${a===k.id?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(H,{className:"w-4 h-4 mr-2"}),k.label]},k.id)})})})}),s.jsx("div",{className:"hidden lg:block w-64 border-r border-gray-200 bg-gray-50",children:s.jsxs("div",{className:"p-6 overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Paramètres"}),s.jsx("nav",{className:"space-y-1",children:A.map(k=>{const H=k.icon;return s.jsxs("button",{onClick:()=>i(k.id),className:`w-full flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-colors ${a===k.id?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[s.jsx(H,{className:"w-5 h-5 mr-3"}),k.label]},k.id)})})]})}),s.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[s.jsx("div",{className:"p-6 overflow-y-auto flex-1 min-h-0 overflow-y-auto",children:s.jsx("div",{className:"max-w-4xl",children:M()})}),s.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:s.jsxs("button",{className:"w-full lg:w-auto px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center font-semibold",children:[s.jsx(Nx,{className:"w-4 h-4 mr-2"}),"Sauvegarder les Modifications"]})})]})]})},zx=({amount:e,clientName:t,invoiceNumber:r,onPaymentSuccess:n,onPaymentError:l})=>{const[a,i]=P.useState(!1);P.useState("card");const[o,c]=P.useState({number:"",expiry:"",cvc:"",name:""}),u=(b,S)=>{c({...o,[b]:S})},h=b=>{const S=b.replace(/\s+/g,"").replace(/[^0-9]/gi,""),D=S.match(/\d{4,16}/g),A=D&&D[0]||"",m=[];for(let d=0,x=A.length;d<x;d+=4)m.push(A.substring(d,d+4));return m.length?m.join(" "):S},p=b=>{const S=b.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return S.length>=2?S.substring(0,2)+"/"+S.substring(2,4):S},y=async b=>{b.preventDefault(),i(!0);try{if(await new Promise(S=>setTimeout(S,2e3)),Math.random()>.1)n();else throw new Error("Votre carte a été refusée. Veuillez vérifier vos informations.")}catch(S){l(S instanceof Error?S.message:"Erreur de paiement")}finally{i(!1)}};return s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:s.jsx(Nt,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Paiement Sécurisé"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Facture ",r," - ",t]})]})]}),s.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-lg font-medium text-gray-900",children:"Montant à payer"}),s.jsxs("span",{className:"text-2xl font-bold text-blue-700",children:[e.toLocaleString("fr-FR"),"€"]})]})}),s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Numéro de carte"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:o.number,onChange:b=>u("number",h(b.target.value)),placeholder:"1234 5678 9012 3456",maxLength:19,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent pl-12",required:!0}),s.jsx(Nt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date d'expiration"}),s.jsx("input",{type:"text",value:o.expiry,onChange:b=>u("expiry",p(b.target.value)),placeholder:"MM/AA",maxLength:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVC"}),s.jsx("input",{type:"text",value:o.cvc,onChange:b=>u("cvc",b.target.value.replace(/\D/g,"").substring(0,4)),placeholder:"123",maxLength:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom sur la carte"}),s.jsx("input",{type:"text",value:o.name,onChange:b=>u("name",b.target.value),placeholder:"Jean Dupont",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[s.jsx(ux,{className:"w-4 h-4 mr-2"}),"Vos informations de paiement sont sécurisées et cryptées"]}),s.jsx("button",{type:"submit",disabled:a,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-semibold shadow-md hover:shadow-lg flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:a?s.jsxs(s.Fragment,{children:[s.jsx(dx,{className:"w-5 h-5 mr-2 animate-spin"}),"Traitement en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nt,{className:"w-5 h-5 mr-2"}),"Payer ",e.toLocaleString("fr-FR"),"€"]})})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsxs("p",{className:"text-xs text-gray-500",children:["Propulsé par ",s.jsx("span",{className:"font-semibold",children:"Stripe"})," - Paiements sécurisés"]})})]})},$x=({isOpen:e,onClose:t,invoice:r,client:n,onUpdateInvoice:l})=>{const[a,i]=P.useState(!1),o=()=>{const b={...r,status:"paid"};l(b),i(!1),t()},c=b=>{alert(`Erreur de paiement: ${b}`)},u=()=>{const b=document.createElement("a"),S=new Blob([`Facture ${r.invoiceNumber} - ${r.clientName}`],{type:"text/plain"});b.href=URL.createObjectURL(S),b.download=`${r.invoiceNumber}.pdf`,document.body.appendChild(b),b.click(),document.body.removeChild(b)},h=()=>{alert(`Facture ${r.invoiceNumber} envoyée à ${r.clientEmail}`);const b={...r,status:"sent"};l(b)},p=b=>{switch(b){case"paid":return"bg-green-100 text-green-800 border-green-200";case"sent":return"bg-blue-100 text-blue-800 border-blue-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"draft":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},y=b=>{switch(b){case"paid":return"Payée";case"sent":return"Envoyée";case"overdue":return"En retard";case"draft":return"Brouillon";case"cancelled":return"Annulée";default:return b}};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4",style:{position:"fixed"},children:s.jsxs("div",{className:"modal-content bg-white rounded-2xl shadow-2xl w-full max-w-4xl border border-gray-100 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50 rounded-t-2xl flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ze,{className:"w-6 h-6 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:["Facture ",r.invoiceNumber]}),s.jsx("p",{className:"text-sm text-gray-600",children:r.clientName})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full border ${p(r.status)}`,children:y(r.status)}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200",children:s.jsx(Ie,{className:"w-6 h-6"})})]})]}),s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:s.jsx("div",{className:"p-6",children:a?s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx(zx,{amount:r.amount,clientName:r.clientName,invoiceNumber:r.invoiceNumber,onPaymentSuccess:o,onPaymentError:c}),s.jsx("button",{onClick:()=>i(!1),className:"w-full mt-4 px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:"Retour aux détails"})]}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations Client"}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(be,{className:"w-4 h-4 text-gray-400 mr-3"}),s.jsx("span",{className:"font-medium text-gray-900",children:r.clientName})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(fe,{className:"w-4 h-4 text-gray-400 mr-3"}),s.jsx("span",{className:"text-gray-700",children:r.clientEmail})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ee,{className:"w-4 h-4 text-gray-400 mr-3"}),s.jsx("span",{className:"text-gray-700",children:n.phone})]}),n.company&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Building,{className:"w-4 h-4 text-gray-400 mr-3"}),s.jsx("span",{className:"text-gray-700",children:n.company})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Détails de la Facture"}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Numéro:"}),s.jsx("span",{className:"font-medium text-gray-900",children:r.invoiceNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Date d'émission:"}),s.jsx("span",{className:"font-medium text-gray-900",children:new Date(r.date).toLocaleDateString("fr-FR")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Date d'échéance:"}),s.jsx("span",{className:"font-medium text-gray-900",children:new Date(r.dueDate).toLocaleDateString("fr-FR")})]}),s.jsxs("div",{className:"flex justify-between pt-3 border-t border-gray-200",children:[s.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),s.jsxs("span",{className:"text-2xl font-bold text-blue-700",children:[r.amount.toLocaleString("fr-FR"),"€"]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Prestations"}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-700",children:"Description"}),s.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Quantité"}),s.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Prix Unitaire"}),s.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-700",children:"Total"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:r.items.map(b=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:b.description}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:b.quantity}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm text-gray-700",children:[b.unitPrice.toLocaleString("fr-FR"),"€"]}),s.jsxs("td",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-900",children:[b.total.toLocaleString("fr-FR"),"€"]})]},b.id))}),s.jsx("tfoot",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"px-6 py-4 text-right text-lg font-semibold text-gray-900",children:"Total TTC:"}),s.jsxs("td",{className:"px-6 py-4 text-right text-xl font-bold text-blue-700",children:[r.amount.toLocaleString("fr-FR"),"€"]})]})})]})})]}),r.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notes"}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6",children:s.jsx("p",{className:"text-gray-700",children:r.notes})})]})]})})}),!a&&s.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-2xl flex-shrink-0",children:s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{onClick:u,className:"flex-1 min-w-0 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center justify-center",children:[s.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Télécharger PDF"]}),r.status==="draft"&&s.jsxs("button",{onClick:h,className:"flex-1 min-w-0 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors duration-200 flex items-center justify-center",children:[s.jsx(qn,{className:"w-4 h-4 mr-2"}),"Envoyer au Client"]}),(r.status==="sent"||r.status==="overdue")&&s.jsxs("button",{onClick:()=>i(!0),className:"flex-1 min-w-0 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center",children:[s.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Encaisser le Paiement"]}),r.status==="paid"&&s.jsxs("div",{className:"flex-1 min-w-0 px-4 py-3 bg-green-100 text-green-800 rounded-lg flex items-center justify-center",children:[s.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Facture Payée"]})]})})]})}):null},Ox=({isOpen:e,onClose:t,invoice:r,client:n,onUpdateInvoice:l})=>{const[a,i]=P.useState(!1),[o,c]=P.useState(!1),u=async()=>{c(!0);try{await new Promise(m=>setTimeout(m,2e3));const A=`https://pay.stripe.com/invoice/${r.invoiceNumber}`;alert(`Lien de paiement envoyé à ${r.clientEmail}

Lien: ${A}

Le client recevra un email avec le lien sécurisé pour payer la facture.`)}catch{alert("Erreur lors de l'envoi du lien de paiement")}finally{c(!1)}},h=()=>{i(!0),setTimeout(()=>{const A={...r,status:"paid"};l(A),i(!1),t()},1e3)},p=()=>{const A=document.createElement("a"),m=new Blob([`Facture ${r.invoiceNumber} - ${r.clientName}`],{type:"text/plain"});A.href=URL.createObjectURL(m),A.download=`${r.invoiceNumber}.pdf`,document.body.appendChild(A),A.click(),document.body.removeChild(A)},y=()=>{alert(`Facture ${r.invoiceNumber} envoyée à ${r.clientEmail}`);const A={...r,status:"sent"};l(A)},b=A=>{switch(A){case"paid":return"bg-green-100 text-green-800 border-green-200";case"sent":return"bg-blue-100 text-blue-800 border-blue-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"draft":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},S=A=>{switch(A){case"paid":return"Payée";case"sent":return"Envoyée";case"overdue":return"En retard";case"draft":return"Brouillon";case"cancelled":return"Annulée";default:return A}},D=()=>new Date(r.dueDate)<new Date&&r.status!=="paid";return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4",style:{position:"fixed"},children:s.jsxs("div",{className:"modal-content bg-white rounded-xl sm:rounded-2xl shadow-2xl w-full max-w-4xl border border-gray-100 flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50 rounded-t-xl sm:rounded-t-2xl flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center min-w-0",children:[s.jsx(ze,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600 mr-2 sm:mr-3 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsxs("h2",{className:"text-lg sm:text-2xl font-bold text-gray-900 tracking-tight truncate",children:["Facture ",r.invoiceNumber]}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:r.clientName})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 flex-shrink-0",children:[s.jsx("span",{className:`inline-flex px-2 sm:px-3 py-1 text-xs sm:text-sm font-semibold rounded-full border ${b(r.status)}`,children:S(r.status)}),D()&&s.jsxs("span",{className:"inline-flex px-2 sm:px-3 py-1 text-xs sm:text-sm font-semibold rounded-full bg-red-100 text-red-800 border-red-200",children:[s.jsx(pu,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"En retard"]}),s.jsx("button",{onClick:t,className:"p-1.5 sm:p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200",children:s.jsx(Ie,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]})]}),s.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:s.jsx("div",{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[s.jsxs("div",{className:"text-center py-4 sm:py-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100",children:[s.jsxs("div",{className:"text-3xl sm:text-4xl font-bold text-blue-700 mb-2",children:[r.amount.toLocaleString("fr-FR"),"€"]}),s.jsxs("div",{className:"text-sm sm:text-base text-gray-600",children:["Échéance: ",new Date(r.dueDate).toLocaleDateString("fr-FR")]}),D()&&s.jsxs("div",{className:"text-sm text-red-600 font-medium mt-1",children:["Facture en retard de ",Math.ceil((new Date().getTime()-new Date(r.dueDate).getTime())/(1e3*3600*24))," jour(s)"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Informations Client"}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 sm:p-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(be,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),s.jsx("span",{className:"font-medium text-gray-900 truncate",children:r.clientName})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(fe,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700 truncate",children:r.clientEmail})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ee,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:n.phone})]}),n.company&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(ul,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700 truncate",children:n.company})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Détails de la Facture"}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 sm:p-6 space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Numéro:"}),s.jsx("span",{className:"font-medium text-gray-900",children:r.invoiceNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Date d'émission:"}),s.jsx("span",{className:"font-medium text-gray-900",children:new Date(r.date).toLocaleDateString("fr-FR")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Date d'échéance:"}),s.jsx("span",{className:"font-medium text-gray-900",children:new Date(r.dueDate).toLocaleDateString("fr-FR")})]}),s.jsxs("div",{className:"flex justify-between pt-3 border-t border-gray-200",children:[s.jsx("span",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Total:"}),s.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-blue-700",children:[r.amount.toLocaleString("fr-FR"),"€"]})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Prestations"}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full min-w-[500px]",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-left text-xs sm:text-sm font-semibold text-gray-700",children:"Description"}),s.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-center text-xs sm:text-sm font-semibold text-gray-700",children:"Qté"}),s.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-right text-xs sm:text-sm font-semibold text-gray-700",children:"Prix Unit."}),s.jsx("th",{className:"px-4 sm:px-6 py-3 sm:py-4 text-right text-xs sm:text-sm font-semibold text-gray-700",children:"Total"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:r.items.map(A=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 text-xs sm:text-sm text-gray-900",children:A.description}),s.jsx("td",{className:"px-4 sm:px-6 py-3 sm:py-4 text-center text-xs sm:text-sm text-gray-700",children:A.quantity}),s.jsxs("td",{className:"px-4 sm:px-6 py-3 sm:py-4 text-right text-xs sm:text-sm text-gray-700",children:[A.unitPrice.toLocaleString("fr-FR"),"€"]}),s.jsxs("td",{className:"px-4 sm:px-6 py-3 sm:py-4 text-right text-xs sm:text-sm font-semibold text-gray-900",children:[A.total.toLocaleString("fr-FR"),"€"]})]},A.id))}),s.jsx("tfoot",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("td",{colSpan:3,className:"px-4 sm:px-6 py-3 sm:py-4 text-right text-base sm:text-lg font-semibold text-gray-900",children:"Total TTC:"}),s.jsxs("td",{className:"px-4 sm:px-6 py-3 sm:py-4 text-right text-lg sm:text-xl font-bold text-blue-700",children:[r.amount.toLocaleString("fr-FR"),"€"]})]})})]})})})]}),r.notes&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Notes"}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-4 sm:p-6",children:s.jsx("p",{className:"text-gray-700 text-sm sm:text-base",children:r.notes})})]})]})})}),s.jsx("div",{className:"p-4 sm:p-6 border-t border-gray-200 bg-gray-50 rounded-b-xl sm:rounded-b-2xl flex-shrink-0",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:p,className:"flex-1 px-4 py-2.5 sm:py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center justify-center text-sm sm:text-base font-medium",children:[s.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Télécharger PDF"]}),r.status==="draft"&&s.jsxs("button",{onClick:y,className:"flex-1 px-4 py-2.5 sm:py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors duration-200 flex items-center justify-center text-sm sm:text-base font-medium",children:[s.jsx(qn,{className:"w-4 h-4 mr-2"}),"Envoyer au Client"]}),(r.status==="sent"||r.status==="overdue")&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:u,className:"flex-1 px-4 py-2.5 sm:py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center text-sm sm:text-base font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Envoi en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Envoyer Lien de Paiement"]})}),s.jsx("button",{onClick:h,disabled:a,className:"flex-1 px-4 py-2.5 sm:py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors duration-200 flex items-center justify-center text-sm sm:text-base font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Marquage..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ex,{className:"w-4 h-4 mr-2"}),"Marquer Payée"]})})]}),r.status==="paid"&&s.jsxs("div",{className:"flex-1 px-4 py-2.5 sm:py-3 bg-green-100 text-green-800 rounded-lg flex items-center justify-center text-sm sm:text-base font-medium",children:[s.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Facture Payée"]})]})})]})}):null},ec=({clients:e,onUpdateClient:t,currentUser:r})=>{const[n,l]=P.useState(""),[a,i]=P.useState("all"),[o,c]=P.useState("all"),[u,h]=P.useState("all");P.useState(null);const[p,y]=P.useState(!1),[b,S]=P.useState(!1),[D,A]=P.useState(null),[m,d]=P.useState(null),[x,w]=P.useState(!1),[I,g]=P.useState(!1),[f,E]=P.useState([]);P.useState("default"),P.useState(!1);const[M,k]=P.useState(!1),H=e.flatMap(C=>C.billing.invoices.map(O=>({...O,clientName:C.name,clientEmail:C.email}))),B=H.filter(C=>{const O=C.clientName.toLowerCase().includes(n.toLowerCase())||C.invoiceNumber.toLowerCase().includes(n.toLowerCase()),K=a==="all"||C.status===a,qe=o==="all"||C.clientName===o;let Je=!0;if(u!=="all"){const wt=new Date(C.date),Y=new Date;switch(u){case"this_month":Je=wt.getMonth()===Y.getMonth()&&wt.getFullYear()===Y.getFullYear();break;case"last_month":const ft=new Date(Y.getFullYear(),Y.getMonth()-1);Je=wt.getMonth()===ft.getMonth()&&wt.getFullYear()===ft.getFullYear();break;case"this_year":Je=wt.getFullYear()===Y.getFullYear();break}}return O&&K&&qe&&Je}),X=C=>{switch(C){case"paid":return"bg-green-100 text-green-800 border-green-200";case"sent":return"bg-blue-100 text-blue-800 border-blue-200";case"overdue":return"bg-red-100 text-red-800 border-red-200";case"draft":return"bg-gray-100 text-gray-800 border-gray-200";case"cancelled":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Z=C=>{switch(C){case"paid":return"Payée";case"sent":return"Envoyée";case"overdue":return"En retard";case"draft":return"Brouillon";case"cancelled":return"Annulée";default:return C}},ie=e.reduce((C,O)=>C+O.billing.totalPaid,0),re=e.reduce((C,O)=>C+O.billing.totalDue,0),R=H.filter(C=>C.status==="overdue").length,L=H.filter(C=>C.status==="paid"&&new Date(C.date).getMonth()===new Date().getMonth()).reduce((C,O)=>C+O.amount,0),N=C=>{const O=e.find(K=>K.id===C.clientId);if(O){const K={...O,billing:{...O.billing,invoices:[...O.billing.invoices,C],totalDue:O.billing.totalDue+C.amount}};t(K)}},T=C=>{A(C),S(!0)},j=C=>{d(C),w(!0)},z=C=>{const O=document.createElement("a"),K=new Blob([`Facture ${C.invoiceNumber} - ${C.clientName}`],{type:"text/plain"});O.href=URL.createObjectURL(K),O.download=`${C.invoiceNumber}.pdf`,document.body.appendChild(O),O.click(),document.body.removeChild(O)},J=C=>{alert(`Facture ${C.invoiceNumber} envoyée à ${C.clientEmail}`);const O=e.find(K=>K.id===C.clientId);if(O){const K=O.billing.invoices.map(Je=>Je.id===C.id?{...Je,status:"sent"}:Je),qe={...O,billing:{...O.billing,invoices:K}};t(qe)}},te=C=>{const O=e.find(K=>K.id===C.clientId);if(O){const K=O.billing.invoices.map(Y=>Y.id===C.id?{...Y,status:"paid"}:Y),qe=K.filter(Y=>Y.status==="paid").reduce((Y,ft)=>Y+ft.amount,0),Je=K.filter(Y=>Y.status!=="paid"&&Y.status!=="cancelled").reduce((Y,ft)=>Y+ft.amount,0),wt={...O,billing:{...O.billing,invoices:K,totalPaid:qe,totalDue:Je}};t(wt)}},xe=C=>{const O=e.find(K=>K.id===C.clientId);if(O){const K=O.billing.invoices.map(Y=>Y.id===C.id?C:Y),qe=K.filter(Y=>Y.status==="paid").reduce((Y,ft)=>Y+ft.amount,0),Je=K.filter(Y=>Y.status!=="paid"&&Y.status!=="cancelled").reduce((Y,ft)=>Y+ft.amount,0),wt={...O,billing:{...O.billing,invoices:K,totalPaid:qe,totalDue:Je}};t(wt)}},v=()=>{if(B.filter(O=>O.status==="overdue"&&(f.length===0||f.includes(O.id))).length===0){alert("Aucune facture en retard sélectionnée");return}k(!0)},F=()=>{const C=B.filter(O=>O.status==="overdue"&&(f.length===0||f.includes(O.id)));setTimeout(()=>{alert(`${C.length} relances envoyées avec succès`),k(!1),E([])},1500)},U=C=>{E(O=>O.includes(C)?O.filter(K=>K!==C):[...O,C])},W=()=>{const C=B.filter(O=>O.status==="overdue").map(O=>O.id);f.length===C.length?E([]):E(C)},Ue=[...new Set(H.map(C=>C.clientName))],pt=B.filter(C=>C.status==="overdue").length,ss=()=>[{label:"CA Total",value:`${ie.toLocaleString("fr-FR")}€`,icon:Ti,color:"green",tooltip:"Chiffre d'affaires total encaissé"},{label:"Ce Mois",value:`${L.toLocaleString("fr-FR")}€`,icon:st,color:"blue",delta:{value:12,type:"positive",label:"%"},tooltip:"Revenus de ce mois"},{label:"À Recevoir",value:`${re.toLocaleString("fr-FR")}€`,icon:Ke,color:"orange",tooltip:"Montant total des factures impayées"},{label:"En Retard",value:R,icon:Vn,color:"red",tooltip:"Nombre de factures en retard"}],q=()=>s.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-50 lg:hidden ${I?"block":"hidden"}`,children:s.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white rounded-t-2xl p-6 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtres"}),s.jsx("button",{onClick:()=>g(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:s.jsx(Ie,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{value:a,onChange:C=>i(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"draft",children:"Brouillons"}),s.jsx("option",{value:"sent",children:"Envoyées"}),s.jsx("option",{value:"paid",children:"Payées"}),s.jsx("option",{value:"overdue",children:"En retard"}),s.jsx("option",{value:"cancelled",children:"Annulées"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client"}),s.jsxs("select",{value:o,onChange:C=>c(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les clients"}),Ue.map(C=>s.jsx("option",{value:C,children:C},C))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Période"}),s.jsxs("select",{value:u,onChange:C=>h(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Toutes les périodes"}),s.jsx("option",{value:"this_month",children:"Ce mois"}),s.jsx("option",{value:"last_month",children:"Mois dernier"}),s.jsx("option",{value:"this_year",children:"Cette année"})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>{i("all"),c("all"),h("all")},className:"flex-1 px-4 py-2 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50",children:"Réinitialiser"}),s.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Appliquer"})]})]})}),Re=({invoice:C,onClose:O})=>s.jsxs("div",{className:"absolute right-0 top-8 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-10 min-w-[160px]",children:[s.jsxs("button",{onClick:()=>{T(C),O()},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[s.jsx(pr,{className:"w-4 h-4 mr-2"}),"Voir détails"]}),s.jsxs("button",{onClick:()=>{z(C),O()},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[s.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Télécharger PDF"]}),s.jsxs("button",{onClick:()=>{J(C),O()},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[s.jsx(qn,{className:"w-4 h-4 mr-2"}),"Envoyer"]}),(C.status==="sent"||C.status==="overdue")&&s.jsxs("button",{onClick:()=>{te(C),O()},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center",children:[s.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Marquer payée"]})]});return s.jsxs("div",{className:"bg-gray-50 min-h-0",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Facturation"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1 hidden sm:block",children:"Gérez vos factures et paiements"})]}),s.jsxs("button",{onClick:()=>y(!0),className:"hidden lg:flex items-center px-4 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg font-semibold",children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),"Nouvelle Facture"]})]})})}),s.jsx(ml,{items:ss(),role:r.role,dense:!1}),pt>0&&s.jsx("div",{className:"bg-orange-50 border-b border-orange-200",children:s.jsx("div",{className:"px-4 sm:px-6 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Vn,{className:"w-5 h-5 text-orange-600 mr-2"}),s.jsxs("span",{className:"text-sm font-medium text-orange-800",children:[pt," facture(s) en retard"]})]}),s.jsxs("button",{onClick:v,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors duration-200 text-sm font-medium",children:[s.jsx(fe,{className:"w-4 h-4 mr-2 inline"}),"Relancer"]})]})})}),s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsxs("div",{className:"px-4 sm:px-6 py-4",children:[s.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher factures ou clients...",value:n,onChange:C=>l(C.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:a,onChange:C=>i(C.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"draft",children:"Brouillons"}),s.jsx("option",{value:"sent",children:"Envoyées"}),s.jsx("option",{value:"paid",children:"Payées"}),s.jsx("option",{value:"overdue",children:"En retard"}),s.jsx("option",{value:"cancelled",children:"Annulées"})]}),s.jsxs("select",{value:o,onChange:C=>c(C.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]",children:[s.jsx("option",{value:"all",children:"Tous les clients"}),Ue.map(C=>s.jsx("option",{value:C,children:C},C))]}),s.jsxs("select",{value:u,onChange:C=>h(C.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]",children:[s.jsx("option",{value:"all",children:"Toutes les périodes"}),s.jsx("option",{value:"this_month",children:"Ce mois"}),s.jsx("option",{value:"last_month",children:"Mois dernier"}),s.jsx("option",{value:"this_year",children:"Cette année"})]})]}),s.jsxs("div",{className:"lg:hidden space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher...",value:n,onChange:C=>l(C.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("button",{onClick:()=>g(!0),className:"flex items-center justify-center w-full px-4 py-2.5 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(gu,{className:"w-4 h-4 mr-2"}),"Filtres",(a!=="all"||o!=="all"||u!=="all")&&s.jsx("span",{className:"ml-2 w-2 h-2 bg-blue-600 rounded-full"})]})]})]})}),s.jsx("div",{className:"px-4 sm:px-6 py-6 min-h-0 overflow-y-auto",children:B.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ze,{className:"w-12 h-12 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune facture trouvée"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Commencez par créer votre première facture"}),s.jsx("button",{onClick:()=>y(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Créer ma première facture"})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden lg:block bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsx("div",{className:"table-scroll",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[pt>0&&s.jsx("th",{className:"px-6 py-4 text-left",children:s.jsx("button",{onClick:W,className:"text-gray-400 hover:text-gray-600",children:f.length===B.filter(C=>C.status==="overdue").length?s.jsx(_a,{className:"w-4 h-4"}):s.jsx(Fa,{className:"w-4 h-4"})})}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"N° Facture"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Montant"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:B.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors duration-150",onClick:()=>j(C),children:[pt>0&&s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:C.status==="overdue"&&s.jsx("button",{onClick:O=>{O.stopPropagation(),U(C.id)},className:"text-gray-400 hover:text-blue-600",children:f.includes(C.id)?s.jsx(_a,{className:"w-4 h-4"}):s.jsx(Fa,{className:"w-4 h-4"})})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ze,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:C.invoiceNumber})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.clientName}),s.jsx("div",{className:"text-sm text-gray-500",children:C.clientEmail})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(C.date).toLocaleDateString("fr-FR")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[C.amount.toLocaleString("fr-FR"),"€"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full border ${X(C.status)}`,children:Z(C.status)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:O=>{O.stopPropagation(),T(C)},className:"p-1 text-gray-400 hover:text-blue-600 rounded transition-colors",children:s.jsx(pr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:O=>{O.stopPropagation(),z(C)},className:"p-1 text-gray-400 hover:text-green-600 rounded transition-colors",children:s.jsx(Bn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:O=>{O.stopPropagation(),J(C)},className:"p-1 text-gray-400 hover:text-purple-600 rounded transition-colors",children:s.jsx(qn,{className:"w-4 h-4"})})]})})]},C.id))})]})})}),s.jsx("div",{className:"hidden md:block lg:hidden bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsx("div",{className:"table-scroll",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Facture"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Montant"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:B.map(C=>{const[O,K]=P.useState(!1);return s.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors duration-150",onClick:()=>j(C),children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ze,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:C.invoiceNumber})]})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.clientName})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[C.amount.toLocaleString("fr-FR"),"€"]})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${X(C.status)}`,children:Z(C.status)})}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap relative",children:[s.jsx("button",{onClick:qe=>{qe.stopPropagation(),K(!O)},className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors",children:s.jsx(Hn,{className:"w-4 h-4"})}),O&&s.jsx(Re,{invoice:C,onClose:()=>K(!1)})]})]},C.id)})})]})})}),s.jsx("div",{className:"md:hidden space-y-4",children:B.map(C=>{const[O,K]=P.useState(!1);return s.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ze,{className:"w-5 h-5 text-gray-400 mr-2 flex-shrink-0"}),s.jsx("div",{children:s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:C.invoiceNumber})})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${X(C.status)}`,children:Z(C.status)})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Client:"}),s.jsx("span",{className:"text-sm font-medium text-gray-900 truncate ml-2",children:C.clientName})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Date:"}),s.jsx("span",{className:"text-sm text-gray-900",children:new Date(C.date).toLocaleDateString("fr-FR")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Montant:"}),s.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[C.amount.toLocaleString("fr-FR"),"€"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:qe=>{qe.stopPropagation(),j(C)},className:"flex-1 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium",children:"Voir / Éditer"}),C.status==="completed"&&s.jsxs("button",{onClick:qe=>{qe.stopPropagation(),alert(`Générer facture pour ${C.clientName}`)},className:"px-3 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors text-sm font-medium",children:[s.jsx(ze,{className:"w-3 h-3 mr-1 inline"}),"Facturer"]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>K(!O),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:s.jsx(Hn,{className:"w-4 h-4"})}),O&&s.jsx(Re,{invoice:C,onClose:()=>K(!1)})]})]})]},C.id)})})]})}),s.jsx("button",{onClick:()=>y(!0),className:"lg:hidden fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center z-50",children:s.jsx(He,{className:"w-6 h-6"})}),s.jsx(q,{}),M&&s.jsx(Vx,{isOpen:M,onClose:()=>k(!1),invoices:B.filter(C=>C.status==="overdue"&&(f.length===0||f.includes(C.id))),onSendReminders:F}),s.jsx(_i,{isOpen:p,onClose:()=>y(!1),clients:e,sessions:[{id:1,clientId:1,date:"2024-01-18",type:"individuelle",duration:60,status:"completed",description:"Séance sur l'assertivité"},{id:2,clientId:1,date:"2024-01-11",type:"individuelle",duration:60,status:"completed",description:"Travail sur la confiance"},{id:3,clientId:2,date:"2024-01-21",type:"individuelle",duration:60,status:"completed",description:"Clarification du projet"},{id:4,clientId:2,date:"2024-01-14",type:"individuelle",duration:60,status:"completed",description:"Exploration des options"}],onCreateInvoice:N}),D&&s.jsx($x,{isOpen:b,onClose:()=>{S(!1),A(null)},invoice:D,client:e.find(C=>C.id===D.clientId),onUpdateInvoice:xe}),m&&s.jsx(Ox,{isOpen:x,onClose:()=>{w(!1),d(null)},invoice:m,client:e.find(C=>C.id===m.clientId),onUpdateInvoice:xe})]})},Vx=({isOpen:e,onClose:t,invoices:r,onSendReminders:n})=>{const[l,a]=P.useState(!1),i=()=>{a(!0),n()};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50 rounded-t-2xl",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(fe,{className:"w-6 h-6 text-orange-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Relancer les Factures"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[r.length," facture(s) en retard"]})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200",children:s.jsx(Ie,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Factures à relancer"}),s.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.map(o=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.invoiceNumber}),s.jsxs("p",{className:"text-xs text-gray-600",children:[o.clientName," - ",o.amount.toLocaleString("fr-FR"),"€"]})]}),s.jsxs("span",{className:"text-xs text-red-600 font-medium",children:["En retard de ",Math.ceil((new Date().getTime()-new Date(o.dueDate).getTime())/(1e3*3600*24))," jour(s)"]})]},o.id))})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200 mb-6",children:[s.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Template de relance"}),s.jsx("p",{className:"text-sm text-blue-800",children:"Un email de relance automatique sera envoyé à chaque client avec les détails de la facture en retard et un lien de paiement."})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-2xl",children:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:"Annuler"}),s.jsx("button",{onClick:i,disabled:l,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors duration-200 flex items-center justify-center disabled:opacity-50",children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Envoi en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(fe,{className:"w-4 h-4 mr-2"}),"Relancer factures en retard"]})})]})})]})}):null},Vt={ADMIN:[{id:"clients.view",name:"Voir clients",description:"Voir tous les clients",category:"clients"},{id:"clients.create",name:"Créer clients",description:"Créer de nouveaux clients",category:"clients"},{id:"clients.edit",name:"Modifier clients",description:"Modifier les clients existants",category:"clients"},{id:"clients.delete",name:"Supprimer clients",description:"Supprimer des clients",category:"clients"},{id:"billing.view",name:"Voir facturation",description:"Voir toutes les factures",category:"billing"},{id:"billing.create",name:"Créer factures",description:"Créer des factures",category:"billing"},{id:"billing.edit",name:"Modifier factures",description:"Modifier les factures",category:"billing"},{id:"calendar.view",name:"Voir planning",description:"Voir tout le planning",category:"calendar"},{id:"calendar.create",name:"Créer événements",description:"Créer des événements",category:"calendar"},{id:"calendar.edit",name:"Modifier événements",description:"Modifier les événements",category:"calendar"},{id:"settings.manage",name:"Gérer paramètres",description:"Gérer les paramètres système",category:"settings"},{id:"staff.manage",name:"Gérer équipe",description:"Gérer les utilisateurs",category:"settings"},{id:"reports.view",name:"Voir rapports",description:"Voir tous les rapports",category:"reports"},{id:"dashboard.view",name:"Voir dashboard",description:"Accéder au dashboard global",category:"reports"},{id:"pipeline.all",name:"Pipeline global",description:"Voir tous les leads",category:"clients"},{id:"assign.leads",name:"Assigner leads",description:"Assigner des leads aux coachs",category:"clients"}],COACH:[{id:"clients.view.own",name:"Voir ses clients",description:"Voir ses clients assignés",category:"clients"},{id:"clients.edit.own",name:"Modifier ses clients",description:"Modifier ses clients",category:"clients"},{id:"billing.view.own",name:"Voir ses factures",description:"Voir ses factures",category:"billing"},{id:"billing.create.own",name:"Créer ses factures",description:"Créer des factures pour ses clients",category:"billing"},{id:"calendar.view.own",name:"Voir son planning",description:"Voir son planning",category:"calendar"},{id:"calendar.create.own",name:"Créer ses événements",description:"Créer ses événements",category:"calendar"},{id:"calendar.edit.own",name:"Modifier ses événements",description:"Modifier ses événements",category:"calendar"},{id:"pipeline.own",name:"Pipeline personnel",description:"Voir ses propres leads",category:"clients"}]},Bx=({isOpen:e,onClose:t,onAddStaff:r})=>{var o,c;const[n,l]=P.useState({name:"",email:"",phone:"",role:"COACH",specialties:""}),a=u=>{u.preventDefault();const h={id:Date.now(),name:n.name,email:n.email,phone:n.phone,role:n.role,specialties:n.specialties.split(",").map(p=>p.trim()).filter(p=>p),isActive:!0,createdAt:new Date().toISOString(),permissions:Vt[n.role]||[]};r(h),l({name:"",email:"",phone:"",role:"coach",specialties:""}),t()},i=u=>{l({...n,[u.target.name]:u.target.value})};return e?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 border border-gray-100",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50 rounded-t-2xl",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Ajouter un Membre"}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200 hover:shadow-sm",children:s.jsx(Ie,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(be,{className:"w-4 h-4 inline mr-2"}),"Nom Complet"]}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:i,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"Nom et prénom"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(fe,{className:"w-4 h-4 inline mr-2"}),"Email"]}),s.jsx("input",{type:"email",name:"email",value:n.email,onChange:i,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"email@exemple.com"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Ee,{className:"w-4 h-4 inline mr-2"}),"Téléphone"]}),s.jsx("input",{type:"tel",name:"phone",value:n.phone,onChange:i,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"+33 6 12 34 56 78"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Or,{className:"w-4 h-4 inline mr-2"}),"Rôle"]}),s.jsxs("select",{name:"role",value:n.role,onChange:i,required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",children:[s.jsx("option",{value:"COACH",children:"Coach"}),s.jsx("option",{value:"ADMIN",children:"Administrateur"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx(Li,{className:"w-4 h-4 inline mr-2"}),"Spécialités"]}),s.jsx("input",{type:"text",name:"specialties",value:n.specialties,onChange:i,className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm bg-white font-medium",placeholder:"Leadership, Confiance, Stress (séparés par des virgules)"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Permissions accordées :"}),s.jsxs("div",{className:"space-y-1",children:[(o=Vt[n.role])==null?void 0:o.slice(0,4).map(u=>s.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full mr-2"}),u.name]},u.id)),((c=Vt[n.role])==null?void 0:c.length)>4&&s.jsxs("div",{className:"text-xs text-gray-500",children:["+",Vt[n.role].length-4," autres permissions"]})]})]}),s.jsxs("div",{className:"flex space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2.5 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-all duration-200 font-semibold shadow-sm hover:shadow-md",children:"Annuler"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-semibold shadow-md hover:shadow-lg",children:"Ajouter"})]})]})]})}):null},Hx=({currentUser:e,staff:t,onAddStaff:r,onUpdateStaff:n,onDeleteStaff:l})=>{const[a,i]=P.useState(""),[o,c]=P.useState("all"),[u,h]=P.useState("all"),[p,y]=P.useState(!1),[b,S]=P.useState(null),[D,A]=P.useState(!1),[m,d]=P.useState(!1),[x,w]=P.useState(!1),[I,g]=P.useState(!1),f=t.filter(j=>{const z=j.name.toLowerCase().includes(a.toLowerCase())||j.email.toLowerCase().includes(a.toLowerCase()),J=o==="all"||j.role===o,te=u==="all"||u==="active"&&j.isActive||u==="inactive"&&!j.isActive;return z&&J&&te}),E=j=>{switch(j){case"admin":return"bg-red-100 text-red-800 border-red-200";case"coach":return"bg-blue-100 text-blue-800 border-blue-200";case"assistant":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},M=j=>{switch(j){case"admin":return"Administrateur";case"coach":return"Coach";case"assistant":return"Assistant";default:return j}},k=j=>{const z={...j,isActive:!j.isActive};n(z)},H=j=>{S(j),A(!0)},B=e.permissions.some(j=>j.id==="staff.manage");if(e.role!=="ADMIN")return s.jsx("div",{className:"bg-white min-h-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center px-4 py-12",children:[s.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(nt,{className:"w-12 h-12 text-red-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Accès Refusé"}),s.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"Vous n'avez pas les permissions nécessaires pour accéder à cette page."}),s.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Cette section est réservée aux administrateurs."})]})});const X=t.length,Z=t.filter(j=>j.isActive).length,ie=t.filter(j=>j.role==="coach").length,re=t.filter(j=>j.role==="admin").length;Kn.useEffect(()=>{const j=()=>{const z=window.scrollY;w(z>200)};return window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)},[]);const R=()=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"bg-gray-50 border-b border-gray-200 p-4",children:s.jsx("div",{className:"grid grid-cols-7 gap-4",children:[...Array(7)].map((j,z)=>s.jsx("div",{className:"h-4 bg-gray-200 rounded"},z))})}),[...Array(5)].map((j,z)=>s.jsx("div",{className:"border-b border-gray-100 p-4",children:s.jsxs("div",{className:"grid grid-cols-7 gap-4 items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full mr-3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-3 bg-gray-200 rounded w-32"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-24"})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-12"})]}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"}),s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"}),s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"})]})]})},z))]})}),s.jsx("div",{className:"lg:hidden space-y-4",children:[...Array(5)].map((j,z)=>s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full mr-3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})]}),s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsx("div",{className:"h-3 bg-gray-200 rounded w-full"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),s.jsxs("div",{className:"flex gap-1 mb-3",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-lg"}),s.jsx("div",{className:"flex-1 h-10 bg-gray-200 rounded-lg"}),s.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-lg"})]})]},z))})]}),L=()=>s.jsxs("div",{className:"text-center py-12 px-4",children:[s.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:s.jsx(nt,{className:"w-12 h-12 text-blue-600"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Aucun membre d'équipe trouvé"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:a||o!=="all"||u!=="all"?"Aucun membre ne correspond à vos critères de recherche. Essayez de modifier vos filtres.":"Commencez par ajouter votre premier membre d'équipe pour collaborer efficacement."}),B&&(a||o!=="all"||u!=="all")&&s.jsx("button",{onClick:()=>{i(""),c("all"),h("all")},className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-semibold mr-4",children:"Réinitialiser les filtres"}),B&&s.jsxs("button",{onClick:()=>y(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-semibold shadow-md hover:shadow-lg",children:[s.jsx(He,{className:"w-5 h-5 mr-2 inline"}),"Ajouter le premier membre"]})]}),N=()=>s.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-50 z-50 lg:hidden ${m?"block":"hidden"}`,children:s.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white rounded-t-2xl p-6 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtres"}),s.jsx("button",{onClick:()=>d(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200",children:s.jsx(Ie,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rôle"}),s.jsxs("select",{value:o,onChange:j=>c(j.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les rôles"}),s.jsx("option",{value:"admin",children:"Administrateurs"}),s.jsx("option",{value:"coach",children:"Coachs"}),s.jsx("option",{value:"assistant",children:"Assistants"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Statut"}),s.jsxs("select",{value:u,onChange:j=>h(j.target.value),className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"active",children:"Actifs"}),s.jsx("option",{value:"inactive",children:"Inactifs"})]})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6 pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>{c("all"),h("all")},className:"flex-1 px-4 py-2.5 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Réinitialiser"}),s.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Appliquer"})]})]})}),T=({user:j,onClose:z})=>s.jsxs("div",{className:"absolute right-0 top-8 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-10 min-w-[160px]",children:[s.jsxs("button",{onClick:()=>{H(j),z()},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center transition-colors",children:[s.jsx(pr,{className:"w-4 h-4 mr-2"}),"Voir détails"]}),B&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{alert("Fonctionnalité de modification à venir"),z()},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center transition-colors",children:[s.jsx(Un,{className:"w-4 h-4 mr-2"}),"Modifier"]}),s.jsxs("button",{onClick:()=>{k(j),z()},disabled:j.id===e.id,className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center transition-colors ${j.id===e.id?"text-gray-400 cursor-not-allowed":"text-gray-700"}`,children:[j.isActive?s.jsx($l,{className:"w-4 h-4 mr-2"}):s.jsx(lr,{className:"w-4 h-4 mr-2"}),j.id===e.id?"Votre compte":j.isActive?"Désactiver":"Activer"]}),j.id!==e.id&&s.jsxs("button",{onClick:()=>{confirm(`Êtes-vous sûr de vouloir supprimer ${j.name} ?`)&&l(j.id),z()},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center transition-colors",children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]})]});return s.jsxs("div",{className:"bg-gray-50 min-h-0",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Gestion de l'Équipe"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1 hidden sm:block",children:"Gérez les utilisateurs et leurs permissions"})]}),B&&s.jsxs("button",{onClick:()=>y(!0),className:"hidden lg:flex items-center px-4 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-md hover:shadow-lg font-semibold",children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),"Ajouter un Membre"]})]})})}),s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-3 sm:p-4 rounded-lg border border-blue-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(nt,{className:"w-4 h-4 text-blue-600"})}),s.jsxs("div",{className:"ml-3 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 truncate",children:"Total Équipe"}),s.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900",children:X})]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-3 sm:p-4 rounded-lg border border-green-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(lr,{className:"w-4 h-4 text-green-600"})}),s.jsxs("div",{className:"ml-3 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 truncate",children:"Actifs"}),s.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900",children:Z})]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-3 sm:p-4 rounded-lg border border-purple-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Li,{className:"w-4 h-4 text-purple-600"})}),s.jsxs("div",{className:"ml-3 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 truncate",children:"Coachs"}),s.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900",children:ie})]})]})}),s.jsx("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 p-3 sm:p-4 rounded-lg border border-red-100",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Or,{className:"w-4 h-4 text-red-600"})}),s.jsxs("div",{className:"ml-3 min-w-0",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 truncate",children:"Admins"}),s.jsx("p",{className:"text-sm sm:text-lg font-bold text-gray-900",children:re})]})]})})]})})}),s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsxs("div",{className:"px-4 sm:px-6 py-4",children:[s.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un membre...",value:a,onChange:j=>i(j.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("select",{value:o,onChange:j=>c(j.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]",children:[s.jsx("option",{value:"all",children:"Tous les rôles"}),s.jsx("option",{value:"admin",children:"Administrateurs"}),s.jsx("option",{value:"coach",children:"Coachs"}),s.jsx("option",{value:"assistant",children:"Assistants"})]}),s.jsxs("select",{value:u,onChange:j=>h(j.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent min-w-[140px]",children:[s.jsx("option",{value:"all",children:"Tous les statuts"}),s.jsx("option",{value:"active",children:"Actifs"}),s.jsx("option",{value:"inactive",children:"Inactifs"})]})]}),s.jsxs("div",{className:"lg:hidden space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Zt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher...",value:a,onChange:j=>i(j.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("button",{onClick:()=>d(!0),className:"flex items-center justify-center w-full px-4 py-2.5 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(gu,{className:"w-4 h-4 mr-2"}),"Filtres",(o!=="all"||u!=="all")&&s.jsx("span",{className:"ml-2 w-2 h-2 bg-blue-600 rounded-full"})]})]})]})}),s.jsx("div",{className:"px-4 sm:px-6 py-6 min-h-0 overflow-y-auto",children:I?s.jsx(R,{}):f.length===0?s.jsx(L,{}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden lg:block bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsx("div",{className:"table-scroll",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Membre"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Rôle"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Spécialités"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Dernière Connexion"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:f.map(j=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-md flex-shrink-0",children:s.jsx("span",{className:"text-sm font-bold text-white",children:j.name.split(" ").map(z=>z[0]).join("")})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",j.id]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full border ${E(j.role)}`,children:M(j.role)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:j.email}),s.jsx("div",{className:"text-sm text-gray-500",children:j.phone})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[j.specialties.slice(0,2).map((z,J)=>s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:z},J)),j.specialties.length>2&&s.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-600 rounded-full",children:["+",j.specialties.length-2]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${j.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.isActive?"Actif":"Inactif"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:j.lastLogin?new Date(j.lastLogin).toLocaleDateString("fr-FR"):"Jamais"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>H(j),className:"p-2 text-gray-400 hover:text-blue-600 rounded-lg hover:bg-blue-50 transition-all duration-200","aria-label":`Voir les détails de ${j.name}`,children:s.jsx(pr,{className:"w-4 h-4"})}),B&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>k(j),disabled:j.id===e.id,className:`p-2 rounded-lg transition-all duration-200 ${j.id===e.id?"text-gray-300 cursor-not-allowed":j.isActive?"text-gray-400 hover:text-red-600 hover:bg-red-50":"text-gray-400 hover:text-green-600 hover:bg-green-50"}`,"aria-label":j.id===e.id?"Votre compte":j.isActive?`Désactiver ${j.name}`:`Activer ${j.name}`,children:j.isActive?s.jsx($l,{className:"w-4 h-4"}):s.jsx(lr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>alert("Fonctionnalité de modification à venir"),className:"p-2 text-gray-400 hover:text-blue-600 rounded-lg hover:bg-blue-50 transition-all duration-200","aria-label":`Modifier ${j.name}`,children:s.jsx(Un,{className:"w-4 h-4"})}),j.id!==e.id&&s.jsx("button",{onClick:()=>{confirm(`Êtes-vous sûr de vouloir supprimer ${j.name} ?`)&&l(j.id)},className:"p-2 text-gray-400 hover:text-red-600 rounded-lg hover:bg-red-50 transition-all duration-200","aria-label":`Supprimer ${j.name}`,children:s.jsx(Wn,{className:"w-4 h-4"})})]})]})})]},j.id))})]})})}),s.jsx("div",{className:"hidden md:block lg:hidden bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsx("div",{className:"table-scroll",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Membre"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Rôle"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:f.map(j=>{const[z,J]=P.useState(!1);return s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-md flex-shrink-0",children:s.jsx("span",{className:"text-sm font-bold text-white",children:j.name.split(" ").map(te=>te[0]).join("")})}),s.jsx("div",{className:"ml-3",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:j.name})})]})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${E(j.role)}`,children:M(j.role)})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900 truncate max-w-[150px]",children:j.email})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.isActive?"Actif":"Inactif"})}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap relative",children:[s.jsx("button",{onClick:()=>J(!z),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200","aria-label":`Actions pour ${j.name}`,children:s.jsx(Hn,{className:"w-4 h-4"})}),z&&s.jsx(T,{user:j,onClose:()=>J(!1)})]})]},j.id)})})]})})}),s.jsx("div",{className:"md:hidden space-y-4",children:f.map(j=>{const[z,J]=P.useState(!1),te=j.role==="coach"||j.role==="admin"?Math.floor(Math.random()*15)+5:0;return s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-md flex-shrink-0",children:s.jsx("span",{className:"text-sm font-bold text-white",children:j.name.split(" ").map(xe=>xe[0]).join("")})}),s.jsxs("div",{className:"ml-3 min-w-0 flex-1",children:[s.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate",children:j.name}),s.jsx("p",{className:"text-sm text-gray-600",children:M(j.role)})]})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full flex-shrink-0 ${j.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.isActive?"Actif":"Inactif"})]}),s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(fe,{className:"w-4 h-4 mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:j.email})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Ee,{className:"w-4 h-4 mr-2 flex-shrink-0"}),s.jsx("span",{children:j.phone})]}),(j.role==="coach"||j.role==="admin")&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(be,{className:"w-4 h-4 mr-2 flex-shrink-0"}),s.jsxs("span",{children:[te," clients suivis"]})]})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:j.specialties.map((xe,v)=>s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full",children:xe},v))}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>H(j),className:"flex-1 px-3 py-2.5 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium min-h-[44px] flex items-center justify-center",children:[s.jsx(pr,{className:"w-4 h-4 mr-1"}),"Détails"]}),B&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>k(j),disabled:j.id===e.id,className:`flex-1 px-3 py-2.5 rounded-lg transition-colors text-sm font-medium min-h-[44px] flex items-center justify-center ${j.id===e.id?"bg-gray-100 text-gray-400 cursor-not-allowed":j.isActive?"bg-red-50 text-red-700 hover:bg-red-100":"bg-green-50 text-green-700 hover:bg-green-100"}`,children:[j.isActive?s.jsx($l,{className:"w-4 h-4 mr-1"}):s.jsx(lr,{className:"w-4 h-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:j.id===e.id?"Vous":j.isActive?"Désactiver":"Activer"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>J(!z),className:"p-2.5 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":`Plus d'actions pour ${j.name}`,children:s.jsx(Hn,{className:"w-4 h-4"})}),z&&s.jsx(T,{user:j,onClose:()=>J(!1)})]})]})]})]},j.id)})})]})}),B&&s.jsx("button",{onClick:()=>y(!0),className:"lg:hidden fixed bottom-6 right-6 w-14 h-14 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center z-50","aria-label":"Ajouter un membre d'équipe",children:s.jsx(He,{className:"w-6 h-6"})}),s.jsx(N,{}),s.jsx(Bx,{isOpen:p,onClose:()=>y(!1),onAddStaff:r}),b&&s.jsx(Ux,{isOpen:D,onClose:()=>A(!1),user:b,canEdit:B,onUpdateUser:n})]})},Ux=({isOpen:e,onClose:t,user:r,canEdit:n,onUpdateUser:l})=>{if(!e)return null;const a=o=>{switch(o){case"admin":return"bg-red-100 text-red-800 border-red-200";case"coach":return"bg-blue-100 text-blue-800 border-blue-200";case"assistant":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},i=o=>{switch(o){case"admin":return"Administrateur";case"coach":return"Coach";case"assistant":return"Assistant";default:return o}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl border border-gray-100 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100 bg-gradient-to-r from-white to-gray-50 rounded-t-2xl",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-md",children:s.jsx("span",{className:"text-lg font-bold text-white",children:r.name.split(" ").map(o=>o[0]).join("")})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.name}),s.jsx("p",{className:"text-sm text-gray-600",children:i(r.role)})]})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-all duration-200","aria-label":"Fermer",children:s.jsx(Ie,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informations Générales"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(fe,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Email"})]}),s.jsx("p",{className:"text-gray-900 break-all",children:r.email})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Ee,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Téléphone"})]}),s.jsx("p",{className:"text-gray-900",children:r.phone})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Or,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Rôle"})]}),s.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full border ${a(r.role)}`,children:i(r.role)})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(ce,{className:"w-4 h-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Membre depuis"})]}),s.jsx("p",{className:"text-gray-900",children:new Date(r.createdAt).toLocaleDateString("fr-FR")})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Spécialités"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.specialties.map((o,c)=>s.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-medium bg-blue-100 text-blue-800 rounded-full",children:o},c))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Permissions"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:["clients","billing","calendar","settings","reports"].map(o=>{const c=r.permissions.filter(u=>u.category===o);return c.length===0?null:s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2 capitalize",children:o}),s.jsx("div",{className:"space-y-1",children:c.map(u=>s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:u.name})]},u.id))})]},o)})})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50 rounded-b-2xl",children:s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[s.jsx("button",{onClick:t,className:"flex-1 px-4 py-2.5 text-gray-700 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-200 font-medium min-h-[44px]",children:"Fermer"}),n&&s.jsx("button",{onClick:()=>alert("Fonctionnalité de modification à venir"),className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium min-h-[44px]",children:"Modifier"})]})})]})})},tc=({clients:e,prospects:t,sessions:r,staff:n,currentUser:l})=>{const a=P.useMemo(()=>[{label:"Clients actifs (total)",value:e.filter(d=>d.status==="active").length,icon:nt,color:"blue"},{label:"Nouv. clients 30j (delta vs 30j-1)",value:(()=>{const d=new Date,x=new Date(d.getTime()-29*864e5),w=new Date(d.getTime()-59*864e5),I=new Date(d.getTime()-30*864e5),g=e.filter(E=>{const M=new Date(E.startDate);return M>=x&&M<=d}).length,f=e.filter(E=>{const M=new Date(E.startDate);return M>=w&&M<=I}).length;return adminDelta.value=f>0?Math.round((g-f)/f*100):g>0?100:0,g})(),icon:st,color:"green",delta:(globalThis.adminDelta||(globalThis.adminDelta={value:0}),globalThis.adminDelta)},{label:"Mes séances cette semaine",value:r.filter(d=>{const x=new Date(d.date),w=x.getDay();new Date(x).setDate(x.getDate()-w+(w===0?-6:1));const g=new Date,f=new Date(g),E=g.getDay();f.setDate(g.getDate()-E+(E===0?-6:1));const M=new Date(f.getTime()+6*864e5);return x>=f&&x<=M&&d.assignedCoachId===l.id}).length,icon:ce,color:"purple"},{label:"Séances réalisées (total)",value:r.filter(d=>d.status==="completed").length,icon:Pe,color:"orange"}],[e,r,l.id]),i=P.useMemo(()=>[{label:"Mes clients actifs",value:e.filter(d=>d.status==="active"&&d.assignedCoachId===l.id).length,icon:nt,color:"blue"},{label:"Nouv. clients 30j (moi)",value:(()=>{const d=new Date,x=new Date(d.getTime()-29*864e5);return e.filter(w=>w.assignedCoachId===l.id&&new Date(w.startDate)>=x&&new Date(w.startDate)<=d).length})(),icon:st,color:"green"},{label:"Mes séances cette semaine",value:r.filter(d=>{const x=new Date,w=x.getDay(),I=new Date(x);I.setDate(x.getDate()-w+(w===0?-6:1));const g=new Date(I.getTime()+6*864e5),f=new Date(d.date);return f>=I&&f<=g&&d.assignedCoachId===l.id}).length,icon:ce,color:"purple"},{label:"Séances réalisées (total)",value:r.filter(d=>d.status==="completed"&&d.assignedCoachId===l.id).length,icon:Pe,color:"orange"}],[e,r,l.id]);l.role;const o=e.length,c=e.filter(d=>d.status==="active").length,u=e.reduce((d,x)=>d+x.billing.totalPaid,0);e.reduce((d,x)=>d+x.billing.totalDue,0);const h=t.length,p=t.filter(d=>d.status==="negotiation"||d.status==="proposal_sent").length,y=r.filter(d=>{const x=new Date(d.date),w=new Date;return x.toDateString()===w.toDateString()}).length,b=r.filter(d=>d.status==="completed").length,S=n.filter(d=>d.role==="coach"&&d.isActive).length,D=[{month:"Jan",revenue:12e3},{month:"Fév",revenue:15e3},{month:"Mar",revenue:18e3},{month:"Avr",revenue:16e3},{month:"Mai",revenue:22e3},{month:"Juin",revenue:25e3}],A=[{stage:"Nouveau",count:t.filter(d=>d.status==="lead").length},{stage:"1er contact",count:t.filter(d=>d.status==="contacted").length},{stage:"Découverte",count:t.filter(d=>d.status==="meeting_scheduled").length},{stage:"Devis",count:t.filter(d=>d.status==="proposal_sent").length},{stage:"Négociation",count:t.filter(d=>d.status==="negotiation").length}],m=[{id:1,type:"client",message:"Nouveau client ajouté: Sophie Laurent",time:"2h",icon:nt},{id:2,type:"session",message:"Séance terminée avec Thomas Rousseau",time:"4h",icon:Pe},{id:3,type:"invoice",message:"Facture INV-2024-001 payée",time:"6h",icon:Ar},{id:4,type:"prospect",message:"Nouveau lead: Marie Dubois",time:"1j",icon:st}];return s.jsxs("div",{className:"bg-gray-50 min-h-0",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"px-4 sm:px-6 py-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Vue d'ensemble de votre activité coaching"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[s.jsx(ce,{className:"w-4 h-4"}),s.jsx("span",{children:new Date().toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})})}),s.jsxs("div",{className:"px-4 sm:px-6 py-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(nt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),s.jsxs("div",{className:"ml-3 sm:ml-4",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Clients Actifs"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:c}),s.jsxs("p",{className:"text-xs text-gray-500",children:["sur ",o," total"]})]})]})}),s.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Ar,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})}),s.jsxs("div",{className:"ml-3 sm:ml-4",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"CA Total"}),s.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:[u.toLocaleString("fr-FR"),"€"]}),s.jsxs("div",{className:"flex items-center text-xs text-green-600",children:[s.jsx(Y0,{className:"w-3 h-3 mr-1"}),"+12% ce mois"]})]})]})}),s.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(st,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600"})}),s.jsxs("div",{className:"ml-3 sm:ml-4",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Prospects Chauds"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:p}),s.jsxs("p",{className:"text-xs text-gray-500",children:["sur ",h," total"]})]})]})}),s.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(Pe,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600"})}),s.jsxs("div",{className:"ml-3 sm:ml-4",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Séances Aujourd'hui"}),s.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:y}),s.jsxs("p",{className:"text-xs text-gray-500",children:[b," terminées"]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Évolution du CA"}),s.jsx(fu,{className:"w-5 h-5 text-gray-400"})]}),s.jsx("div",{className:"space-y-4",children:D.map((d,x)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:d.month}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${d.revenue/25e3*100}%`}})}),s.jsxs("span",{className:"text-sm font-medium text-gray-900 w-16 text-right",children:[d.revenue.toLocaleString("fr-FR"),"€"]})]})]},x))})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pipeline Commercial"}),s.jsx(vx,{className:"w-5 h-5 text-gray-400"})]}),s.jsx("div",{className:"space-y-4",children:A.map((d,x)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:d.stage}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${Math.max(d.count/Math.max(...A.map(w=>w.count))*100,10)}%`}})}),s.jsx("span",{className:"text-sm font-medium text-gray-900 w-8 text-right",children:d.count})]})]},x))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Activité Récente"}),s.jsx(Q0,{className:"w-5 h-5 text-gray-400"})]}),s.jsx("div",{className:"space-y-4",children:m.map(d=>{const x=d.icon;return s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(x,{className:"w-4 h-4 text-gray-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-gray-900",children:d.message}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Il y a ",d.time]})]})]},d.id)})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Équipe"}),s.jsx(Li,{className:"w-5 h-5 text-gray-400"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Coachs Actifs"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:S})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Équipe"}),s.jsx("span",{className:"text-lg font-bold text-gray-900",children:n.length})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsx("div",{className:"space-y-3",children:n.filter(d=>d.role==="coach").slice(0,3).map(d=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-white",children:d.name.split(" ").map(x=>x[0]).join("")})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:d.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[e.filter(x=>x.assignedCoachId===d.id).length," clients"]})]})]},d.id))})})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Alertes & Actions"}),s.jsx(Vn,{className:"w-5 h-5 text-orange-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Vn,{className:"w-5 h-5 text-orange-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Factures en retard"})]}),s.jsxs("p",{className:"text-xs text-orange-700 mt-1",children:[e.reduce((d,x)=>d+x.billing.invoices.filter(w=>w.status==="overdue").length,0)," factures à relancer"]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ce,{className:"w-5 h-5 text-blue-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Séances à venir"})]}),s.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:[r.filter(d=>d.status==="scheduled").length," séances planifiées cette semaine"]})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(st,{className:"w-5 h-5 text-green-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-green-800",children:"Prospects chauds"})]}),s.jsxs("p",{className:"text-xs text-green-700 mt-1",children:[p," prospects prêts à signer"]})]})]})]})]})]})},Vl=()=>s.jsx("div",{className:"bg-white min-h-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center px-4 py-12",children:[s.jsx("div",{className:"w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Or,{className:"w-12 h-12 text-red-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Accès Refusé"}),s.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"Vous n'avez pas les permissions nécessaires pour accéder à cette page."}),s.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Cette section est réservée aux administrateurs. Contactez votre administrateur si vous pensez que c'est une erreur."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center justify-center px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[s.jsx(G0,{className:"w-4 h-4 mr-2"}),"Retour"]}),s.jsxs("button",{onClick:()=>window.location.href="/",className:"flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[s.jsx(ax,{className:"w-4 h-4 mr-2"}),"Accueil"]})]}),s.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Permissions requises"}),s.jsx("p",{className:"text-xs text-blue-800",children:"Cette page nécessite des privilèges d'administrateur pour être consultée."})]})]})}),qx=({onLogin:e})=>{const[t,r]=P.useState("admin@coachcrm.com"),[n,l]=P.useState("admin123"),[a,i]=P.useState("admin"),o=c=>{c.preventDefault(),t&&n&&e(a)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"CoachCRM"}),s.jsx("p",{className:"text-gray-600",children:"Connectez-vous à votre compte"})]}),s.jsxs("form",{onSubmit:o,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rôle de démonstration"}),s.jsxs("select",{value:a,onChange:c=>i(c.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"admin",children:"Administrateur"}),s.jsx("option",{value:"coach",children:"Coach"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:t,onChange:c=>r(c.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"votre@email.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),s.jsx("input",{type:"password",value:n,onChange:c=>l(c.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••",required:!0})]}),s.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 font-semibold",children:"Se connecter"})]}),s.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[s.jsx("p",{children:"Compte de démonstration :"}),s.jsx("p",{children:"Email: admin@coachcrm.com"}),s.jsx("p",{children:"Mot de passe: admin123"}),s.jsx("p",{className:"mt-2 text-blue-600 font-medium",children:'Choisissez "Administrateur" ou "Coach" pour tester les différentes interfaces'}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-2",children:[s.jsx("button",{type:"button",onClick:()=>e("coach"),className:"w-full border border-indigo-300 text-indigo-700 px-3 py-2 rounded-lg hover:bg-indigo-50 transition","aria-label":"Connexion démo en tant que Coach",children:"Démo Coach"}),s.jsx("button",{type:"button",onClick:()=>e("admin"),className:"w-full border border-gray-300 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-50 transition","aria-label":"Connexion démo en tant qu'Administrateur",children:"Démo Admin"})]})]})]})})},Bl=()=>s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"404"}),s.jsx("p",{className:"text-gray-600",children:"Page non trouvée"})]})});function Wx(){const[e,t]=P.useState("/admin/dashboard"),[r,n]=P.useState(null),[l,a]=P.useState(null),[i,o]=P.useState(!1),[c,u]=P.useState([]),[h,p]=P.useState(!1),[y,b]=P.useState(!0),[S,D]=P.useState("light"),[A,m]=P.useState("comfortable"),[d,x]=P.useState("ADMIN"),[w,I]=P.useState(!1),[g,f]=P.useState({id:1,name:d==="ADMIN"?"Admin User":"Marie Coach",email:d==="ADMIN"?"admin@coachcrm.com":"marie@coachcrm.com",phone:"+33 6 12 34 56 78",role:d,permissions:Vt[d],isActive:!0,createdAt:"2024-01-01",specialties:d==="ADMIN"?["Leadership","Développement personnel"]:["Confiance en soi","Carrière"]}),[E,M]=P.useState([{id:1,name:"Marie Dubois",email:"marie.dubois@email.com",phone:"+33 6 12 34 56 78",source:"Site web",status:"meeting_scheduled",tags:["Confiance en soi","Carrière"],lastContact:"2 jours",starred:!0,coachingGoals:"Développer sa confiance pour évoluer professionnellement",budget:"150-200€/mois",timeline:"6 mois",assignedCoachId:2},{id:2,name:"Pierre Martin",email:"pierre.martin@email.com",phone:"+33 6 23 45 67 89",source:"Recommandation",status:"proposal_sent",tags:["Stress","Équilibre vie pro/perso"],lastContact:"1 semaine",starred:!1,coachingGoals:"Gérer le stress et trouver un meilleur équilibre",budget:"100-150€/mois",timeline:"3-4 mois",assignedCoachId:1}]),[k,H]=P.useState([{id:1,name:"Sophie Laurent",email:"sophie.laurent@email.com",phone:"+33 6 34 56 78 90",company:"",status:"active",tags:["Leadership","Confiance"],lastContact:"3 jours",starred:!0,coachingProgram:"Leadership & Confiance - 12 séances",startDate:"2024-01-15",sessionsCompleted:8,totalSessions:12,nextSession:"2024-01-25 14:00",goals:["Développer son leadership","Prendre la parole en public","Gérer une équipe"],progress:"Excellents progrès, plus à l'aise en réunion",value:1800,assignedCoachId:2,billing:{hourlyRate:150,packagePrice:1800,paymentMethod:"package",invoices:[{id:1,clientId:1,invoiceNumber:"INV-2024-001",date:"2024-01-15",dueDate:"2024-02-15",amount:1800,status:"paid",items:[{id:1,description:"Programme Leadership & Confiance - 12 séances",quantity:1,unitPrice:1800,total:1800}]}],totalPaid:1800,totalDue:0}},{id:2,name:"Thomas Rousseau",email:"thomas.rousseau@email.com",phone:"+33 6 45 67 89 01",company:"",status:"active",tags:["Reconversion","Motivation"],lastContact:"1 semaine",starred:!1,coachingProgram:"Reconversion Professionnelle - 8 séances",startDate:"2024-01-08",sessionsCompleted:4,totalSessions:8,nextSession:"2024-01-28 10:00",goals:["Clarifier son projet professionnel","Développer un plan d'action","Retrouver la motivation"],progress:"Projet se précise, motivation en hausse",value:1200,assignedCoachId:2,billing:{hourlyRate:150,packagePrice:1200,paymentMethod:"package",invoices:[{id:2,clientId:2,invoiceNumber:"INV-2024-002",date:"2024-01-08",dueDate:"2024-02-08",amount:600,status:"paid",items:[{id:1,description:"Acompte Programme Reconversion - 50%",quantity:1,unitPrice:600,total:600}]},{id:3,clientId:2,invoiceNumber:"INV-2024-003",date:"2024-01-22",dueDate:"2024-02-22",amount:600,status:"sent",items:[{id:1,description:"Solde Programme Reconversion - 50%",quantity:1,unitPrice:600,total:600}]}],totalPaid:600,totalDue:600}},{id:3,name:"Isabelle Moreau",email:"isabelle.moreau@email.com",phone:"+33 6 56 78 90 12",company:"",status:"completed",tags:["Confiance en soi","Prise de parole"],lastContact:"2 semaines",starred:!1,coachingProgram:"Confiance & Communication - 10 séances",startDate:"2023-11-01",sessionsCompleted:10,totalSessions:10,goals:["Prendre confiance en soi","Améliorer sa communication","Oser s'exprimer"],progress:"Objectifs atteints avec succès",value:1500,assignedCoachId:1,billing:{hourlyRate:150,packagePrice:1500,paymentMethod:"package",invoices:[{id:4,clientId:3,invoiceNumber:"INV-2023-015",date:"2023-11-01",dueDate:"2023-12-01",amount:1500,status:"paid",items:[{id:1,description:"Programme Confiance & Communication - 10 séances",quantity:1,unitPrice:1500,total:1500}]}],totalPaid:1500,totalDue:0}}]),[B,X]=P.useState([{id:1,name:"Admin User",email:"admin@coachcrm.com",phone:"+33 6 12 34 56 78",role:"ADMIN",permissions:Vt.ADMIN,isActive:!0,createdAt:"2024-01-01",specialties:["Leadership","Développement personnel"]},{id:2,name:"Marie Coach",email:"marie@coachcrm.com",phone:"+33 6 23 45 67 89",role:"COACH",permissions:Vt.COACH,isActive:!0,createdAt:"2024-01-15",specialties:["Confiance en soi","Carrière"]}]);Kn.useEffect(()=>{const q={id:d==="ADMIN"?1:2,name:d==="ADMIN"?"Admin User":"Marie Coach",email:d==="ADMIN"?"admin@coachcrm.com":"marie@coachcrm.com",phone:"+33 6 12 34 56 78",role:d,permissions:Vt[d],isActive:!0,createdAt:"2024-01-01",specialties:d==="ADMIN"?["Leadership","Développement personnel"]:["Confiance en soi","Carrière"]};f(q),d==="ADMIN"&&!e.startsWith("/admin/")?t("/admin/dashboard"):d==="COACH"&&!e.startsWith("/coach/")&&t("/coach/pipeline")},[d,e]);const Z=q=>{n(q),a(null)},ie=q=>{a(q),n(null)},re=()=>{n(null),a(null)},R=q=>{H(k.map(Re=>Re.id===q.id?q:Re)),a(q)},L=q=>{M([...E,q])},N=q=>{H([...k,q])},T=q=>{X([...B,q])},j=q=>{X(B.map(Re=>Re.id===q.id?q:Re))},z=q=>{if(q===g.id){alert("Vous ne pouvez pas supprimer votre propre compte");return}X(B.filter(Re=>Re.id!==q))},J=()=>{b(!1),p(!1)},te=q=>{I(!0),setTimeout(()=>{b(!0),x(q),I(!1)},1e3)},xe=()=>{t("settings"),p(!1)},v=q=>{D(q),document.documentElement.classList.toggle("dark",q==="dark")},F=q=>{m(q),document.documentElement.classList.toggle("compact",q==="compact")},W=g.role==="ADMIN"?{prospects:E,clients:k,sessions:c,staff:B}:{prospects:E.filter(q=>q.assignedCoachId===g.id),clients:k.filter(q=>q.assignedCoachId===g.id),sessions:c.filter(q=>{const Re=k.find(C=>C.id===q.clientId);return Re&&Re.assignedCoachId===g.id}),staff:B.filter(q=>q.id===g.id)},Ue=()=>g.role==="ADMIN",pt=q=>({"/admin/dashboard":"Dashboard","/admin/pipeline":"Pipeline","/admin/clients":"Clients","/admin/calendrier":"Calendrier","/admin/seances":"Séances","/admin/facturation":"Facturation","/admin/equipe":"Équipe","/admin/settings":"Paramètres","/coach/pipeline":"Pipeline","/coach/clients":"Clients","/coach/calendrier":"Calendrier","/coach/seances":"Séances","/coach/facturation":"Facturation","/coach/settings":"Paramètres"})[q]||"Page non trouvée",ss=()=>{if(e.startsWith("/admin/")){if(!Ue())return s.jsx(Vl,{});switch(e.replace("/admin/","")){case"dashboard":return s.jsx(tc,{clients:k,prospects:E,sessions:c,staff:B});case"pipeline":return s.jsx(Ol,{prospects:E,onSelectProspect:Z,selectedProspectId:(r==null?void 0:r.id)||null,onAddProspect:L,currentUser:g,staff:B});case"clients":return s.jsx(Ko,{onSelectClient:ie,selectedClientId:(l==null?void 0:l.id)||null,clients:k,onAddClient:N,staff:B,currentUser:g,sessions:c});case"calendrier":return s.jsx(Xo,{clients:k,prospects:E,staff:B,currentUser:g});case"seances":return s.jsx(Zo,{clients:k,sessions:c,onUpdateSessions:u});case"facturation":return s.jsx(ec,{clients:k,onUpdateClient:R,currentUser:g});case"equipe":return s.jsx(Hx,{currentUser:g,staff:B,onAddStaff:T,onUpdateStaff:j,onDeleteStaff:z});case"settings":return s.jsx(Jo,{theme:S,density:A,onThemeChange:v,onDensityChange:F,currentUser:g});default:return s.jsx(Bl,{})}}if(e.startsWith("/coach/")){if(g.role!=="COACH")return s.jsx(Vl,{});switch(e.replace("/coach/","")){case"pipeline":return s.jsx(Ol,{prospects:W.prospects,onSelectProspect:Z,selectedProspectId:(r==null?void 0:r.id)||null,onAddProspect:L,currentUser:g,staff:B});case"clients":return s.jsx(Ko,{onSelectClient:ie,selectedClientId:(l==null?void 0:l.id)||null,clients:W.clients,onAddClient:N,staff:B,currentUser:g,sessions:W.sessions});case"calendrier":return s.jsx(Xo,{clients:W.clients,prospects:W.prospects,staff:B,currentUser:g});case"seances":return s.jsx(Zo,{clients:W.clients,sessions:W.sessions,onUpdateSessions:u});case"facturation":return s.jsx(ec,{clients:W.clients,onUpdateClient:R,currentUser:g});case"settings":return s.jsx(Jo,{theme:S,density:A,onThemeChange:v,onDensityChange:F,currentUser:g});default:return s.jsx(Bl,{})}}switch(e){case"403":return s.jsx(Vl,{});case"404":return s.jsx(Bl,{});default:return g.role==="ADMIN"?(t("/admin/dashboard"),s.jsx(tc,{clients:k,prospects:E,sessions:c,staff:B})):(t("/coach/pipeline"),s.jsx(Ol,{prospects:W.prospects,onSelectProspect:Z,selectedProspectId:(r==null?void 0:r.id)||null,onAddProspect:L,currentUser:g,staff:B}))}};return y?w?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Connexion en cours..."})]})}):s.jsxs("div",{className:`min-h-screen bg-gray-50 ${S==="dark"?"dark":""} ${A==="compact"?"compact":""}`,children:[s.jsxs("div",{className:"flex h-screen",children:[s.jsx(Cx,{activeSection:e,onSectionChange:t,isOpen:i,onToggle:()=>o(!i),currentUser:g}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>o(!i),className:"lg:hidden p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100",children:s.jsx(hx,{className:"h-6 w-6"})}),s.jsx("h1",{className:"ml-4 lg:ml-0 text-2xl font-semibold text-gray-900",children:pt(e)})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>p(!h),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:s.jsx(be,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{className:"hidden md:block text-left",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.name}),s.jsx("p",{className:"text-xs text-gray-500",children:g.role==="ADMIN"?"Administrateur":"Coach"})]}),s.jsx(tx,{className:"h-4 w-4 text-gray-500"})]}),h&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200",children:[s.jsxs("button",{onClick:xe,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[s.jsx(Ra,{className:"h-4 w-4 mr-3"}),"Paramètres"]}),s.jsxs("button",{onClick:J,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[s.jsx(mx,{className:"h-4 w-4 mr-3"}),"Se déconnecter"]})]})]})]})}),s.jsx("main",{className:"flex-1 overflow-auto",children:s.jsxs("div",{className:"flex h-full",children:[s.jsx("div",{className:`flex-1 ${r||l?"lg:w-2/3":"w-full"}`,children:ss()}),(r||l)&&s.jsx("div",{className:"hidden lg:block lg:w-1/3 border-l border-gray-200 bg-white",children:s.jsx(Yo,{prospect:r,client:l,onClose:re,onUpdateClient:R,staff:B,currentUser:g})})]})})]})]}),(r||l)&&s.jsx("div",{className:"lg:hidden fixed inset-0 z-50 bg-white",children:s.jsx(Yo,{prospect:r,client:l,onClose:re,onUpdateClient:R,staff:B,currentUser:g})})]}):s.jsx(qx,{onLogin:te})}hu(document.getElementById("root")).render(s.jsx(P.StrictMode,{children:s.jsx(Wx,{})}));
